prt_write_real(double val, int prec)
{
    int     integer;
    int     fraction;
    prt_real_bits(val, prec, &integer, &fraction);
    sprintf((char *)prt_line_buffer, "%d", integer);
    if (fraction != 0)
    {
	while ((fraction % 10) == 0)
	{
	    prec--;
	    fraction /= 10;
	}
	sprintf((char *)prt_line_buffer, ".%0*d", prec, fraction);
	prt_write_file(prt_line_buffer);
    }
    sprintf((char *)prt_line_buffer, " ");
    prt_write_file(prt_line_buffer);
}
