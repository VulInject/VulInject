  ft_mem_table_remove( FT_MemTable  table,
                       FT_Byte*     address,
                       FT_Long      delta )
  {
    if ( table )
    {
      FT_MemNode  *pnode, node;
      pnode = ft_mem_table_get_nodep( table, address );
      node  = *pnode;
      if ( node )
      {
        FT_MemSource  source;
        if ( node->size < 0 )
          ft_mem_debug_panic(
            "freeing memory block at %p more than once\n"
            "  at (%s:%ld)!\n"
            "  Block was allocated at (%s:%ld)\n"
            "  and released at (%s:%ld).",
            address,
            FT_FILENAME( ft_debug_file_ ), ft_debug_lineno_,
            FT_FILENAME( node->source->file_name ), node->source->line_no,
            FT_FILENAME( node->free_file_name ), node->free_line_no );
        FT_MEM_SET( address, 0xF3, node->size );
        if ( delta == 0 )
        {
          source = node->source;
          source->cur_blocks--;
          source->cur_size -= node->size;
          table->alloc_current -= node->size;
        }
        if ( table->keep_alive )
        {
          node->size           = -node->size;
          node->free_file_name = ft_debug_file_;
          node->free_line_no   = ft_debug_lineno_;
        }
        else
        {
          table->nodes--;
          *pnode = node->link;
          node->size   = 0;
          node->source = NULL;
          ft_mem_table_free( table, node );
          if ( table->nodes * 3 < table->size  ||
               table->size  * 3 < table->nodes )
        }
      }
      else
        ft_mem_debug_panic(
          "trying to free unknown block at %p in (%s:%ld)\n",
          address,
          FT_FILENAME( ft_debug_file_ ), ft_debug_lineno_ );
    }
  }
