  cff_builder_init( CFF_Builder*   builder,
                    TT_Face        face,
                    CFF_Size       size,
                    CFF_GlyphSlot  glyph,
                    FT_Bool        hinting )
  {
    builder->path_begun  = 0;
    builder->load_points = 1;
    builder->face   = face;
    builder->glyph  = glyph;
    builder->memory = face->root.memory;
    if ( glyph )
    {
      FT_GlyphLoader  loader = glyph->root.internal->loader;
      builder->loader  = loader;
      builder->base    = &loader->base.outline;
      builder->current = &loader->current.outline;
      builder->hints_globals = NULL;
      builder->hints_funcs   = NULL;
      if ( hinting && size )
      {
        FT_Size       ftsize   = FT_SIZE( size );
        CFF_Internal  internal = (CFF_Internal)ftsize->internal->module_data;
        if ( internal )
        {
          builder->hints_globals = (void *)internal->topfont;
          builder->hints_funcs   = glyph->root.internal->glyph_hints;
        }
      }
    }
    builder->pos_x = 0;
    builder->pos_y = 0;
    builder->left_bearing.x = 0;
    builder->left_bearing.y = 0;
    builder->advance.x      = 0;
    builder->advance.y      = 0;
    builder->funcs = cff_builder_funcs;
  }
