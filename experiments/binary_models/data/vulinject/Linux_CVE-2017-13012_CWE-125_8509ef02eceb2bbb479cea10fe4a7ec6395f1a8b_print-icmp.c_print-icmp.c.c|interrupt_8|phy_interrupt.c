static inline unsigned int phy_interrupt (struct net_device *dev)
{
#ifdef __hppa__
	struct tulip_private *tp = netdev_priv(dev);
	int csr12 = ioread32(tp->base_addr + CSR12) & 0xff;
	if (csr12 != tp->csr12_shadow) {
		iowrite32(csr12 | 0x02, tp->base_addr + CSR12);
		tp->csr12_shadow = csr12;
		tulip_check_duplex(dev);
		spin_unlock(&tp->lock);
		iowrite32(csr12 & ~0x02, tp->base_addr + CSR12);
		return 1;
	}
#endif
	return 0;
}
