ucp_handle_IRAstring(proto_tree *tree, tvbuff_t *tvb, int field, int *offset)
{
    GByteArray    *bytes;
    wmem_strbuf_t *strbuf;
    char          *strval = NULL;
    int           idx, len;
    int           tmpoff;
    idx = tvb_find_guint8(tvb, *offset, -1, '/');
    if (idx == -1) {
        len = tvb_captured_length_remaining(tvb, *offset);
        tvb_ensure_bytes_exist(tvb, *offset, len + 1);
    } else {
        len = idx - *offset;
    }
    bytes = g_byte_array_sized_new(len);
    if (tvb_get_string_bytes(tvb, *offset, len, ENC_ASCII|ENC_STR_HEX|ENC_SEP_NONE, bytes, &tmpoff)) {
        strval = get_ts_23_038_7bits_string_unpacked(wmem_packet_scope(), bytes->data, bytes->len);
    }
    strbuf = wmem_strbuf_new(wmem_packet_scope(), strval);
    while ((tmpoff + 1) < idx) {
        wmem_strbuf_append_unichar_repl(strbuf);
        tmpoff += 2;
        if ((tmpoff + 1) >= idx) break;
        bytes = g_byte_array_set_size(bytes, 0);
        if (tvb_get_string_bytes(tvb, tmpoff, idx-tmpoff, ENC_ASCII|ENC_STR_HEX|ENC_SEP_NONE, bytes, &tmpoff)) {
            strval = get_ts_23_038_7bits_string_unpacked(wmem_packet_scope(), bytes->data, bytes->len);
        }
    }
    if (tmpoff < idx) {
        wmem_strbuf_append_unichar_repl(strbuf);
    }
    g_byte_array_free(bytes, TRUE);
    if (len > 0) {
        proto_tree_add_string(tree, field, tvb, *offset,
                              len, wmem_strbuf_finalize(strbuf));
    }
    *offset += len;
    if (idx != -1)
        *offset += 1;   
}
