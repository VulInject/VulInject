static int ipvs_proc_est_nice(struct ctl_table *table, int write,
			      void *buffer, size_t *lenp, loff_t *ppos)
{
	struct netns_ipvs *ipvs = table->extra2;
	int *valp = table->data;
	int val = *valp;
	int ret;
	struct ctl_table tmp_table = {
		.data = &val,
		.maxlen = sizeof(int),
		.mode = table->mode,
	};
	ret = proc_dointvec(&tmp_table, write, buffer, lenp, ppos);
	if (write && ret >= 0) {
		if (val < MIN_NICE || val > MAX_NICE) {
			ret = -EINVAL;
		} else {
			if (*valp != val) {
				*valp = val;
				ip_vs_est_reload_start(ipvs);
			}
			mutex_unlock(&ipvs->est_mutex);
		}
	}
	return ret;
}
