f_inputlist(typval_T *argvars, typval_T *rettv)
{
    list_T	*l;
    listitem_T	*li;
    int		selected;
    int		mouse_used;
#ifdef NO_CONSOLE_INPUT
    if (no_console_input() && !is_not_a_term())
	return;
#endif
    if (in_vim9script() && check_for_list_arg(argvars, 0) == FAIL)
	return;
    if (argvars[0].v_type != VAR_LIST || argvars[0].vval.v_list == NULL)
    {
	semsg(_(e_argument_of_str_must_be_list), "inputlist()");
	return;
    }
    msg_start();
    msg_row = Rows - 1;	
    lines_left = Rows;	
    msg_scroll = TRUE;
    msg_clr_eos();
    l = argvars[0].vval.v_list;
    FOR_ALL_LIST_ITEMS(l, li)
    {
	msg_puts((char *)tv_get_string(&li->li_tv));
	msg_putchar('\n');
    }
    selected = prompt_for_number(&mouse_used);
    if (mouse_used)
	selected -= lines_left;
    rettv->vval.v_number = selected;
}
