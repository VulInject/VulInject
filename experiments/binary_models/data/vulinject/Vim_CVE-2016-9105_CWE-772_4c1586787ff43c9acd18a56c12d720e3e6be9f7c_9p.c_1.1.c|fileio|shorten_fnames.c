shorten_fnames(int force)
{
    char_u	dirname[MAXPATHL];
    buf_T	*buf;
    FOR_ALL_BUFFERS(buf)
    {
	shorten_buf_fname(buf, dirname, force);
	mf_fullname(buf->b_ml.ml_mfp);
    }
    status_redraw_all();
    redraw_tabline = TRUE;
#if defined(FEAT_PROP_POPUP) && defined(FEAT_QUICKFIX)
    popup_update_preview_title();
#endif
}
