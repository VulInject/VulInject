size_t pcpu_alloc_size(void __percpu *ptr)
{
	struct pcpu_chunk *chunk;
	unsigned int bit_off, end;
	addr = __pcpu_ptr_to_addr(ptr);
	chunk = pcpu_chunk_addr_search(addr);
	bit_off = (addr - chunk->base_addr) / PCPU_MIN_ALLOC_SIZE;
	end = find_next_bit(chunk->bound_map, pcpu_chunk_map_bits(chunk),
			    bit_off + 1);
	return (end - bit_off) * PCPU_MIN_ALLOC_SIZE;
}
