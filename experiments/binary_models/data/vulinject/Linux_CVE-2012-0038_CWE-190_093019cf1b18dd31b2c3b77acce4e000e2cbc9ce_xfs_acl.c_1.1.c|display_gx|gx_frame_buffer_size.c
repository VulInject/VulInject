unsigned int gx_frame_buffer_size(void)
{
	unsigned int val;
	if (!cs5535_has_vsa2()) {
	int hi, lo;
		rdmsr(MSR_GLIU_P2D_RO0, lo, hi);
		val = ((hi & 0xff) << 12) | ((lo & 0xfff00000) >> 20);
		val -= (lo & 0x000fffff);
		val += 1;
		return (val << 12);
	}
	outw(VSA_VR_UNLOCK, VSA_VRC_INDEX);
	outw(VSA_VR_MEM_SIZE, VSA_VRC_INDEX);
	val = (unsigned int)(inw(VSA_VRC_DATA)) & 0xFFl;
	return (val << 19);
}
