static void timer_emulate(struct arch_timer_context *ctx)
{
	trace_kvm_timer_emulate(ctx, should_fire);
	if (should_fire != ctx->irq.level) {
		kvm_timer_update_irq(ctx->vcpu, should_fire, ctx);
		return;
	}
	if (should_fire || !kvm_timer_irq_can_fire(ctx))
		return;
	soft_timer_start(&ctx->hrtimer, kvm_timer_compute_delta(ctx));
}
