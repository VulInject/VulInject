set_init_1(int clean_arg)
{
#ifdef FEAT_LANGMAP
    langmap_init();
#endif
    p_cp = TRUE;
    if (mch_getenv((char_u *)"VIM_POSIX") != NULL)
    {
	set_string_default("cpo", (char_u *)CPO_ALL);
	set_string_default("shm", (char_u *)SHM_POSIX);
    }
    set_init_default_shell();
    set_init_default_backupskip();
    set_init_default_maxmemtot();
    set_init_default_cdpath();
    set_init_default_printencoding();
#ifdef FEAT_POSTSCRIPT
    set_init_default_printexpr();
#endif
    set_options_default(0);
#ifdef UNIX
    set_init_xdg_rtp();
    set_init_restricted_mode();
#endif
#ifdef CLEAN_RUNTIMEPATH
    if (clean_arg)
	set_init_clean_rtp();
#endif
#ifdef FEAT_GUI
    if (found_reverse_arg)
	set_option_value_give_err((char_u *)"bg", 0L, (char_u *)"dark", 0);
#endif
    curbuf->b_p_initialized = TRUE;
    curbuf->b_p_ar = -1;	
    curbuf->b_p_ul = NO_LOCAL_UNDOLEVEL;
    check_win_options(curwin);
    check_options();
    didset_options();
#ifdef FEAT_SPELL
    init_spell_chartab();
#endif
    set_init_default_encoding();
    set_init_expand_env();
    save_file_ff(curbuf);	
#if defined(FEAT_ARABIC)
    if (mch_getenv((char_u *)"MLTERM") != NULL)
	set_option_value_give_err((char_u *)"tbidi", 1L, NULL, 0);
#endif
    didset_options2();
    set_init_lang_env();
#ifdef FEAT_MULTI_LANG
    set_helplang_default(get_mess_lang());
#endif
}
