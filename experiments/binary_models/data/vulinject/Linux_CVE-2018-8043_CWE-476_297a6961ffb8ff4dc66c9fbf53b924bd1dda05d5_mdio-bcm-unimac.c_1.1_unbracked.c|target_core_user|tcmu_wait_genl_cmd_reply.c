static int tcmu_wait_genl_cmd_reply(struct tcmu_dev *udev)
{
	struct tcmu_nl_cmd *nl_cmd = &udev->curr_nl_cmd;
	if (udev->nl_reply_supported <= 0)
		return 0;
	pr_debug("sleeping for nl reply\n");
	wait_for_completion(&nl_cmd->complete);
	mutex_lock(&tcmu_nl_cmd_mutex);
	nl_cmd->cmd = TCMU_CMD_UNSPEC;
	ret = nl_cmd->status;
	mutex_unlock(&tcmu_nl_cmd_mutex);
	return ret;
}
