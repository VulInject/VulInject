col_do_append_str(column_info *cinfo, const int el, const char* separator,
    const char* str)
{
  int    i;
  size_t len, max_len;
  col_item_t* col_item;
  if (el == COL_INFO)
    max_len = COL_MAX_INFO_LEN;
  else
    max_len = COL_MAX_LEN;
  for (i = cinfo->col_first[el]; i <= cinfo->col_last[el]; i++) {
    col_item = &cinfo->columns[i];
    if (col_item->fmt_matx[el]) {
      len = col_item->col_buf[0];
      if (separator != NULL) {
        if (len != 0) {
          (void) ws_label_strcat(col_item->col_buf, max_len, separator, 0);
        }
      }
      WS_UTF_8_CHECK(str, -1);
      (void) ws_label_strcat(col_item->col_buf, max_len, str, 0);
    }
  }
}
