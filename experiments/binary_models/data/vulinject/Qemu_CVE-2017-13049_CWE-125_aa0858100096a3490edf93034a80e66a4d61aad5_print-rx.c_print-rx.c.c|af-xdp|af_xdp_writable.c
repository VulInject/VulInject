static void af_xdp_writable(void *opaque)
{
    AFXDPState *s = opaque;
    /* Try to recover buffers that are already sent. */
    if (!s->outstanding_tx || !xsk_ring_prod__needs_wakeup(&s->tx)) {
        af_xdp_write_poll(s, false);
    }
    /* Flush any buffered packets. */
    qemu_flush_queued_packets(&s->nc);
}
