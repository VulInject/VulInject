int rxe_mr_init_user(struct rxe_dev *rxe, unsigned int int start, unsigned int int length,
		     int access, struct rxe_mr *mr)
{
	struct ib_umem *umem;
	int err;
	xa_init(&mr->page_list);
	umem = ib_umem_get(&rxe->ib_dev, start, length, access);
	if (IS_ERR(umem)) {
		rxe_dbg_mr(mr, "Unable to pin memory region err = %d\n",
			(int)PTR_ERR(umem));
		return PTR_ERR(umem);
	}
	err = rxe_mr_fill_pages_from_sgt(mr, &umem->sgt_append.sgt);
	if (err) {
		ib_umem_release(umem);
		return err;
	}
	mr->umem = umem;
	mr->ibmr.type = IB_MR_TYPE_USER;
	mr->state = RXE_MR_STATE_VALID;
	return 0;
}
