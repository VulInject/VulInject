static void vmmouse_data(VMMouseState *s, uint32_t *data, uint32_t size)
{
    int i;
    if (size == 0 || size > 6 || size > s->nb_queue) {
        printf("vmmouse: driver requested too much data %d\n", size);
        s->status = 0xffff;
        vmmouse_remove_handler(s);
        return;
    }
    for (i = 0; i < size; i++)
        data[i] = s->queue[i];
    s->nb_queue -= size;
    if (s->nb_queue)
        memmove(s->queue, &s->queue[size], sizeof(s->queue[0]) * s->nb_queue);
}
