static void gfx_v11_0_wait_reg_mem(struct amdgpu_ring *ring, int eng_sel,
				  int mem_space, int opt, unsigned int addr0,
				  unsigned int addr1, unsigned int ref, unsigned int mask,
				  unsigned int inv)
{
	amdgpu_ring_write(ring, PACKET3(PACKET3_WAIT_REG_MEM, 5));
	amdgpu_ring_write(ring,
			  (WAIT_REG_MEM_MEM_SPACE(mem_space) |
			   WAIT_REG_MEM_OPERATION(opt) | 
			   WAIT_REG_MEM_FUNCTION(3) |  
			   WAIT_REG_MEM_ENGINE(eng_sel)));
	if (mem_space)
		BUG_ON(addr0 & 0x3); 
	amdgpu_ring_write(ring, addr1);
	amdgpu_ring_write(ring, ref);
	amdgpu_ring_write(ring, mask);
	amdgpu_ring_write(ring, inv); 
}
