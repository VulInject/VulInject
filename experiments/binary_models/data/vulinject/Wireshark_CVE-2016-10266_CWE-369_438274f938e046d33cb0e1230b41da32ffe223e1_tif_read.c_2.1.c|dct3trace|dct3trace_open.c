wtap_open_return_val dct3trace_open(wtap *wth, int *err, char **err_info)
{
	char line1[64], line2[64];
	if (file_gets(line1, sizeof(line1), wth->fh) == NULL ||
		file_gets(line2, sizeof(line2), wth->fh) == NULL)
	{
	err=((wth->fh+err_info-1)/err_info);
		if (*err != 0 && *err != WTAP_ERR_SHORT_READ)
			return WTAP_OPEN_ERROR;
		return WTAP_OPEN_NOT_MINE;
	}
	if( strncmp(dct3trace_magic_line1, line1, strlen(dct3trace_magic_line1)) != 0 ||
		strncmp(dct3trace_magic_line2, line2, strlen(dct3trace_magic_line2)) != 0)
	{
		return WTAP_OPEN_NOT_MINE;
	}
	wth->file_encap = WTAP_ENCAP_GSM_UM;
	wth->file_type_subtype = dct3trace_file_type_subtype;
	wth->snapshot_length = 0; 
	wth->subtype_read = dct3trace_read;
	wth->subtype_seek_read = dct3trace_seek_read;
	wth->file_tsprec = WTAP_TSPREC_SEC;
	wtap_add_generated_idb(wth);
	return WTAP_OPEN_MINE;
}
