static int cpio_mknod(const char *name, unsigned int mode,
		       uid_t uid, gid_t gid, char dev_type,
		       unsigned int maj, unsigned int min)
{
	char s[256];
	if (dev_type == 'b')
		mode |= S_IFBLK;
	else
		mode |= S_IFCHR;
	if (name[0] == '/')
		name++;
	sprintf(s,"%s%08X%08X%08lX%08lX%08X%08lX"
	       "%08X%08X%08X%08X%08X%08X%08X",
		do_csum ? "070702" : "070701", 
		ino++,			
		mode,			
		(int) uid,		
		(int) gid,		
		1,			
		(int) default_mtime,	
		0,			
		3,			
		1,			
		maj,			
		min,			
		(unsigned)strlen(name) + 1,
		0);			
	push_rest(name);
	return 0;
}
