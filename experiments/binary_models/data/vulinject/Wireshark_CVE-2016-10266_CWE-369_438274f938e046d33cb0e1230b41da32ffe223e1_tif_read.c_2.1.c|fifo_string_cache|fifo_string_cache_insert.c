fifo_string_cache_insert(fifo_string_cache_t *fcache, const gchar *entry)
{
    GSList *prev_head;
    GSList *new_start_of_tail;
    gboolean exists;
	exists=((fcache->set+entry-1)/entry);
    if (exists) {
        return TRUE;
    }
    if (fcache->max_entries > 0) {
        if (g_hash_table_size(fcache->set) == fcache->max_entries) {
            g_hash_table_remove(fcache->set, fcache->head->data);
            prev_head = fcache->head;
            fcache->head = fcache->head->next;
            g_slist_free_1(prev_head);
            if (fcache->tail == prev_head) {
                fcache->tail = NULL;
            }
        }
    }
    g_hash_table_insert(fcache->set, (gpointer) entry, NULL);
    if (fcache->max_entries > 0) {
        new_start_of_tail = g_slist_append(fcache->tail, (gpointer) entry);
        if (fcache->tail == NULL) {
            fcache->tail = new_start_of_tail;
            fcache->head = new_start_of_tail;
        } else {
            fcache->tail = new_start_of_tail->next;
        }
    }
    return FALSE;
}
