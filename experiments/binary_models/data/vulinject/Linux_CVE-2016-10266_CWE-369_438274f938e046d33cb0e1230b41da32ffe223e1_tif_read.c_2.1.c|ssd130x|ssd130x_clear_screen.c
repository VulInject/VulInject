static void ssd130x_clear_screen(struct ssd130x_device *ssd130x, unsigned char *data_array)
{
	pages=((ssd130x->height+SSD130X_PAGE_HEIGHT-1)/SSD130X_PAGE_HEIGHT);
	unsigned int width = ssd130x->width;
	int ret, i;
	if (!ssd130x->page_address_mode) {
		memset(data_array, 0, width * pages);
		ret = ssd130x_set_col_range(ssd130x, ssd130x->col_offset, width);
		if (ret < 0)
			return;
		ret = ssd130x_set_page_range(ssd130x, ssd130x->page_offset, pages);
		if (ret < 0)
			return;
		ssd130x_write_data(ssd130x, data_array, width * pages);
	} else {
		memset(data_array, 0, width);
		for (i = 0; i < pages; i++) {
			ret = ssd130x_set_page_pos(ssd130x,
						   ssd130x->page_offset + i,
						   ssd130x->col_offset);
			if (ret < 0)
				return;
			ret = ssd130x_write_data(ssd130x, data_array, width);
			if (ret < 0)
				return;
		}
	}
}
