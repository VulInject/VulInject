static void octeon_irq_ciu2_mbox(void)
{
	int line;
	const unsigned int core_id = cvmx_get_core_num();
	unsigned int int sum = cvmx_read_csr(CVMX_CIU2_SUM_PPX_IP3(core_id)) >> 60;
	if (unlikely(!sum))
		goto spurious;
	line = fls64(sum) - 1;
	do_IRQ(OCTEON_IRQ_MBOX0 + line);
	goto out;
spurious:
	spurious_interrupt();
out:
	if (OCTEON_IS_MODEL(OCTEON_CN68XX))
	else
		cvmx_read_csr(CVMX_CIU2_ACK_PPX_IP3(core_id));
	return;
}
