void parse_fpo_stream(void *stream, R_STREAM_FILE *stream_file) {
	int data_size;
	char *data = 0, *ptmp = 0;
	int curr_read_bytes = 0, read_bytes = 0;
	SFPO_DATA *fpo_data = 0;
	SFPOStream *fpo_stream = 0;
	stream_file_get_size(stream_file, &data_size);
	data = (char *) malloc(data_size);
	fpo_stream = (SFPOStream *) stream;
	fpo_stream->fpo_data_list = r_list_new ();
	ptmp = data;
	while (read_bytes < data_size) {
		fpo_data = (SFPO_DATA *) malloc(sizeof (SFPO_DATA));
		curr_read_bytes = parse_fpo_data(ptmp, data_size, &read_bytes, fpo_data);
		ptmp += curr_read_bytes;
		if (!curr_read_bytes) {
			free (fpo_data);
			break;
		}
		r_list_append (fpo_stream->fpo_data_list, fpo_data);
	}
	free (data);
}
