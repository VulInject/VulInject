static void zdma_run(XlnxZDMA *s)
{
    while (s->state == ENABLED && !s->error) {
        if (s->error) {
            zdma_set_state(s, DISABLED);
        } else {
            zdma_process_descr(s);
        }
    }
    zdma_ch_imr_update_irq(s);
}
