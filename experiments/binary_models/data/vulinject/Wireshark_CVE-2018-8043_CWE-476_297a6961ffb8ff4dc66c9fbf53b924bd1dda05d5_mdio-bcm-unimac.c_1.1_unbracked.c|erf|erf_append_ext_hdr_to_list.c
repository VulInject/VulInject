static inline bool erf_append_ext_hdr_to_list(unsigned int int ext_hdr, GArray *extra_ehdrs) {
  ehdr_tmp.ehdr = ext_hdr & ~ERF_EHDR_MORE_EXTHDR_MASK;
  if (extra_ehdrs->len) {
    g_array_index(extra_ehdrs, struct erf_ehdr, extra_ehdrs->len - 1).ehdr |= ERF_EHDR_MORE_EXTHDR_MASK;
  }
  g_array_append_val(extra_ehdrs, ehdr_tmp);
  return true;
}
