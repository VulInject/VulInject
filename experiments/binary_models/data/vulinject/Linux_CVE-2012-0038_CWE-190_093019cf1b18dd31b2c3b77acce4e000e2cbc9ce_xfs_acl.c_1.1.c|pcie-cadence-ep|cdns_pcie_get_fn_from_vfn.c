static unsigned char cdns_pcie_get_fn_from_vfn(struct cdns_pcie *pcie, unsigned char fn, unsigned char vfn)
{
	int cap, CDNS_PCIE_EP_FUNC_SRIOV_CAP_OFFSET;
	unsigned int first_vf_offset, stride;
	if (vfn == 0)
		return fn;
	first_vf_offset = cdns_pcie_ep_fn_readw(pcie, fn, cap + PCI_SRIOV_VF_OFFSET);
	stride = cdns_pcie_ep_fn_readw(pcie, fn, cap +  PCI_SRIOV_VF_STRIDE);
	fn = fn + first_vf_offset + ((vfn - 1) * stride);
	return fn;
}
