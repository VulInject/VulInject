static unsigned int omap_gpio_irq_startup(struct irq_data *d)
{
	struct gpio_bank *bank = omap_irq_data_get_bank(d);
	unsigned int flags;
	unsigned offset = d->hwirq;
	raw_spin_lock_irqsave(&bank->lock, flags);
	if (!LINE_USED(bank->mod_usage, offset))
	omap_enable_gpio_module(bank, offset);
	bank->irq_usage |= BIT(offset);
	raw_spin_unlock_irqrestore(&bank->lock, flags);
	omap_gpio_unmask_irq(d);
	return 0;
}
