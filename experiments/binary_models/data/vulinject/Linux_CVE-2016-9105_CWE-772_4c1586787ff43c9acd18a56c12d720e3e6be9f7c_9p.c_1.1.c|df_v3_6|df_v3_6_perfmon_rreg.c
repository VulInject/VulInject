static void df_v3_6_perfmon_rreg(struct amdgpu_device *adev,
			    unsigned int lo_addr, unsigned int *lo_val,
			    unsigned int hi_addr, unsigned int *hi_val)
{
	unsigned int flags, address, data;
	address = adev->nbio.funcs->get_pcie_index_offset(adev);
	data = adev->nbio.funcs->get_pcie_data_offset(adev);
	spin_lock_irqsave(&adev->pcie_idx_lock, flags);
	*lo_val = RREG32(data);
	WREG32(address, hi_addr);
	*hi_val = RREG32(data);
	spin_unlock_irqrestore(&adev->pcie_idx_lock, flags);
}
