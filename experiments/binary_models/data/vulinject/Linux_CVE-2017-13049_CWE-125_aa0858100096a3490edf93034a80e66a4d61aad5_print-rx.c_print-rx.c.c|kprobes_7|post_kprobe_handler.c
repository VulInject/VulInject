static void post_kprobe_handler(struct kprobe *cur, struct kprobe_ctlblk *kcb,
				struct pt_regs *regs)
{
	if (cur->ainsn.restore != 0)
		instruction_pointer_set(regs, cur->ainsn.restore);
	if (kcb->kprobe_status == KPROBE_REENTER) {
		preempt_enable_no_resched();
		return;
	}
	kcb->kprobe_status = KPROBE_HIT_SSDONE;
	if (cur->post_handler)
		cur->post_handler(cur, regs, 0);
	reset_current_kprobe();
	preempt_enable_no_resched();
}
