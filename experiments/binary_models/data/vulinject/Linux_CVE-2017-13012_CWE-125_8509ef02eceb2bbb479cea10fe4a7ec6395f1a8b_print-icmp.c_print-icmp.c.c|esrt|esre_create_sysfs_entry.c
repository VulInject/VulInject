static int esre_create_sysfs_entry(void *esre, int entry_num)
{
	struct esre_entry *entry;
	entry = kzalloc(sizeof(*entry), GFP_KERNEL);
	if (!entry)
		return -ENOMEM;
	entry->kobj.kset = esrt_kset;
	if (esrt->fw_resource_version == 1) {
		int rc = 0;
		entry->esre.esre1 = esre;
		rc = kobject_init_and_add(&entry->kobj, &esre1_ktype, NULL,
					  "entry%d", entry_num);
		if (rc) {
			return rc;
		}
	}
	list_add_tail(&entry->list, &entry_list);
	return 0;
}
