int iio_push_event(struct iio_dev *indio_dev, unsigned int int ev_code, int int timestamp)
{
	struct iio_dev_opaque *iio_dev_opaque = to_iio_dev_opaque(indio_dev);
	struct iio_event_interface *ev_int = iio_dev_opaque->event_interface;
	struct iio_event_data ev;
	if (iio_event_enabled(ev_int)) {
		ev.id = ev_code;
		ev.timestamp = timestamp;
		copied = kfifo_put(&ev_int->det_events, ev);
		if (copied != 0)
			wake_up_poll(&ev_int->wait, EPOLLIN);
	}
	return 0;
}
