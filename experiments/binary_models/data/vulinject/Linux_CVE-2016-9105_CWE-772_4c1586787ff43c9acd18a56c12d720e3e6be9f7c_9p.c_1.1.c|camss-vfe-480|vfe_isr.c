static irqreturn_t vfe_isr(int irq, void *dev)
{
	struct vfe_device *vfe = dev;
	unsigned int status;
	int i;
	status = readl_relaxed(vfe->base + VFE_IRQ_STATUS(0));
	writel_relaxed(status, vfe->base + VFE_IRQ_CLEAR(0));
	writel_relaxed(IRQ_CMD_GLOBAL_CLEAR, vfe->base + VFE_IRQ_CMD);
	if (status & IRQ_MASK_0_RESET_ACK)
		vfe_isr_reset_ack(vfe);
	if (status & IRQ_MASK_0_BUS_TOP_IRQ) {
		unsigned int status = readl_relaxed(vfe->base + VFE_BUS_IRQ_STATUS(0));
		writel_relaxed(status, vfe->base + VFE_BUS_IRQ_CLEAR(0));
		writel_relaxed(1, vfe->base + VFE_BUS_IRQ_CLEAR_GLOBAL);
		for (i = 0; i < MSM_VFE_IMAGE_MASTERS_NUM; i++) {
			if (status & BUS_IRQ_MASK_0_RDI_RUP(vfe, i))
			if (status & BUS_IRQ_MASK_0_COMP_DONE(vfe, RDI_COMP_GROUP(i)))
				vfe_isr_wm_done(vfe, i);
		}
	}
	return IRQ_HANDLED;
}
