static int gic_peek_irq(struct irq_data *d, unsigned int offset)
{
	int __iomem, base;
	unsigned int index, mask;
	offset = convert_offset_index(d, offset, &index);
	mask = 1 << (index % 32);
	if (gic_irq_in_rdist(d))
		base = gic_data_rdist_sgi_base();
	else
		base = gic_dist_base_alias(d);
	return !!(readl_relaxed(base + offset + (index / 32) * 4) & mask);
}
