static int measure_nop_time(void)
{
    uint16_t nops[10000];
    int i, nop_sum = 0;
    av_unused const int sysfd = state.sysfd;
    uint64_t t = 0;
    for (i = 0; i < 10000; i++) {
        PERF_STOP(t);
        nops[i] = t;
    }
    qsort(nops, 10000, sizeof(uint16_t), cmp_nop);
    for (i = 2500; i < 7500; i++)
        nop_sum += nops[i];
    return nop_sum / 500;
}
