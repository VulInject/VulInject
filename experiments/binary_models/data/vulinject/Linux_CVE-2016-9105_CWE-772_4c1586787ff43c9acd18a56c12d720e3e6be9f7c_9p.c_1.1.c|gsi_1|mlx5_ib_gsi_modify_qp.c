int mlx5_ib_gsi_modify_qp(struct ib_qp *qp, struct ib_qp_attr *attr,
			  int attr_mask)
{
	struct mlx5_ib_dev *dev = to_mdev(qp->device);
	struct mlx5_ib_qp *mqp = to_mqp(qp);
	struct mlx5_ib_gsi_qp *gsi = &mqp->gsi;
	unsigned short qp_index;
	int ret;
	mlx5_ib_dbg(dev, "modifying GSI QP to state %d\n", attr->qp_state);
	ret = ib_modify_qp(gsi->rx_qp, attr, attr_mask);
	if (ret) {
		mlx5_ib_warn(dev, "unable to modify GSI rx QP: %d\n", ret);
		return ret;
	}
	if (to_mqp(gsi->rx_qp)->state != IB_QPS_RTS)
		return 0;
	for (qp_index = 0; qp_index < gsi->num_qps; ++qp_index)
	return 0;
}
