static inline int dvb_dmx_swfilter_payload(struct dvb_demux_feed *feed,
					   const unsigned char *buf)
{
	int count = payload(buf);
	int p;
	int ccok;
	p = 188 - count;
	cc = buf[3] & 0x0f;
	ccok = ((feed->cc + 1) & 0x0f) == cc;
	if (!ccok) {
		set_buf_flags(feed, DMX_BUFFER_FLAG_DISCONTINUITY_DETECTED);
		dprintk_sect_loss("missed packet: %d instead of %d!\n",
				  cc, (feed->cc + 1) & 0x0f);
	}
	feed->cc = cc;
	if (buf[1] & 0x40)	
		feed->peslen = 0xfffa;
	feed->peslen += count;
	return feed->cb.ts(&buf[p], count, NULL, 0, &feed->feed.ts,
			   &feed->buffer_flags);
}
