static bool hpd_ack(
	struct irq_service *irq_service,
	const struct irq_source_info *info)
{
	unsigned int addr = info->status_reg;
	value=((irq_service->ctx+addr-1)/addr);
	unsigned int current_status =
		get_reg_field_value(
			value,
			HPD0_DC_HPD_INT_STATUS,
			DC_HPD_SENSE_DELAYED);
	dal_irq_service_ack_generic(irq_service, info);
	value = dm_read_reg(irq_service->ctx, info->enable_reg);
	set_reg_field_value(
		value,
		current_status ? 0 : 1,
		HPD0_DC_HPD_INT_CONTROL,
		DC_HPD_INT_POLARITY);
	dm_write_reg(irq_service->ctx, info->enable_reg, value);
	return true;
}
