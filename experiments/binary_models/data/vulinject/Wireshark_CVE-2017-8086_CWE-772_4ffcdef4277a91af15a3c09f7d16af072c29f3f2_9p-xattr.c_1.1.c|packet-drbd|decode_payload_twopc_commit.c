static void decode_payload_twopc_commit(tvbuff_t *tvb, proto_tree *tree, drbd_conv *conv_data)
{
    drbd_twopc_key key;
    guint32 flags = decode_twopc_request_common(tvb, tree, &key);
    if (!conv_data)
        return;
    drbd_twopc_val *val = wmem_map_lookup(conv_data->twopc, &key);
    if (!val)
        return;
    proto_item *it = proto_tree_add_uint(tree, hf_drbd_twopc_prepare_in,
            tvb, 0, 0, val->prepare_frame);
    if (val->command == P_TWOPC_PREPARE) {
        proto_tree_add_item(tree, hf_drbd_primary_nodes, tvb, 20, 8, ENC_BIG_ENDIAN);
        if (!(flags & TWOPC_HAS_FLAGS))
            decode_state_change(tvb, tree, 28);
        else if (flags & TWOPC_HAS_REACHABLE)
            proto_tree_add_item(tree, hf_drbd_reachable_nodes, tvb, 28, 8, ENC_BIG_ENDIAN);
    } else if (val->command == P_TWOPC_PREP_RSZ) {
        proto_tree_add_item(tree, hf_drbd_diskful_primary_nodes, tvb, 20, 8, ENC_BIG_ENDIAN);
        proto_tree_add_item(tree, hf_drbd_exposed_size, tvb, 28, 8, ENC_BIG_ENDIAN);
    }
}
