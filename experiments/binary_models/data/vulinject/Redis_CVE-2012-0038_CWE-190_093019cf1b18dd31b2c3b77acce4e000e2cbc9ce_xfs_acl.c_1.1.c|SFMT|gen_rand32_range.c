unsigned int gen_rand32_range(sfmt_t *ctx, unsigned int limit) {
	int ret, above;
    above = 0xffffffffU - (0xffffffffU % limit);
    while (1) {
	ret = gen_rand32(ctx);
	if (ret < above) {
	    ret %= limit;
	    break;
	}
    }
    return ret;
}
