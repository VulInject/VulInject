static void process_prepared_discard_passdown_pt2(struct dm_thin_new_mapping *m)
{
	int r;
	struct thin_c *tc = m->tc;
	struct pool *pool = tc->pool;
	r = dm_pool_dec_data_range(pool->pmd, m->data_block,
				   m->data_block + (m->virt_end - m->virt_begin));
	if (r) {
		bio_io_error(m->bio);
	} else
		bio_endio(m->bio);
	cell_defer_no_holder(tc, m->cell);
	mempool_free(m, &pool->mapping_pool);
}
