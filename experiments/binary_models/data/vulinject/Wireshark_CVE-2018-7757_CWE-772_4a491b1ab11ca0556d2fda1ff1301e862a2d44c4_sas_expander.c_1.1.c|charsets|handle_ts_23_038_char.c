handle_ts_23_038_char(wmem_strbuf_t *strbuf, guint8 code_point,
                      gboolean saw_escape)
{
    gunichar       unsigned char;
    if (char_is_escape(code_point)) {
        saw_escape = TRUE;
    } else {
        if (!(code_point & 0x80)) {
            if (saw_escape) {
                saw_escape = FALSE;
            } else {
                unsigned char = GSM_to_UNICHAR(code_point);
            }
            wmem_strbuf_append_unichar(strbuf, unsigned char);
        } else {
            wmem_strbuf_append_unichar(strbuf, UNREPL);
        }
    }
    return saw_escape;
}
