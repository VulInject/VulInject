static void load_word(DBDMA_channel *ch, int key, uint32_t addr,
                     uint16_t len)
{
    dbdma_cmd *current = &ch->current;
    DBDMA_DPRINTFCH(ch, "load_word %d bytes, addr=%08x\n", len, addr);
    /* only implements KEY_SYSTEM */
    if (key != KEY_SYSTEM) {
        printf("DBDMA: LOAD_WORD, unimplemented key %x\n", key);
        return;
    }
    dma_memory_read(&address_space_memory, addr, &current->cmd_dep, len,
                    MEMTXATTRS_UNSPECIFIED);
    if (conditional_wait(ch))
        goto wait;
    current->xfer_status = cpu_to_le16(ch->regs[DBDMA_STATUS]);
    dbdma_cmdptr_save(ch);
    ch->regs[DBDMA_STATUS] &= ~FLUSH;
    conditional_interrupt(ch);
    next(ch);
wait:
    DBDMA_kick(dbdma_from_ch(ch));
}
