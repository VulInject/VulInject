sc_demuxer_init(struct sc_demuxer *demuxer, const char *name, sc_socket socket,
                const struct sc_demuxer_callbacks *cbs, void *cbs_userdata) {
    assert(socket != SC_SOCKET_NONE);
    demuxer->name = name; // statically allocated
    demuxer->socket = socket;
    assert(cbs && cbs->on_ended);
    demuxer->cbs = cbs;
    demuxer->cbs_userdata = cbs_userdata;
}
