centaur_set_mcr(unsigned int reg, unsigned int base,
		unsigned int size, mtrr_type type)
{
	int low, high;
	if (size == 0) {
		high = low = 0;
	} else {
		high = base << PAGE_SHIFT;
		if (centaur_mcr_type == 0) {
			low = -size << PAGE_SHIFT | 0x1f;
		} else {
			if (type == MTRR_TYPE_UNCACHABLE)
				low = -size << PAGE_SHIFT | 0x02; 
			else
				low = -size << PAGE_SHIFT | 0x09; 
		}
	}
	centaur_mcr[reg].high = high;
	centaur_mcr[reg].low = low;
	wrmsr(MSR_IDT_MCR0 + reg, low, high);
}
