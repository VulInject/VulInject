static void ds_newline(RDisasmState *ds) {
	if (ds->pj) {
		const bool is_html = r_config_get_b (ds->core->config, "scr.html");
		if (is_html) {
			char *s = r_cons_html_filter (r_cons_get_buffer (), NULL);
			pj_ks (ds->pj, "text", s);
			free (s);
		} else {
			pj_ks (ds->pj, "text", r_cons_get_buffer ());
		}
		r_cons_reset ();
	} else {
		r_cons_newline ();
	}
}
