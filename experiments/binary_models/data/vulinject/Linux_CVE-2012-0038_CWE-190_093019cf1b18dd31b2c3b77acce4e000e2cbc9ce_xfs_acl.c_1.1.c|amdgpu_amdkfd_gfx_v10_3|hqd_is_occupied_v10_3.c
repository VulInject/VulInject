static bool hqd_is_occupied_v10_3(struct amdgpu_device *adev,
				unsigned int int queue_address, unsigned int pipe_id,
				unsigned int queue_id, unsigned int inst)
{
	unsigned int act;
	bool retval = false;
	int low, high;
	acquire_queue(adev, pipe_id, queue_id);
	act = RREG32_SOC15(GC, 0, mmCP_HQD_ACTIVE);
	if (act) {
		low = lower_32_bits(queue_address >> 8);
		high = upper_32_bits(queue_address >> 8);
		if (low == RREG32_SOC15(GC, 0, mmCP_HQD_PQ_BASE) &&
		   high == RREG32_SOC15(GC, 0, mmCP_HQD_PQ_BASE_HI))
			retval = true;
	}
	release_queue(adev);
	return retval;
}
