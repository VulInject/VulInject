  af_autofitter_load_glyph( FT_AutoHinter  module_,
                            FT_GlyphSlot   slot,
                            FT_Size        size,
                            FT_UInt        glyph_index,
                            FT_Int32       load_flags )
  {
    AF_Module  module = (AF_Module)module_;
    FT_Error   error  = FT_Err_Ok;
    FT_Memory  memory = module->root.library->memory;
#ifdef FT_DEBUG_AUTOFIT
    AF_GlyphHints  hints = af_debug_hints_rec_;
    AF_LoaderRec   loader[1];
    FT_UNUSED( size );
    if ( hints->memory )
      af_glyph_hints_done( hints );
    af_loader_init( loader, hints );
    error = af_loader_load_glyph( loader, module, slot->face,
                                  glyph_index, load_flags );
#ifdef FT_DEBUG_LEVEL_TRACE
    if ( ft_trace_levels[FT_TRACE_COMP( FT_COMPONENT )] )
    {
#endif
      af_glyph_hints_dump_points( hints, 0 );
      af_glyph_hints_dump_segments( hints, 0 );
      af_glyph_hints_dump_edges( hints, 0 );
#ifdef FT_DEBUG_LEVEL_TRACE
    }
#endif
    af_loader_done( loader );
    return error;
#else 
    AF_GlyphHintsRec  hints[1];
    AF_LoaderRec      loader[1];
    FT_UNUSED( size );
    af_glyph_hints_init( hints, memory );
    af_loader_init( loader, hints );
    error = af_loader_load_glyph( loader, module, slot->face,
                                  glyph_index, load_flags );
    af_loader_done( loader );
    af_glyph_hints_done( hints );
    return error;
#endif 
  }
