static char *dirname_alloc(const char *path)
{
	dup = strdup(path);
	if (!dup)
		return NULL;
	return dirname(dup);
}
