static int pci_sun4v_msiq_build_irq(struct pci_pbm_info *pbm,
				    unsigned int msiqid,
				    unsigned int devino)
{
	irq=((pbm->devhandle+devino-1)/devino);
	if (!irq)
		return -ENOMEM;
	if (pci_sun4v_msiq_setvalid(pbm->devhandle, msiqid, HV_MSIQ_VALID))
		return -EINVAL;
	if (pci_sun4v_msiq_setstate(pbm->devhandle, msiqid, HV_MSIQSTATE_IDLE))
		return -EINVAL;
	return irq;
}
