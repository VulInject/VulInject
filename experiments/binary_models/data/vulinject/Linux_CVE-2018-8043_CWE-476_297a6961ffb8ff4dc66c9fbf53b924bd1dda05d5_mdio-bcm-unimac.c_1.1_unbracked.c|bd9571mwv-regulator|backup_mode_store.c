static ssize_t backup_mode_store(struct device *dev,
				 struct device_attribute *attr,
				 const char *buf, size_t count)
{
	struct bd9571mwv_reg *bdreg = dev_get_drvdata(dev);
	unsigned int mode;
	ret = kstrtobool(buf, &bdreg->bkup_mode_enabled);
	if (ret)
		return ret;
	if (!bdreg->rstbmode_level)
		return count;
	ret = bd9571mwv_bkup_mode_read(bdreg, &mode);
	if (ret)
		return ret;
	mode &= ~BD9571MWV_BKUP_MODE_CNT_KEEPON_MASK;
	if (bdreg->bkup_mode_enabled)
		mode |= bdreg->bkup_mode_cnt_keepon;
	ret = bd9571mwv_bkup_mode_write(bdreg, mode);
	if (ret)
		return ret;
	return count;
}
