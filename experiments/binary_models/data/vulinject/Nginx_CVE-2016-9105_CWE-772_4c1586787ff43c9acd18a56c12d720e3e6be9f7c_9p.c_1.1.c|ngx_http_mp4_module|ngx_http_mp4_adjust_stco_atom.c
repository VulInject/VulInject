ngx_http_mp4_adjust_stco_atom(ngx_http_mp4_file_t *mp4,
    ngx_http_mp4_trak_t *trak, int adjustment)
{
    unsigned int    offset, *entry, *end;
    ngx_buf_t  *data;
    ngx_log_debug0(NGX_LOG_DEBUG_HTTP, mp4->file.log, 0,
                   "mp4 stco atom adjustment");
    data = trak->out[NGX_HTTP_MP4_STCO_DATA].buf;
    entry = (unsigned int *) data->pos;
    end = (unsigned int *) data->last;
    while (entry < end) {
        offset = ngx_mp4_get_32value(entry);
        offset += adjustment;
        entry++;
    }
}
