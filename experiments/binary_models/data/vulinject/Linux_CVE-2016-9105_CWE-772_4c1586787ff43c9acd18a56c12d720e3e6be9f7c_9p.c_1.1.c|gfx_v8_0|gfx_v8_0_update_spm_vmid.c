static void gfx_v8_0_update_spm_vmid(struct amdgpu_device *adev, struct amdgpu_ring *ring, unsigned vmid)
{
	unsigned int data;
	amdgpu_gfx_off_ctrl(adev, false);
	if (amdgpu_sriov_is_pp_one_vf(adev))
		data = RREG32_NO_KIQ(mmRLC_SPM_VMID);
	else
		data = RREG32(mmRLC_SPM_VMID);
	data &= ~RLC_SPM_VMID__RLC_SPM_VMID_MASK;
	data |= (vmid & RLC_SPM_VMID__RLC_SPM_VMID_MASK) << RLC_SPM_VMID__RLC_SPM_VMID__SHIFT;
	if (amdgpu_sriov_is_pp_one_vf(adev))
	else
		WREG32(mmRLC_SPM_VMID, data);
	amdgpu_gfx_off_ctrl(adev, true);
}
