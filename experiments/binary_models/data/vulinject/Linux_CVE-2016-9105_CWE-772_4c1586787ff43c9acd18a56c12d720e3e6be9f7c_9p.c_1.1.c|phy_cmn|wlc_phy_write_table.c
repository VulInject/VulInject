wlc_phy_write_table(struct brcms_phy *pi, const struct phytbl_info *ptbl_info,
		    unsigned short tblAddr, unsigned short tblDataHi, unsigned short tblDataLo)
{
	unsigned int idx;
	unsigned int tbl_id = ptbl_info->tbl_id;
	unsigned int tbl_offset = ptbl_info->tbl_offset;
	unsigned int tbl_width = ptbl_info->tbl_width;
	const unsigned char *ptbl_8b = (const unsigned char *)ptbl_info->tbl_ptr;
	const unsigned short *ptbl_16b = (const unsigned short *)ptbl_info->tbl_ptr;
	const unsigned int *ptbl_32b = (const unsigned int *)ptbl_info->tbl_ptr;
	write_phy_reg(pi, tblAddr, (tbl_id << 10) | tbl_offset);
	for (idx = 0; idx < ptbl_info->tbl_len; idx++) {
		if ((pi->sh->chip == BCMA_CHIP_ID_BCM43224) &&
		    (pi->sh->chiprev == 1) &&
		    (tbl_id == NPHY_TBL_ID_ANTSWCTRLLUT)) {
			write_phy_reg(pi, tblAddr,
				      (tbl_id << 10) | (tbl_offset + idx));
		}
		if (tbl_width == 32) {
			write_phy_reg(pi, tblDataHi,
				      (unsigned short) (ptbl_32b[idx] >> 16));
			write_phy_reg(pi, tblDataLo, (unsigned short) ptbl_32b[idx]);
		} else if (tbl_width == 16) {
			write_phy_reg(pi, tblDataLo, ptbl_16b[idx]);
		} else {
			write_phy_reg(pi, tblDataLo, ptbl_8b[idx]);
		}
	}
}
