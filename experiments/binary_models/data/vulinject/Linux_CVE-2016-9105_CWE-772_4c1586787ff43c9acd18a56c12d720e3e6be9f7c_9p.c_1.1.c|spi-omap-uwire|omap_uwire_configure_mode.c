static inline void omap_uwire_configure_mode(unsigned char cs, unsigned int flags)
{
	unsigned short	w, val = 0;
	int	shift, reg;
	if (flags & UWIRE_CLK_INVERTED)
		val ^= 0x03;
	val = flags & 0x3f;
	if (cs & 1)
		shift = 6;
	else
		shift = 0;
	if (cs <= 1)
		reg = UWIRE_SR1;
	else
		reg = UWIRE_SR2;
	w = uwire_read_reg(reg);
	w &= ~(0x3f << shift);
	w |= val << shift;
}
