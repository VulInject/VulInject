static void efi_earlycon_scroll_up(void)
{
	unsigned int *dst, *src;
	unsigned short maxlen = 0;
	unsigned short len;
	unsigned int i, height;
	for (i = 0; i < max_line_y; i++) {
		if (efi_x_array[i] > maxlen)
			maxlen = efi_x_array[i];
	}
	maxlen *= 4;
	len = screen_info.lfb_linelength;
	height = screen_info.lfb_height;
	for (i = 0; i < height - font->height; i++) {
		dst = efi_earlycon_map(i*len, len);
		if (!dst)
			return;
		src = efi_earlycon_map((i + font->height) * len, len);
		if (!src) {
			return;
		}
		memmove(dst, src, maxlen);
		efi_earlycon_unmap(src, len);
		efi_earlycon_unmap(dst, len);
	}
}
