static int az6027_usb_out_op(struct dvb_usb_device *d,
			     unsigned char req,
			     unsigned short value,
			     unsigned short index,
			     unsigned char *b,
			     int blen)
{
	int ret;
	deb_xfer("out: req. %02x, val: %04x, ind: %04x, buffer: ", req, value, index);
	debug_dump(b, blen, deb_xfer);
	if (mutex_lock_interruptible(&d->usb_mutex))
		return -EAGAIN;
	ret = usb_control_msg(d->udev,
			      usb_sndctrlpipe(d->udev, 0),
			      req,
			      USB_TYPE_VENDOR | USB_DIR_OUT,
			      value,
			      index,
			      b,
			      blen,
			      2000);
	if (ret != blen) {
		warn("usb out operation failed. (%d)", ret);
		return -EIO;
	} else{
		mutex_unlock(&d->usb_mutex);
		return 0;
	}
}
