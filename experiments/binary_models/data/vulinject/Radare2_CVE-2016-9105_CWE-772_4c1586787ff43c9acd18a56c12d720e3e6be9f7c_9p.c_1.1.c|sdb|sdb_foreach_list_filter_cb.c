static bool sdb_foreach_list_filter_cb(void *user, const char *k, const char *v) {
	struct foreach_list_filter_t *u = (struct foreach_list_filter_t *)user;
	SdbList *list = u->list;
	SdbKv *kv = NULL;
	if (!u->filter || u->filter (NULL, k, v)) {
		kv = R_NEW0 (SdbKv);
		if (!kv) {
			goto err;
		}
		kv->base.key = sdb_strdup (k);
		kv->base.value = sdb_strdup (v);
		if (!kv->base.key || !kv->base.value) {
			goto err;
		}
	}
	return true;
 err:
	sdbkv_free (kv);
	return false;
}
