static int adv7180_s_routing(struct v4l2_subdev *sd, unsigned int input,
			     unsigned int output, unsigned int config)
{
	struct adv7180_state *state = to_state(sd);
	if (ret)
		return ret;
	if (input > 31 || !(BIT(input) & state->chip_info->valid_input_mask)) {
		ret = -EINVAL;
		goto out;
	}
	ret = state->chip_info->select_input(state, input);
	if (ret == 0)
		state->input = input;
out:
	mutex_unlock(&state->mutex);
	return ret;
}
