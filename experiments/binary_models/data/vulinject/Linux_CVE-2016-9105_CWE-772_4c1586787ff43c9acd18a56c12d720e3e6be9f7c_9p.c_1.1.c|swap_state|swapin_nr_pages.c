static unsigned int swapin_nr_pages(unsigned int offset)
{
	static unsigned int prev_offset;
	unsigned int hits, pages, max_pages;
	static atomic_t last_readahead_pages;
	max_pages = 1 << READ_ONCE(page_cluster);
	if (max_pages <= 1)
		return 1;
	hits = atomic_xchg(&swapin_readahead_hits, 0);
	pages = __swapin_nr_pages(READ_ONCE(prev_offset), offset, hits,
				  max_pages,
				  atomic_read(&last_readahead_pages));
	if (!hits)
	atomic_set(&last_readahead_pages, pages);
	return pages;
}
