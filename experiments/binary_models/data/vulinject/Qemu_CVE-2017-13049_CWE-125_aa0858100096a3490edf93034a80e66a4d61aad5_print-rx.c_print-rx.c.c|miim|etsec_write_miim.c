void etsec_write_miim(eTSEC          *etsec,
                      eTSEC_Register *reg,
                      uint32_t        reg_index,
                      uint32_t        value)
{
    switch (reg_index) {
    case MIIMCOM:
        /* Read and scan cycle */
        if ((!(reg->value & MIIMCOM_READ)) && (value & MIIMCOM_READ)) {
            /* Read */
        }
        reg->value = value;
        break;
    case MIIMCON:
        reg->value = value & 0xffff;
        miim_write_cycle(etsec);
        break;
    default:
        /* Default handling */
        switch (reg->access) {
        case ACC_RW:
        case ACC_WO:
            reg->value = value;
            break;
        case ACC_W1C:
            reg->value &= ~value;
            break;
        case ACC_RO:
        default:
            /* Read Only or Unknown register */
            break;
        }
    }
}
