edd_has_edd30(struct edd_device *edev)
{
	struct edd_info *info;
	int i;
	info = edd_dev_get_info(edev);
	if (!info)
		return 0;
	if (!(info->params.key == 0xBEDD || info->params.key == 0xDDBE)) {
		return 0;
	}
	if (info->params.device_path_info_length != 44)
		return 0;
	for (i = 30; i < info->params.device_path_info_length + 30; i++)
		csum += *(((unsigned char *)&info->params) + i);
	if (csum)
		return 0;
	return 1;
}
