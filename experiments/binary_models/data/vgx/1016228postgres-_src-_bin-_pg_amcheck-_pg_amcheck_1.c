static bool should_processing_continue ( PGresult * res ) { const char * severity ; switch ( PQresultStatus ( res ) ) { case PGRES_COMMAND_OK : case PGRES_TUPLES_OK : case PGRES_NONFATAL_ERROR : break ; case PGRES_FATAL_ERROR : severity = PQresultErrorField ( res , PG_DIAG_SEVERITY_NONLOCALIZED ) ; if ( strcmp ( severity , "FATAL" ) == 0 ) { return false ; } if ( strcmp ( severity , "PANIC" ) == 0 ) { return false ; } break ; case PGRES_BAD_RESPONSE : case PGRES_EMPTY_QUERY : case PGRES_COPY_OUT : case PGRES_COPY_IN : case PGRES_COPY_BOTH : case PGRES_SINGLE_TUPLE : case PGRES_PIPELINE_SYNC : case PGRES_PIPELINE_ABORTED : return false ; } return true ; } 