static int fld_client_debugfs_init ( struct lu_client_fld * fld ) { int rc ; fld -> lcf_debugfs_entry = ldebugfs_register ( fld -> lcf_name , fld_debugfs_dir , NULL , NULL ) ; if ( IS_ERR_OR_NULL ( fld -> lcf_debugfs_entry ) ) { CERROR ( "%s: LdebugFS failed in fld-init\n" , fld -> lcf_name ) ; rc = fld -> lcf_debugfs_entry ?PTR_ERR ( fld -> lcf_debugfs_entry ) : - ENOMEM ; return rc ; } rc = ldebugfs_add_vars ( fld -> lcf_debugfs_entry , fld_client_debugfs_list , fld ) ; if ( rc ) { CERROR ( "%s: Can't init FLD debufs, rc %d\n" , fld -> lcf_name , rc ) ; out_cleanup } return 0 ; out_cleanup fld_client_debugfs_fini ( fld ) ; return rc ; } 