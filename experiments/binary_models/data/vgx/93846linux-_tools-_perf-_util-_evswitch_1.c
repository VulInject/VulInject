bool evswitch__discard ( struct evswitch * evswitch , struct evsel * evsel ) { if ( evswitch -> on && evswitch -> discarding ) { if ( evswitch -> on != evsel ) { return true ; } evswitch -> discarding = false ; return false ; } if ( evswitch -> off && ! evswitch -> discarding ) { if ( evswitch -> off != evsel ) { return false ; } evswitch -> discarding = true ; if ( ! evswitch -> show_on_off_events ) { return true ; } } return false ; } 