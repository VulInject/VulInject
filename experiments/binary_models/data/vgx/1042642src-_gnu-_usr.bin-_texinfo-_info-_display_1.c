display_scroll_display ( , , ) { register int i , last ; DISPLAY_LINE * temp ; if ( ! the_display [ 0 ] ) { return ; } if ( info_any_buffered_input_p ( ) ) { return ; } terminal_scroll_terminal ( start , end , amount ) ; if ( amount > 0 ) { last = end + amount ; for ( i = 0 ; i < ( end - start ) ; i ++ ) { temp = the_display [ last - i ] ; the_display [ last - i ] = the_display [ end - i ] ; the_display [ end - i ] = temp ; } for ( i = start ; i != ( start + amount ) ; i ++ ) { the_display [ i ] -> text [ 0 ] = '\0' ; the_display [ i ] -> textlen = 0 ; the_display [ i ] -> inverse = 0 ; } } if ( amount < 0 ) { last = start + amount ; for ( i = 0 ; i < ( end - start ) ; i ++ ) { temp = the_display [ last + i ] ; the_display [ last + i ] = the_display [ start + i ] ; the_display [ start + i ] = temp ; } for ( i = end + amount ; i != end ; i ++ ) { the_display [ i ] -> text [ 0 ] = '\0' ; the_display [ i ] -> textlen = 0 ; the_display [ i ] -> inverse = 0 ; } } } 