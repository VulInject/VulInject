static void picldiag_display_io_cards ( struct io_card * list ) { static int banner = 0 ; struct io_card * p ; if ( list == NULL ) { return ; } if ( banner == 0 ) { log_printf ( "Bus   Freq      Slot +  Name +\n" , 0 ) ; log_printf ( "Type  MHz       Status  " "Path                          " "Model" , 0 ) ; log_printf ( "\n" , 0 ) ; log_printf ( "----  ----  ----------  " "----------------------------  " "--------------------" , 0 ) ; log_printf ( "\n" , 0 ) ; banner = 1 ; } for ( p = list ; p != NULL ; p = p -> next ) { log_printf ( "%-4s  " , p -> bus_type , 0 ) ; log_printf ( "%3d   " , p -> freq , 0 ) ; if ( p -> slot == PCI_SLOT_IS_STRING ) { log_printf ( "%10s  " , p -> slot_str , 0 ) ; } else { log_printf ( "%10d  " , p -> slot , 0 ) ; } log_printf ( "%-28.28s" , p -> name , 0 ) ; if ( strlen ( p -> name ) > 28 ) { log_printf ( "+ " , 0 ) ; } else { log_printf ( "  " , 0 ) ; } log_printf ( "%-19.19s" , p -> model , 0 ) ; if ( strlen ( p -> model ) > 19 ) { log_printf ( "+" , 0 ) ; } log_printf ( "\n" , 0 ) ; log_printf ( "            %10s  " , p -> status , 0 ) ; set_exit_code ( p -> status , NULL ) ; if ( strlen ( p -> notes ) > 0 ) { log_printf ( "%s" , p -> notes , 0 ) ; } log_printf ( "\n\n" , 0 ) ; } } 