int bmi160_set_odr ( struct bmi160_data * data , enum bmi160_sensor_type t , int odr , int uodr ) { int i ; for ( i = 0 ; i < bmi160_odr_table [ t ] . num ; i ++ ) { if ( bmi160_odr_table [ t ] . tbl [ i ] . odr == odr && bmi160_odr_table [ t ] . tbl [ i ] . uodr == uodr ) { break ; } } return regmap_update_bits ( data -> regmap , bmi160_regs [ t ] . config , bmi160_regs [ t ] . config_odr_mask , bmi160_odr_table [ t ] . tbl [ i ] . bits ) ; } 