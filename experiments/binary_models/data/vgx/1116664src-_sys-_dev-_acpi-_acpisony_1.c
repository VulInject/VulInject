void acpisony_attach ( struct device * parent , struct device * self , void * aux ) { struct acpisony_softc * sc = ( acpisony_softc * ) self ; struct acpi_attach_args * aa = aux ; sc -> sc_acpi = ( acpi_softc * ) parent ; sc -> sc_devnode = aa -> aaa_node ; printf ( ": %s\n" , sc -> sc_devnode -> name ) ; acpisony_notify_setup ( sc , NULL ) ; aml_register_notify ( sc -> sc_devnode , aa -> aaa_dev , acpisony_notify , sc , ACPIDEV_NOPOLL ) ; } 