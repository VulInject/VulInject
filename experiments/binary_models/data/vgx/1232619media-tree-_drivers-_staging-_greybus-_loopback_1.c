gb_loopback_stats { u32 min ; u32 max ; u64 sum ; u32 count ; } gb_loopback_device { struct dentry * root ; u32 count ; int size_max ; spinlock_t lock ; struct list_head list ; struct list_head list_op_async ; wait_queue_head_t wq ; } static struct gb_loopback_device gb_dev ; gb_loopback_async_operation { struct gb_loopback * gb ; struct gb_operation * operation ; struct timeval ts ; struct timer_list timer ; struct list_head entry ; struct work_struct work ; struct kref kref ; bool pending ; int * completion ( struct gb_loopback_async_operation * op_async ) } 