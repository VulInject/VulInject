create_search_file_hierarchy ( ) { g_autoptr ( ) location = NULL ; g_autoptr ( ) file = NULL ; GFileOutputStream * out ; gchar * file_name ; location = g_file_new_for_path ( test_get_tmp_dir ( ) ) ; file_name = g_strdup_printf ( "engine_%s" , search_engine ) ; file = g_file_get_child ( location , file_name ) ; out = g_file_create ( file , G_FILE_CREATE_NONE , NULL , NULL ) ; g_object_unref ( out ) ; file_name = g_strdup_printf ( "engine_%s_directory" , search_engine ) ; file = g_file_get_child ( location , file_name ) ; g_free ( file_name ) ; g_file_make_directory ( file , NULL , NULL ) ; file_name = g_strdup_printf ( "%s_child" , search_engine ) ; file = g_file_get_child ( file , file_name ) ; g_free ( file_name ) ; out = g_file_create ( file , G_FILE_CREATE_NONE , NULL , NULL ) ; g_object_unref ( out ) ; file_name = g_strdup_printf ( "engine_%s_second_directory" , search_engine ) ; file = g_file_get_child ( location , file_name ) ; g_free ( file_name ) ; g_file_make_directory ( file , NULL , NULL ) ; file_name = g_strdup_printf ( "engine_%s_child" , search_engine ) ; file = g_file_get_child ( file , file_name ) ; g_free ( file_name ) ; out = g_file_create ( file , G_FILE_CREATE_NONE , NULL , NULL ) ; g_object_unref ( out ) ; file_name = g_strdup_printf ( "%s_directory" , search_engine ) ; file = g_file_get_child ( location , file_name ) ; g_free ( file_name ) ; g_file_make_directory ( file , NULL , NULL ) ; file_name = g_strdup_printf ( "engine_%s_child" , search_engine ) ; file = g_file_get_child ( file , file_name ) ; g_free ( file_name ) ; out = g_file_create ( file , G_FILE_CREATE_NONE , NULL , NULL ) ; g_object_unref ( out ) ; } 