static int tpl0102_write_raw ( struct iio_dev * indio_dev , struct iio_chan_spec const * chan , int val , int val2 , long mask ) { struct tpl0102_data * data = iio_priv ( indio_dev ) ; if ( mask != IIO_CHAN_INFO_RAW ) { return - EINVAL ; } return regmap_write ( data -> regmap , chan -> channel , val ) ; } static const struct iio_info tpl0102_info = { . read_raw = tpl0102_read_raw . write_raw = tpl0102_write_raw . driver_module = THIS_MODULE } ; 