( malloc_gdump ) ; static void malloc_exit ( void ) { int save_errno = errno , fd ; int i ; fd = open ( "malloc.out" , O_RDWR | O_APPEND ) ; if ( fd != - 1 ) { dprintf ( fd , "******** Start dump %s *******\n" , __progname ) ; dprintf ( fd , "M=%u I=%d F=%d U=%d J=%d R=%d X=%d C=%d cache=%u " "G=%zu\n" , mopts . malloc_mutexes , mopts . internal_funcs , mopts . malloc_freecheck , mopts . malloc_freeunmap , mopts . def_malloc_junk , mopts . malloc_realloc , mopts . malloc_xmalloc , mopts . chunk_canaries , mopts . def_maxcache , mopts . malloc_guard ) ; for ( i = 0 ; i < mopts . malloc_mutexes ; i ++ ) { malloc_dump ( fd , i , mopts . malloc_pool [ i ] ) ; } dprintf ( fd , "******** End dump %s *******\n" , __progname ) ; close ( fd ) ; } else { dprintf ( STDERR_FILENO , "malloc() warning: Couldn't dump stats\n" ) ; } errno = save_errno ; } 