static int read_pres_actions ( xmlNode * an , cp_actions_t * * dst ) { xmlNode * n ; const char * s ; int res = RES_OK ; if ( ( ! an ) || ( ! dst ) ) { return RES_INTERNAL_ERR ; } * dst = ( cp_actions_t * ) cds_malloc ( sizeof ( cp_actions_t ) ) ; if ( ! ( * dst ) ) { return RES_MEMORY_ERR ; } n = find_node ( an , "sub-handling" , pres_rules_ns ) ; if ( n ) { s = get_node_value ( n ) ; ( * dst ) -> unknown = create_unknown ( sizeof ( sub_handling_t ) ) ; if ( ! ( * dst ) -> unknown ) { return RES_MEMORY_ERR ; } res = str2sub_handling ( s , ( sub_handling_t * ) ( * dst ) -> unknown -> data ) ; } return res ; } 