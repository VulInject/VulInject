decimal_from_decnumber ( , , ) { memset ( r , 0 , sizeof ( REAL_VALUE_TYPE ) ) ; r -> cl = rvc_normal ; if ( decNumberIsZero ( dn ) ) { r -> cl = rvc_zero ; } if ( decNumberIsNaN ( dn ) ) { r -> cl = rvc_nan ; } if ( decNumberIsInfinite ( dn ) ) { r -> cl = rvc_inf ; } if ( context -> status & DEC_Overflow ) { r -> cl = rvc_inf ; } if ( decNumberIsNegative ( dn ) ) { r -> sign = 1 ; } if ( r -> cl != rvc_normal ) { return ; } decContextDefault ( context , DEC_INIT_DECIMAL128 ) ; context -> traps = 0 ; decimal128FromNumber ( ( decimal128 * ) r -> sig , dn , context ) ; } 