static bool is_non_null_array ( struct expression * expr ) { struct symbol * type ; struct symbol * sym ; struct symbol * tmp ; int i ; type = get_type ( expr ) ; if ( ! type || type -> type != SYM_ARRAY ) { return 0 ; } if ( implied_not_equal ( expr , 0 ) ) { return 1 ; } if ( expr -> type != EXPR_DEREF || ! expr -> member ) { return 0 ; } sym = expr_to_sym ( expr ) ; if ( ! sym ) { return 0 ; } type = get_real_base_type ( sym ) ; if ( ! type || type -> type != SYM_PTR ) { return 0 ; } type = get_real_base_type ( type ) ; if ( type -> type != SYM_STRUCT ) { return 0 ; } i = 0 ; FOR_EACH_PTR ( , ) { i ++ ; if ( ! tmp -> ident ) { continue ; } if ( strcmp ( expr -> member -> name , tmp -> ident -> name ) == 0 ) { if ( i == 1 ) { return 0 ; } return 1 ; } } END_FOR_EACH_PTR ( tmp ) ; return 0 ; } 