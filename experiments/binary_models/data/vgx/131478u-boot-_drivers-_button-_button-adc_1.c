static int button_adc_bind ( struct udevice * parent ) { struct udevice * dev ; ofnode node ; int ret ; dev_for_each_subnode ( , ) { struct button_uc_plat * uc_plat ; const char * label ; label = ofnode_read_string ( node , "label" ) ; if ( ! label ) { debug ( "%s: node %s has no label\n" , __func__ , ofnode_get_name ( node ) ) ; return - EINVAL ; } ret = device_bind_driver_to_node ( parent , "button_adc" , ofnode_get_name ( node ) , node , & dev ) ; if ( ret ) { return ret ; } uc_plat = dev_get_uclass_plat ( dev , NULL ) ; uc_plat -> label = label ; } return 0 ; } 