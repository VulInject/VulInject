static void osArcPolygon ( msOracleSpatialHandler * hand , shapeObj * shape , SDOGeometryObj * obj , int start , int end , lineObj arcpoints , int elem_type , int data3d , int data4d ) { int n , i ; lineObj points = { 0 NULL } ; n = ( end - start ) / 2 ; points . point = ( pointObj * ) malloc ( sizeof ( pointObj ) * n ) ; if ( data3d ) { n = msOCIGet3DOrdinates ( hand , obj , start , end , points . point ) ; } if ( data4d ) { n = msOCIGet4DOrdinates ( hand , obj , start , end , points . point ) ; } else { n = msOCIGet2DOrdinates ( hand , obj , start , end , points . point ) ; } if ( n > 2 ) { shape -> type = ( elem_type == 32 ) ?MS_SHAPE_POLYGON : MS_SHAPE_LINE ; points . numpoints = n ; for ( i = 0 ; i < n - 2 ; i = i + 2 ) { osGenerateArc ( shape , arcpoints , points , i , data3d , data4d ) ; } } } 