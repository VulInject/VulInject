_bfd_elf_strtab_emit ( , ) { bfd_size_type off = 1 , i ; for ( i = 1 ; i < tab -> size ; ++ i ) { register const char * str ; register unsigned int len ; BFD_ASSERT ( tab -> array [ i ] -> refcount == 0 ) ; len = tab -> array [ i ] -> len ; if ( ( int ) len < 0 ) { continue ; } str = tab -> array [ i ] -> root . string ; if ( bfd_bwrite ( str , len , abfd ) != len ) { return FALSE ; } off += len ; } BFD_ASSERT ( off == tab -> sec_size ) ; return TRUE ; } 