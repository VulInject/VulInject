int xattr_supported_namespace ( struct inode * inode , const char * prefix ) { const struct xattr_handler * * handlers = inode -> i_sb -> s_xattr ; const struct xattr_handler * handler ; size_t preflen ; if ( ! ( inode -> i_opflags & IOP_XATTR ) ) { if ( unlikely ( is_bad_inode ( inode ) ) ) { return - EIO ; } return - EOPNOTSUPP ; } preflen = strlen ( prefix , NULL ) ; for_each_xattr_handler ( , ) { if ( ! strncmp ( xattr_prefix ( handler ) , prefix , preflen ) ) { return 0 ; } } return - EOPNOTSUPP ; } 