static void feh_set_parse_kb_partial ( fehkey * key , int index , char * ks ) { char * cur = ks ; int mod = 0 ; if ( ! * ks ) { return ; } while ( cur [ 1 ] == '-' ) { switch ( cur [ 0 ] ) { case 'C' : mod |= ControlMask ; break ; case 'S' : mod |= ShiftMask ; break ; case '1' : mod |= Mod1Mask ; break ; case '4' : mod |= Mod4Mask ; break ; default : weprintf ( "keys: invalid modifier %c in \"%s\"" , cur [ 0 ] , ks ) ; break ; } cur += 2 ; } key -> keysyms [ index ] = XStringToKeysym ( cur ) ; if ( ignore_space ( key -> keysyms [ index ] ) ) { mod &= ~ ShiftMask ; } key -> keystates [ index ] = mod ; if ( key -> keysyms [ index ] == NoSymbol ) { weprintf ( "keys: Invalid keysym: %s" , cur ) ; } } 