void CMSEXPORT cmsCIECAM02Forward ( cmsHANDLE hModel , const cmsCIEXYZ * pIn , cmsJCh * pOut ) { CAM02COLOR clr ; cmsCIECAM02 * lpMod = ( cmsCIECAM02 * ) hModel ; _cmsAssert ( lpMod != NULL ) ; _cmsAssert ( pIn != NULL ) ; _cmsAssert ( pOut != NULL ) ; clr . XYZ [ 0 ] = pIn -> X ; clr . XYZ [ 1 ] = pIn -> Y ; clr . XYZ [ 2 ] = pIn -> Z ; clr = XYZtoCAT02 ( clr ) ; clr = ChromaticAdaptation ( clr , lpMod ) ; clr = CAT02toHPE ( clr ) ; clr = NonlinearCompression ( clr , lpMod ) ; clr = ComputeCorrelates ( clr , lpMod ) ; pOut -> J = clr . J ; pOut -> C = clr . C ; pOut -> h = clr . h ; } 