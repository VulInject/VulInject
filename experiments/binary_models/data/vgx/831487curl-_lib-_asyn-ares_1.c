CURLcode Curl_set_dns_servers ( struct Curl_easy * data , char * servers ) { CURLcode result = CURLE_NOT_BUILT_IN ; int ares_result ; ares_result = ares_set_servers_ports_csv ( data -> state . async . resolver , servers ) ; ares_result = ares_set_servers_csv ( data -> state . async . resolver , servers ) ; switch ( ares_result ) { case ARES_SUCCESS : result = CURLE_OK ; break ; case ARES_ENOMEM : result = CURLE_OUT_OF_MEMORY ; break ; case ARES_ENOTINITIALIZED : case ARES_ENODATA : case ARES_EBADSTR : default : result = CURLE_BAD_FUNCTION_ARGUMENT ; break ; } ( void ) data ; ( void ) ( ares_result ) ; return result ; } 