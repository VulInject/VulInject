build_dis_hash_table ( ) { int count = cgen_insn_count ( cd ) + cgen_macro_insn_count ( cd ) ; CGEN_INSN_TABLE * insn_table = & cd -> insn_table ; CGEN_INSN_TABLE * macro_insn_table = & cd -> macro_insn_table ; unsigned int hash_size = cd -> dis_hash_size ; CGEN_INSN_LIST * hash_entry_buf ; CGEN_INSN_LIST * * dis_hash_table ; CGEN_INSN_LIST * dis_hash_table_entries ; dis_hash_table = ( CGEN_INSN_LIST * * ) xmalloc ( hash_size * sizeof ( CGEN_INSN_LIST * ) ) ; dis_hash_table_entries = hash_entry_buf = ( CGEN_INSN_LIST * ) xmalloc ( count * sizeof ( CGEN_INSN_LIST ) ) ; hash_entry_buf = hash_insn_array ( cd , insn_table -> init_entries + 1 , insn_table -> num_init_entries - 1 , insn_table -> entry_size , dis_hash_table , hash_entry_buf ) ; hash_entry_buf = hash_insn_array ( cd , macro_insn_table -> init_entries , macro_insn_table -> num_init_entries , macro_insn_table -> entry_size , dis_hash_table , hash_entry_buf ) ; hash_entry_buf = hash_insn_list ( cd , insn_table -> new_entries , dis_hash_table , hash_entry_buf ) ; hash_insn_list ( cd , macro_insn_table -> new_entries , dis_hash_table , hash_entry_buf ) ; cd -> dis_hash_table = dis_hash_table ; cd -> dis_hash_table_entries = dis_hash_table_entries ; } 