static enum drm_connector_status dw_hdmi_connector_detect ( struct drm_connector * connector , bool force ) { struct dw_hdmi * hdmi = container_of ( connector , dw_hdmi , connector ) ; hdmi -> force = DRM_FORCE_UNSPECIFIED ; dw_hdmi_update_power ( hdmi ) ; dw_hdmi_update_phy_mask ( hdmi ) ; mutex_unlock ( & hdmi -> mutex ) ; return hdmi -> phy . ops -> read_hpd ( hdmi , hdmi -> phy . data ) ; } 