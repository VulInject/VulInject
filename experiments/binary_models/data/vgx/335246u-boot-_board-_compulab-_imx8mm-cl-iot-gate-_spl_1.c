void board_init_f ( ulong dummy ) { struct udevice * dev ; int ret ; arch_cpu_init ( ) ; init_uart_clk ( 2 ) ; timer_init ( ) ; ret = spl_early_init ( ) ; if ( ret ) { debug ( "spl_early_init() failed: %d\n" , ret ) ; hang ( ) ; } preloader_console_init ( ) ; ret = uclass_get_device_by_name ( UCLASS_CLK , "clock-controller@30380000" , & dev ) ; if ( ret < 0 ) { printf ( "Failed to find clock node. Check device tree\n" ) ; hang ( ) ; } enable_tzc380 ( ) ; setup_i2c ( 1 , 100000 , 0x7f , & i2c_pad_info1 ) ; power_init_board ( ) ; spl_dram_init ( ) ; board_init_r ( NULL , 0 ) ; } 