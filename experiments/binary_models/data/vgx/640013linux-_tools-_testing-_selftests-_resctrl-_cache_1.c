static int print_results_cache ( char * filename , int bm_pid , unsigned long llc_value ) { FILE * fp ; if ( strcmp ( filename , "stdio" ) == 0 || strcmp ( filename , "stderr" ) == 0 ) { printf ( "Pid: %d \t LLC_value: %lu\n" , bm_pid , llc_value ) ; } else { fp = fopen ( filename , "a" ) ; if ( ! fp ) { perror ( "Cannot open results file" ) ; return errno ; } fprintf ( fp , "Pid: %d \t llc_value: %lu\n" , bm_pid , llc_value ) ; fclose ( fp , NULL ) ; } return 0 ; } 