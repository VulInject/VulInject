{ VID_API_EVENT_UNDEFINED = 0x0 , VID_API_ENC_EVENT_RESET_DONE = 0x1 , VID_API_ENC_EVENT_START_DONE , VID_API_ENC_EVENT_STOP_DONE , VID_API_ENC_EVENT_TERMINATE_DONE , VID_API_ENC_EVENT_FRAME_INPUT_DONE , VID_API_ENC_EVENT_FRAME_DONE , VID_API_ENC_EVENT_FRAME_RELEASE , VID_API_ENC_EVENT_PARA_UPD_DONE , VID_API_ENC_EVENT_MEM_REQUEST , VID_API_ENC_EVENT_FIRMWARE_XCPT , VID_API_ENC_EVENT_RESERVED } { MEDIAIP_ENC_PIC_TYPE_B_FRAME = 0 , MEDIAIP_ENC_PIC_TYPE_P_FRAME , MEDIAIP_ENC_PIC_TYPE_I_FRAME , MEDIAIP_ENC_PIC_TYPE_IDR_FRAME , MEDIAIP_ENC_PIC_TYPE_BI_FRAME } windsor_iface { u32 exec_base_addr ; u32 exec_area_size ; struct vpu_rpc_buffer_desc cmd_buffer_desc ; struct vpu_rpc_buffer_desc msg_buffer_desc ; u32 cmd_int_enable [ VID_API_NUM_STREAMS ] ; u32 fw_version ; u32 mvd_fw_offset ; int max_streams ; u32 ctrl_iface [ VID_API_NUM_STREAMS ] ; struct vpu_rpc_system_config system_config ; u32 api_version ; struct vpu_rpc_buffer_desc log_buffer_desc ; } windsor_ctrl_iface { u32 enc_yuv_buffer_desc ; u32 enc_stream_buffer_desc ; u32 enc_expert_mode_param ; u32 enc_param ; u32 enc_mem_pool ; u32 enc_encoding_status ; u32 enc_dsa_status ; } vpu_enc_yuv_desc { u32 frame_id ; u32 luma_base ; u32 chroma_base ; u32 param_idx ; u32 key_frame ; } vpu_enc_calib_params { u32 use_ame ; u32 cme_mvx_max ; u32 cme_mvy_max ; u32 ame_prefresh_y0 ; u32 ame_prefresh_y1 ; u32 fme_min_sad ; u32 cme_min_sad ; u32 fme_pred_int_weight ; u32 fme_pred_hp_weight ; u32 fme_pred_qp_weight ; u32 fme_cost_weight ; u32 fme_act_thold ; u32 fme_sad_thold ; u32 fme_zero_sad_thold ; u32 fme_lrg_mvx_lmt ; u32 fme_lrg_mvy_lmt ; u32 fme_force_mode ; u32 fme_force4mvcost ; u32 fme_force2mvcost ; u32 h264_inter_thrd ; u32 i16x16_mode_cost ; u32 i4x4_mode_lambda ; u32 i8x8_mode_lambda ; u32 inter_mod_mult ; u32 inter_sel_mult ; u32 inter_bid_cost ; u32 inter_bwd_cost ; u32 inter_4mv_cost ; s32 one_mv_i16_cost ; s32 one_mv_i4x4_cost ; s32 one_mv_i8x8_cost ; s32 two_mv_i16_cost ; s32 two_mv_i4x4_cost ; s32 two_mv_i8x8_cost ; s32 four_mv_i16_cost ; s32 four_mv_i4x4_cost ; s32 four_mv_i8x8_cost ; u32 intra_pred_enab ; u32 intra_chr_pred ; u32 intra16_pred ; u32 intra4x4_pred ; u32 intra8x8_pred ; u32 cb_base ; u32 cb_size ; u32 cb_head_room ; u32 mem_page_width ; u32 mem_page_height ; u32 mem_total_size ; u32 mem_chunk_phys_addr ; u32 mem_chunk_virt_addr ; u32 mem_chunk_size ; u32 mem_y_stride ; u32 mem_uv_stride ; u32 split_wr_enab ; u32 split_wr_req_size ; u32 split_rd_enab ; u32 split_rd_req_size ; } vpu_enc_config_params { u32 param_change ; u32 start_frame ; u32 end_frame ; u32 userdata_enable ; u32 userdata_id [ 4 ] ; u32 userdata_message [ WINDSOR_USER_DATA_WORDS ] ; u32 userdata_length ; u32 h264_profile_idc ; u32 h264_level_idc ; u32 h264_au_delimiter ; u32 h264_seq_end_code ; u32 h264_recovery_points ; u32 h264_vui_parameters ; u32 h264_aspect_ratio_present ; u32 h264_aspect_ratio_sar_width ; u32 h264_aspect_ratio_sar_height ; u32 h264_overscan_present ; u32 h264_video_type_present ; u32 h264_video_format ; u32 h264_video_full_range ; u32 h264_video_colour_descriptor ; u32 h264_video_colour_primaries ; u32 h264_video_transfer_char ; u32 h264_video_matrix_coeff ; u32 h264_chroma_loc_info_present ; u32 h264_chroma_loc_type_top ; u32 h264_chroma_loc_type_bot ; u32 h264_timing_info_present ; u32 h264_buffering_period_present ; u32 h264_low_delay_hrd_flag ; u32 aspect_ratio ; u32 test_mode ; u32 dsa_test_mode ; u32 fme_test_mode ; u32 cbr_row_mode ; u32 windsor_mode ; u32 encode_mode ; u32 frame_width ; u32 frame_height ; u32 enc_frame_width ; u32 enc_frame_height ; u32 frame_rate_num ; u32 frame_rate_den ; u32 vi_field_source ; u32 vi_frame_width ; u32 vi_frame_height ; u32 crop_frame_width ; u32 crop_frame_height ; u32 crop_x_start_posn ; u32 crop_y_start_posn ; u32 mode422 ; u32 mode_yuy2 ; u32 dsa_luma_en ; u32 dsa_chroma_en ; u32 dsa_ext_hfilt_en ; u32 dsa_di_en ; u32 dsa_di_top_ref ; u32 dsa_vertf_disable ; u32 dsa_disable_pwb ; u32 dsa_hor_phase ; u32 dsa_ver_phase ; u32 dsa_iac_enable ; u32 iac_sc_threshold ; u32 iac_vm_threshold ; u32 iac_skip_mode ; u32 iac_grp_width ; u32 iac_grp_height ; u32 rate_control_mode ; u32 rate_control_resolution ; u32 buffer_size ; u32 buffer_level_init ; u32 buffer_I_bit_budget ; u32 top_field_first ; u32 intra_lum_qoffset ; u32 intra_chr_qoffset ; u32 inter_lum_qoffset ; u32 inter_chr_qoffset ; u32 use_def_scaling_mtx ; u32 inter_8x8_enab ; u32 inter_4x4_enab ; u32 fme_enable_qpel ; u32 fme_enable_hpel ; u32 fme_nozeromv ; u32 fme_predmv_en ; u32 fme_pred_2mv4mv ; u32 fme_smallsadthresh ; u32 ame_en_lmvc ; u32 ame_x_mult ; u32 cme_enable_4mv ; u32 cme_enable_1mv ; u32 hme_enable_16x8mv ; u32 hme_enable_8x16mv ; u32 cme_mv_weight ; u32 cme_mv_cost ; u32 ame_mult_mv ; u32 ame_shift_mv ; u32 hme_forceto1mv_en ; u32 hme_2mv_cost ; u32 hme_pred_mode ; u32 hme_sc_rnge ; u32 hme_sw_rnge ; u32 output_format ; u32 timestamp_enab ; u32 initial_pts_enab ; u32 initial_pts ; } 