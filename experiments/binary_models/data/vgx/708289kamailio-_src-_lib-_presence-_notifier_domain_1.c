static notifier_package_t * create_package ( const str_t * name ) { notifier_package_t * p = ( notifier_package_t * ) cds_malloc ( sizeof ( notifier_package_t ) ) ; if ( p ) { p -> first_subscription = NULL ; p -> last_subscription = NULL ; p -> first_notifier = NULL ; p -> last_notifier = NULL ; p -> next = NULL ; p -> prev = NULL ; if ( str_dup ( & p -> name , name ) < 0 ) { cds_free ( p ) ; ERROR_LOG ( "can't allocate memory\n" ) ; return NULL ; } } return p ; } 