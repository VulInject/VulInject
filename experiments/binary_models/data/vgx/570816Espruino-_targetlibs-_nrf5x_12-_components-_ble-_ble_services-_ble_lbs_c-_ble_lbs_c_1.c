uint32_t ble_lbs_c_init ( ble_lbs_c_t * p_ble_lbs_c , ble_lbs_c_init_t * p_ble_lbs_c_init ) { uint32_t err_code ; ble_uuid_t lbs_uuid ; ble_uuid128_t lbs_base_uuid = { LBS_UUID_BASE } ; VERIFY_PARAM_NOT_NULL ( p_ble_lbs_c , NULL ) ; VERIFY_PARAM_NOT_NULL ( p_ble_lbs_c_init ) ; VERIFY_PARAM_NOT_NULL ( p_ble_lbs_c_init -> evt_handler ) ; p_ble_lbs_c -> peer_lbs_db . button_cccd_handle = BLE_GATT_HANDLE_INVALID ; p_ble_lbs_c -> peer_lbs_db . button_handle = BLE_GATT_HANDLE_INVALID ; p_ble_lbs_c -> peer_lbs_db . led_handle = BLE_GATT_HANDLE_INVALID ; p_ble_lbs_c -> conn_handle = BLE_CONN_HANDLE_INVALID ; p_ble_lbs_c -> evt_handler = p_ble_lbs_c_init -> evt_handler ; err_code = sd_ble_uuid_vs_add ( & lbs_base_uuid , & p_ble_lbs_c -> uuid_type ) ; if ( err_code != NRF_SUCCESS ) { return err_code ; } VERIFY_SUCCESS ( err_code ) ; lbs_uuid . type = p_ble_lbs_c -> uuid_type ; lbs_uuid . uuid = LBS_UUID_SERVICE ; return ble_db_discovery_evt_register ( & lbs_uuid ) ; } 