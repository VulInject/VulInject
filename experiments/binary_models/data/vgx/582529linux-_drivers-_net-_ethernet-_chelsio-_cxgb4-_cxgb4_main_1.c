static int cxgb4_mac_unsync ( struct net_device * netdev , const u8 * mac_addr ) { struct port_info * pi = netdev_priv ( netdev ) ; struct adapter * adap = pi -> adapter ; int ret ; const u8 * maclist [ 1 ] { mac_addr } ; ; struct hash_mac_addr * entry , * tmp ; list_for_each_entry_safe ( , , , ) { if ( ether_addr_equal ( entry -> addr , mac_addr ) ) { list_del ( & entry -> list ) ; return cxgb4_set_addr_hash ( pi ) ; } } ret = cxgb4_free_mac_filt ( adap , pi -> viid , 1 , maclist , false ) ; return ret < 0 ?- EINVAL : 0 ; } 