void uwsgi_fsmon_setup ( ) { struct uwsgi_string_list * usl = NULL ; uwsgi_foreach ( , ) { uwsgi_register_fsmon ( usl -> value , fsmon_reload , NULL ) ; } uwsgi_foreach ( , ) { uwsgi_register_fsmon ( usl -> value , fsmon_brutal_reload , NULL ) ; } uwsgi_foreach ( , ) { char * copy = uwsgi_str ( usl -> value ) ; char * space = strchr ( copy , ' ' ) ; if ( ! space ) { uwsgi_log ( "[uwsgi-fsmon] invalid syntax: \"%s\"\n" , usl -> value ) ; continue ; } * space = 0 ; uwsgi_register_fsmon ( copy , fsmon_signal , space + 1 ) ; } struct uwsgi_fsmon * fs = uwsgi . fsmon ; while ( fs ) { if ( fsmon_add ( fs ) ) { uwsgi_log ( "[uwsgi-fsmon] unable to register monitor for \"%s\"\n" , fs -> path ) ; } else { uwsgi_log ( "[uwsgi-fsmon] registered monitor for \"%s\"\n" , fs -> path ) ; } fs = fs -> next ; } } 