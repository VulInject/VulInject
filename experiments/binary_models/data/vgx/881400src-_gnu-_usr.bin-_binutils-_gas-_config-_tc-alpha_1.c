add_to_link_pool ( , , ) symbolS * basesym ; symbolS * sym ; offsetT addend ; { segT current_section = now_seg ; int current_subsec = now_subseg ; valueT offset ; bfd_reloc_code_real_type reloc_type ; char * p ; segment_info_type * seginfo = seg_info ( alpha_link_section ) ; fixS * fixp ; offset = - * symbol_get_obj ( basesym ) ; if ( seginfo -> frchainP ) { for ( fixp = seginfo -> frchainP -> fix_root ; fixp != ( fixS * ) NULL ; fixp = fixp -> fx_next , offset += 8 ) { if ( fixp -> fx_addsy == sym && fixp -> fx_offset == addend ) { if ( range_signed_16 ( offset ) ) { return offset ; } } } } subseg_set ( alpha_link_section , 0 ) ; p = frag_more ( 8 ) ; fix_new ( frag_now , p - frag_now -> fr_literal , 8 , sym , addend , 0 , BFD_RELOC_64 ) ; subseg_set ( current_section , current_subsec ) ; seginfo -> literal_pool_size += 8 ; return offset ; } 