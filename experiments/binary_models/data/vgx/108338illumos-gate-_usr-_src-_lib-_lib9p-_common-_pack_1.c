void l9p_freefcall ( union l9p_fcall * fcall ) { uint16_t i ; switch ( fcall -> hdr . type ) { case L9P_TVERSION : case L9P_RVERSION : free ( fcall -> version . version ) ; return ; case L9P_TATTACH : free ( fcall -> tattach . uname ) ; return ; case L9P_TWALK : for ( i = 0 ; i < fcall -> twalk . nwname ; i ++ ) { free ( fcall -> twalk . wname [ i ] ) ; } return ; case L9P_TCREATE : case L9P_TOPEN : free ( fcall -> tcreate . name ) ; free ( fcall -> tcreate . extension ) ; return ; case L9P_RSTAT : l9p_freestat ( & fcall -> rstat . stat ) ; return ; case L9P_TWSTAT : l9p_freestat ( & fcall -> twstat . stat ) ; return ; case L9P_TLCREATE : free ( fcall -> tlcreate . name ) ; return ; case L9P_TSYMLINK : free ( fcall -> tsymlink . name ) ; free ( fcall -> tsymlink . symtgt ) ; return ; case L9P_TMKNOD : free ( fcall -> tmknod . name ) ; return ; case L9P_TRENAME : free ( fcall -> trename . name ) ; return ; case L9P_RREADLINK : free ( fcall -> rreadlink . target ) ; return ; case L9P_TXATTRWALK : free ( fcall -> txattrwalk . name ) ; return ; case L9P_TXATTRCREATE : free ( fcall -> txattrcreate . name ) ; return ; case L9P_TLOCK : free ( fcall -> tlock . client_id ) ; return ; case L9P_TGETLOCK : case L9P_RGETLOCK : free ( fcall -> getlock . client_id ) ; return ; case L9P_TLINK : free ( fcall -> tlink . name ) ; return ; case L9P_TMKDIR : free ( fcall -> tmkdir . name ) ; return ; case L9P_TRENAMEAT : free ( fcall -> trenameat . oldname ) ; free ( fcall -> trenameat . newname ) ; return ; case L9P_TUNLINKAT : free ( fcall -> tunlinkat . name ) ; return ; } } 