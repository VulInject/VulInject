static int qemuBuildMasterKeyCommandLine ( virCommand * cmd , qemuDomainObjPrivate * priv ) { g_autofree char * alias = NULL ; g_autofree char * path = NULL ; g_autoptr ( ) props = NULL ; if ( ! ( path = qemuDomainGetMasterKeyFilePath ( priv -> libDir ) ) ) { return - 1 ; } if ( qemuMonitorCreateObjectProps ( & props , "secret" , alias , "s:format" , "raw" , "s:file" , path , NULL ) < 0 ) { return - 1 ; } if ( qemuBuildObjectCommandlineFromJSON ( cmd , props , priv -> qemuCaps ) < 0 ) { return - 1 ; } return 0 ; } 