static void xilinx_pci_fixup_bridge ( struct pci_dev * dev ) { struct pci_controller * hose ; int i ; hose = pci_bus_to_host ( dev -> bus ) ; if ( ! hose ) { return ; } if ( ! of_match_node ( xilinx_pci_match , hose -> dn ) ) { return ; } for ( i = 0 ; i < DEVICE_COUNT_RESOURCE ; i ++ ) { dev -> resource [ i ] . start = 0 ; dev -> resource [ i ] . end = 0 ; dev -> resource [ i ] . flags = 0 ; } dev_info ( & dev -> dev , "Hiding Xilinx plb-pci host bridge resources %s\n" , pci_name ( dev ) ) ; } 