int dm_set_vupdate_irq ( struct drm_crtc * crtc , bool enable ) { enum dc_irq_source irq_source ; struct amdgpu_crtc * acrtc = to_amdgpu_crtc ( crtc ) ; struct amdgpu_device * adev = drm_to_adev ( crtc -> dev ) ; int rc ; irq_source = IRQ_TYPE_VUPDATE + acrtc -> otg_inst ; rc = dc_interrupt_set ( adev -> dm . dc , irq_source , enable ) ?0 : - EBUSY ; DRM_DEBUG_VBL ( "crtc %d - vupdate irq %sabling: r=%d\n" , acrtc -> crtc_id , enable ?"en" : "dis" , rc ) ; return rc ; } 