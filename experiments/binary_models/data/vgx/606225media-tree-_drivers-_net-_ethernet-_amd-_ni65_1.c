static int ni65_open ( struct net_device * dev ) { struct priv * p = dev -> ml_priv ; int irqval = request_irq ( dev -> irq , ni65_interrupt , 0 , cards [ p -> cardno ] . cardname , dev ) ; if ( irqval ) { printk ( KERN_ERR "%s: unable to get IRQ %d (irqval=%d).\n" , dev -> name , dev -> irq , irqval ) ; return - EAGAIN ; } if ( ni65_lance_reinit ( dev ) ) { netif_start_queue ( dev , NULL ) ; return 0 ; } else { free_irq ( dev -> irq , dev ) ; return - EAGAIN ; } } 