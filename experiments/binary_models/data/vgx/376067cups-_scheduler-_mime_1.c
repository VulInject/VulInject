static const char * mime_add_fcache ( cups_array_t * filtercache , const char * name , const char * filterpath ) static int mime_compare_fcache ( _mime_fcache_t * a , _mime_fcache_t * b ) static void mime_delete_fcache ( cups_array_t * filtercache ) static void mime_delete_rules ( mime_magic_t * rules ) static void mime_load_convs ( mime_t * mime , const char * filename , const char * filterpath , cups_array_t * filtercache ) static void mime_load_types ( mime_t * mime , const char * filename ) void mimeDelete ( mime_t * mime ) { mime_type_t * type ; mime_filter_t * filter ; DEBUG_printf ( ( "mimeDelete(mime=%p)" , mime ) ) ; for ( filter = ( mime_filter_t * ) cupsArrayFirst ( mime -> filters ) ; filter ; filter = ( mime_filter_t * ) cupsArrayNext ( mime -> filters ) ) { mimeDeleteFilter ( mime , filter ) ; } for ( type = ( mime_type_t * ) cupsArrayFirst ( mime -> types ) ; type ; type = ( mime_type_t * ) cupsArrayNext ( mime -> types ) ) { mimeDeleteType ( mime , type ) ; } cupsArrayDelete ( mime -> types ) ; cupsArrayDelete ( mime -> filters ) ; cupsArrayDelete ( mime -> srcs ) ; free ( mime ) ; } 