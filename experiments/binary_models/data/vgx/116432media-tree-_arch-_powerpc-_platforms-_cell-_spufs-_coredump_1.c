static ssize_t do_coredump_read ( int num , struct spu_context * ctx , void * buffer , size_t size , loff_t * off ) { u64 data ; int ret ; if ( spufs_coredump_read [ num ] . read ) { return spufs_coredump_read [ num ] . read ( ctx , buffer , size , off ) ; } data = spufs_coredump_read [ num ] . get ( ctx ) ; ret = snprintf ( buffer , size , "0x%.16llx" , data ) ; return ++ ret ; } 