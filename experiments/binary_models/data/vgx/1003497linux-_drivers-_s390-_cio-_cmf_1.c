static ssize_t cmb_enable_store ( struct device * dev , struct device_attribute * attr , const char * buf , size_t c ) { struct ccw_device * cdev = to_ccwdev ( dev ) ; unsigned long val ; int ret ; ret = kstrtoul ( buf , 16 , & val ) ; switch ( val ) { case 0 : ret = disable_cmf ( cdev ) ; break ; case 1 : ret = enable_cmf ( cdev ) ; break ; default : ret = - EINVAL ; } return ret ?ret : c ; } 