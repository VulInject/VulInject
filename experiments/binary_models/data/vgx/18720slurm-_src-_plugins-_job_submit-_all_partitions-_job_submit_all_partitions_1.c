extern int job_submit ( job_desc_msg_t * job_desc , uint32_t submit_uid , char * * err_msg ) { ListIterator part_iterator ; part_record_t * part_ptr ; if ( job_desc -> partition ) { return SLURM_SUCCESS ; } part_iterator = list_iterator_create ( part_list , NULL ) ; while ( ( part_ptr = list_next ( part_iterator ) ) ) { if ( ! ( part_ptr -> state_up & PARTITION_SUBMIT ) ) { continue ; } if ( job_desc -> partition ) { xstrcat ( job_desc -> partition , "," ) ; } xstrcat ( job_desc -> partition , part_ptr -> name ) ; } list_iterator_destroy ( part_iterator ) ; return SLURM_SUCCESS ; } 