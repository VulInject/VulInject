static rpmsid rpmstrPoolGet ( rpmstrPool pool , const char * key , size_t keylen , unsigned int keyHash ) { poolHash ht = pool -> hash ; const char * s ; for ( unsigned int i = 0 ; ; i ++ ) { int hash = hashbucket ( keyHash , i ) % ht -> numBuckets ; if ( ! ht -> buckets [ hash ] . keyid ) { return 0 ; } s = id2str ( pool , ht -> buckets [ hash ] . keyid ) ; if ( strncmp ( s , key , keylen ) == 0 && s [ keylen ] == '\0' ) { return ht -> buckets [ hash ] . keyid ; } } } 