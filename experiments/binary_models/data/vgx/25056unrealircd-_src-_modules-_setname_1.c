char * setname_isupport_param ( void ) long CAP_SETNAME = 0L ; ModuleHeader MOD_HEADER = { "setname" "5.0" "command /setname" "UnrealIRCd Team" "unrealircd-6" } ; MOD_INIT ( ) { ClientCapabilityInfo cap ; ClientCapability * c ; MARK_AS_OFFICIAL_MODULE ( modinfo ) ; CommandAdd ( modinfo -> handle , MSG_SETNAME , cmd_setname , 1 , CMD_USER ) ; cap . name = "setname" ; c = ClientCapabilityAdd ( modinfo -> handle , & cap , & CAP_SETNAME ) ; if ( ! c ) { config_error ( "[%s] Failed to request setname cap: %s" , MOD_HEADER . name , ModuleGetErrorStr ( modinfo -> handle ) ) ; return MOD_FAILED ; } return MOD_SUCCESS ; } 