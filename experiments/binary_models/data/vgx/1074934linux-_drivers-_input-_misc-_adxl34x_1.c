static ssize_t adxl34x_calibrate_show ( struct device * dev , struct device_attribute * attr , char * buf ) { struct adxl34x * ac = dev_get_drvdata ( dev ) ; ssize_t count ; count = sprintf ( buf , "%d,%d,%d\n" , ac -> hwcal . x * 4 + ac -> swcal . x , ac -> hwcal . y * 4 + ac -> swcal . y , ac -> hwcal . z * 4 + ac -> swcal . z ) ; mutex_unlock ( & ac -> mutex ) ; return count ; } 