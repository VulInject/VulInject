static int rt9467_otg_of_parse_cb ( struct device_node * of , const struct regulator_desc * desc , struct regulator_config * cfg ) { struct rt9467_chg_data * data = cfg -> driver_data ; cfg -> ena_gpiod = fwnode_gpiod_get_index ( of_fwnode_handle ( of ) , "enable" , 0 , GPIOD_OUT_LOW | GPIOD_FLAGS_BIT_NONEXCLUSIVE , desc -> name ) ; if ( IS_ERR ( cfg -> ena_gpiod ) ) { return 0 ; } return regmap_field_write ( data -> rm_field [ F_OTG_PIN_EN ] , 1 ) ; } 