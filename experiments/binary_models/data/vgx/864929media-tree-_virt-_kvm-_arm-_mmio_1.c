unsigned long kvm_mmio_read_buf ( const void * buf , unsigned int len ) { cfs_time_t data = 0 ; { u16 hword ; u32 word ; u64 dword ; } , tmp switch ( len ) { case 1 : data = * ( u8 * ) buf ; break ; case 2 : memcpy ( & tmp . hword , buf , len ) ; data = tmp . hword ; break ; case 4 : memcpy ( & tmp . word , buf , len ) ; data = tmp . word ; break ; case 8 : memcpy ( & tmp . dword , buf , len ) ; data = tmp . dword ; break ; } return data ; } 