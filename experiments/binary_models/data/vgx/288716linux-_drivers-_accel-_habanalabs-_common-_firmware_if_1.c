int hl_fw_unmask_irq ( struct hl_device * hdev , u16 event_type ) { struct cpucp_packet pkt ; u64 result ; int rc ; pkt . ctl = cpu_to_le32 ( CPUCP_PACKET_UNMASK_RAZWI_IRQ << CPUCP_PKT_CTL_OPCODE_SHIFT ) ; pkt . value = cpu_to_le64 ( event_type ) ; rc = hdev -> asic_funcs -> send_cpu_message ( hdev , ( u32 * ) & pkt , sizeof ( pkt ) , 0 , & result ) ; if ( rc ) { dev_err ( hdev -> dev , "failed to unmask RAZWI IRQ %d" , event_type ) ; } return rc ; } 