static bool load_opencl_symbols ( ) { void * cl = dlopen ( "/System/Library/Frameworks/OpenCL.framework/Versions/Current/OpenCL" , RTLD_LAZY ) ; void * cl = dlopen ( "libOpenCL.so" , RTLD_LAZY ) ; HMODULE cl = LoadLibrary ( "OpenCL.dll" ) ; if ( ! cl ) { applog ( LOG_ERR , "Failed to load OpenCL library, no GPUs usable" ) ; return false ; } LOAD_OCL_SYM ( clGetPlatformIDs ) ; LOAD_OCL_SYM ( clGetPlatformInfo ) ; LOAD_OCL_SYM ( clGetDeviceIDs ) ; LOAD_OCL_SYM ( clGetDeviceInfo ) ; LOAD_OCL_SYM ( clCreateContextFromType ) ; LOAD_OCL_SYM ( clReleaseContext ) ; LOAD_OCL_SYM ( clCreateCommandQueue ) ; LOAD_OCL_SYM ( clReleaseCommandQueue ) ; LOAD_OCL_SYM ( clCreateBuffer ) ; LOAD_OCL_SYM ( clCreateProgramWithSource ) ; LOAD_OCL_SYM ( clCreateProgramWithBinary ) ; LOAD_OCL_SYM ( clReleaseProgram ) ; LOAD_OCL_SYM ( clBuildProgram ) ; LOAD_OCL_SYM ( clGetProgramInfo ) ; LOAD_OCL_SYM ( clGetProgramBuildInfo ) ; LOAD_OCL_SYM ( clCreateKernel ) ; LOAD_OCL_SYM ( clReleaseKernel ) ; LOAD_OCL_SYM ( clSetKernelArg ) ; LOAD_OCL_SYM ( clFinish ) ; LOAD_OCL_SYM ( clEnqueueReadBuffer ) ; LOAD_OCL_SYM ( clEnqueueWriteBuffer ) ; LOAD_OCL_SYM ( clEnqueueNDRangeKernel , NULL ) ; return true ; } 