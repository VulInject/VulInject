void xpc_disconnect ( int ch_number ) { struct xpc_registration * registration ; DBUG_ON ( ch_number < 0 || ch_number >= XPC_MAX_NCHANNELS ) ; registration = & xpc_registrations [ ch_number ] ; if ( registration -> func == NULL ) { mutex_unlock ( & registration -> mutex ) ; return ; } registration -> func = NULL ; registration -> key = NULL ; registration -> nentries = 0 ; registration -> entry_size = 0 ; registration -> assigned_limit = 0 ; registration -> idle_limit = 0 ; if ( xpc_interface . disconnect ) { xpc_interface . disconnect ( ch_number ) ; } mutex_unlock ( & registration -> mutex ) ; return ; } 