int prepare_ha ( void ) { use_ha = 0 ; if ( ! ( jain_ping_config || servlet_ping_config ) ) { return 0 ; } if ( parse_ping ( jain_ping_config , & jain_ping_period , & jain_pings_lost , & jain_ping_timeout ) < 0 ) { error } if ( parse_ping ( servlet_ping_config , & servlet_ping_period , & servlet_pings_lost , & servlet_ping_timeout ) < 0 ) { error } LM_DBG ( "jain: pinging period :%d max pings lost:%d ping timeout:%d\n" , jain_ping_period , jain_pings_lost , jain_ping_timeout ) ; LM_DBG ( "servlet: pinging period:%d max pings lost:%d ping timeout:%d\n" , servlet_ping_period , servlet_pings_lost , servlet_ping_timeout ) ; use_ha = 1 ; return 1 ; error return - 1 ; } 