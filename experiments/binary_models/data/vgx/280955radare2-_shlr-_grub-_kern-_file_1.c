GRUB_EXPORT ( grub_file_pb_init ) ; GRUB_EXPORT ( grub_file_pb_fini ) ; GRUB_EXPORT ( grub_file_pb_show ) ; GRUB_EXPORT ( grub_file_pb_read ) ; char * grub_file_get_device_name ( const char * name ) { if ( name [ 0 ] == '(' ) { char * p = grub_strchr ( name , ')' ) ; char * ret ; if ( ! p ) { grub_error ( GRUB_ERR_BAD_FILENAME , "missing `)'" ) ; return 0 ; } ret = ( char * ) grub_malloc ( p - name ) ; grub_memcpy ( ret , name + 1 , p - name - 1 ) ; ret [ p - name - 1 ] = '\0' ; return ret ; } return 0 ; } 