static struct backlight_device * of_find_backlight ( struct device * dev ) { struct backlight_device * bd ; struct device_node * np ; if ( ! dev ) { return NULL ; } if ( IS_ENABLED ( CONFIG_OF ) && dev -> of_node ) { np = of_parse_phandle ( dev -> of_node , "backlight" , 0 ) ; if ( np ) { bd = of_find_backlight_by_node ( np ) ; of_node_put ( np ) ; if ( ! bd ) { return ERR_PTR ( - EPROBE_DEFER ) ; } } } return bd ; } 