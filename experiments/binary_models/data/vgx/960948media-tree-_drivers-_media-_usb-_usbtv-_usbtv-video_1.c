static int usbtv_configure_for_norm ( struct usbtv * usbtv , v4l2_std_id norm ) { int i , ret ; struct usbtv_norm_params * params = NULL ; for ( i = 0 ; i < ARRAY_SIZE ( norm_params ) ; i ++ ) { if ( norm_params [ i ] . norm & norm ) { params = & norm_params [ i ] ; break ; } } if ( params ) { usbtv -> width = params -> cap_width ; usbtv -> height = params -> cap_height ; usbtv -> n_chunks = usbtv -> width * usbtv -> height / 4 / USBTV_CHUNK ; usbtv -> norm = params -> norm ; } else { ret = - EINVAL ; } return ret ; } 