int drm_get_panel_orientation_quirk ( int width , int height ) { const struct dmi_system_id * match ; const struct drm_dmi_panel_orientation_data * data ; const char * bios_date ; int i ; for ( match = dmi_first_match ( orientation_data ) ; match ; match = dmi_first_match ( match + 1 ) ) { data = match -> driver_data ; if ( data -> width != width || data -> height != height ) { continue ; } if ( ! data -> bios_dates ) { return data -> orientation ; } bios_date = dmi_get_system_info ( DMI_BIOS_DATE ) ; i = match_string ( data -> bios_dates , - 1 , bios_date ) ; if ( i >= 0 ) { return data -> orientation ; } } return DRM_MODE_PANEL_ORIENTATION_UNKNOWN ; } 