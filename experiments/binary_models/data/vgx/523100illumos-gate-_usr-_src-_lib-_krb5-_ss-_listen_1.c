* / CPL_MATCH_FN ( ) { int argc len ws i char * * argv * l ss_commands * commands = data int ret = 0 l = strdup ( line ) } ; if ( word_end != strlen ( l ) ) { l [ word_end ] = '\0' ; } if ( ss_parse ( commands -> sci_idx , l , & argc , & argv , 1 ) ) { free ( l ) ; return ( ret ) ; } if ( argc < 2 ) { len = argc ?strlen ( argv [ 0 ] ) : 0 ; ws = word_end - len ; for ( i = 0 ; i < commands -> count ; i ++ ) { if ( strncmp ( commands -> cmd [ i ] , line + ws , len ) == 0 ) { ret = cpl_add_completion ( cpl , line , ws , word_end , commands -> cmd [ i ] + len , "" , " " ) ; if ( ret ) { break ; } } } } free ( argv ) ; free ( l ) ; return ( ret ) ; 