static int wilc_sdio_read_size ( struct wilc * wilc , u32 * size ) { u32 tmp ; struct sdio_cmd52 cmd ; cmd . read_write = 0 ; cmd . function = 0 ; cmd . raw = 0 ; cmd . address = WILC_SDIO_INTERRUPT_DATA_SZ_REG ; wilc_sdio_cmd52 ( wilc , & cmd ) ; tmp = cmd . data ; cmd . address = WILC_SDIO_INTERRUPT_DATA_SZ_REG + 1 ; cmd . data = 0 ; wilc_sdio_cmd52 ( wilc , & cmd ) ; tmp |= ( cmd . data << 8 ) ; * size = tmp ; return 0 ; } 