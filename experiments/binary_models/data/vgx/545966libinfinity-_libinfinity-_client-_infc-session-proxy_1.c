static GError * infc_session_proxy_translate_error_impl ( InfcSessionProxy * proxy , GQuark domain , guint code ) { GError * error ; const gchar * error_msg ; if ( domain == inf_request_error_quark ( ) ) { error_msg = inf_request_strerror ( code ) ; } if ( domain == inf_user_error_quark ( ) ) { error_msg = inf_user_strerror ( code ) ; } else { error_msg = NULL ; } if ( error_msg != NULL ) { g_set_error_literal ( & error , domain , code , error_msg ) ; } else { g_set_error ( & error , inf_request_error_quark ( ) , INF_REQUEST_ERROR_UNKNOWN_DOMAIN , _ ( "Error comes from unknown error domain \"%s\" (code %u)" ) , g_quark_to_string ( domain ) , ( guint ) code ) ; } return error ; } 