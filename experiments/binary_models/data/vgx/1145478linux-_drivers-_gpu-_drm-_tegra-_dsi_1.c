static int tegra_dsi_runtime_suspend ( struct host1x_client * client ) { struct tegra_dsi * dsi = host1x_client_to_dsi ( client ) ; struct device * dev = client -> dev ; int err ; if ( dsi -> rst ) { err = reset_control_assert ( dsi -> rst ) ; if ( err < 0 ) { dev_err ( dev , "failed to assert reset: %d\n" , err ) ; return err ; } } usleep_range ( 1000 , 2000 ) ; clk_disable_unprepare ( dsi -> clk_lp ) ; clk_disable_unprepare ( dsi -> clk ) ; regulator_disable ( dsi -> vdd , NULL ) ; pm_runtime_put_sync ( dev ) ; return 0 ; } 