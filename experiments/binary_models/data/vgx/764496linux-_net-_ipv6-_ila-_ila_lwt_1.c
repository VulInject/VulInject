static int ila_fill_encap_info ( struct sk_buff * skb , struct lwtunnel_state * lwtstate ) { struct ila_params * p = ila_params_lwtunnel ( lwtstate ) ; struct ila_lwt * ilwt = ila_lwt_lwtunnel ( lwtstate ) ; if ( nla_put_u64_64bit ( skb , ILA_ATTR_LOCATOR , ( __force u64 ) p -> locator . v64 , ILA_ATTR_PAD ) ) { nla_put_failure } if ( nla_put_u8 ( skb , ILA_ATTR_CSUM_MODE , ( __force u8 ) p -> csum_mode ) ) { nla_put_failure } if ( nla_put_u8 ( skb , ILA_ATTR_IDENT_TYPE , ( __force u8 ) p -> ident_type ) ) { nla_put_failure } return 0 ; nla_put_failure return - EMSGSIZE ; } 