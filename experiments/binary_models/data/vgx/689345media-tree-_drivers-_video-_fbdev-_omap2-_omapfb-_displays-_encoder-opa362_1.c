static int opa362_enable ( struct omap_dss_device * dssdev ) { struct panel_drv_data * ddata = to_panel_data ( dssdev ) ; struct omap_dss_device * in = ddata -> in ; int r ; dev_dbg ( dssdev -> dev , "enable\n" ) ; if ( ! omapdss_device_is_connected ( dssdev ) ) { return - ENODEV ; } in -> ops . atv -> set_timings ( in , & ddata -> timings ) ; r = in -> ops . atv -> enable ( in ) ; if ( r ) { return r ; } if ( ddata -> enable_gpio ) { gpiod_set_value_cansleep ( ddata -> enable_gpio , 1 ) ; } dssdev -> state = OMAP_DSS_DISPLAY_ACTIVE ; return 0 ; } 