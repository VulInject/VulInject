static struct element_st * append_list ( struct element_st * l1 , struct element_st * l2 ) { struct element_st * p = NULL , * q = NULL , * l1_tail = NULL ; if ( l2 == NULL ) { return ( l1 ) ; } p = l2 ; while ( p != NULL ) { q = l1 ; while ( q != NULL ) { if ( msgidcmp ( p -> msgid , q -> msgid ) == 0 ) { p -> isduplicate = TRUE ; break ; } q = q -> next ; } p = p -> next ; } l1_tail = l1 ; while ( l1_tail -> next != NULL ) { if ( l1 -> next == NULL ) { break ; } l1_tail = l1_tail -> next ; } l1_tail -> next = l2 ; return ( l1 ) ; } 