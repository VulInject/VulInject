static int dpcm_apply_symmetry ( struct snd_pcm_substream * fe_substream , int stream ) { struct snd_soc_dpcm * dpcm ; struct snd_soc_pcm_runtime * fe = asoc_substream_to_rtd ( fe_substream ) ; struct snd_soc_dai * fe_cpu_dai ; int err = 0 ; int i ; soc_pcm_update_symmetry ( fe_substream ) ; for_each_rtd_cpu_dais ( , , ) { err = soc_pcm_apply_symmetry ( fe_substream , fe_cpu_dai ) ; if ( err < 0 ) { error } } for_each_dpcm_be ( , , ) { struct snd_soc_pcm_runtime * be = dpcm -> be ; struct snd_pcm_substream * be_substream = snd_soc_dpcm_get_substream ( be , stream ) ; struct snd_soc_pcm_runtime * rtd ; struct snd_soc_dai * dai ; rtd = asoc_substream_to_rtd ( be_substream ) ; if ( rtd -> dai_link -> be_hw_params_fixup ) { continue ; } soc_pcm_update_symmetry ( be_substream ) ; for_each_rtd_dais ( , , ) { err = soc_pcm_apply_symmetry ( fe_substream , dai ) ; if ( err < 0 ) { error } } } error return soc_pcm_ret ( fe , err ) ; } 