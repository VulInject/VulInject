static ssize_t led_delay_on_store ( struct device * dev , struct device_attribute * attr , const char * buf , size_t size ) { struct led_classdev * led_cdev = led_trigger_get_led ( dev ) ; unsigned long state ; ssize_t ret ; ret = kstrtoul ( buf , 10 , & state ) ; led_blink_set ( led_cdev , & state , & led_cdev -> blink_delay_off ) ; led_cdev -> blink_delay_on = state ; return size ; } 