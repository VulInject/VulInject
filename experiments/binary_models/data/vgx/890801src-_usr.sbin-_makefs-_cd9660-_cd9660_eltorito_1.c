static struct boot_catalog_entry * cd9660_boot_setup_default_entry ( struct cd9660_boot_image * disk ) { struct boot_catalog_entry * default_entry ; boot_catalog_initial_entry * ie ; default_entry = cd9660_init_boot_catalog_entry ( ) ; default_entry -> entry_type = ET_ENTRY_IE ; ie = & default_entry -> entry_data . IE ; ie -> boot_indicator [ 0 ] = disk -> bootable ; ie -> media_type [ 0 ] = disk -> targetMode ; cd9660_721 ( disk -> loadSegment , ie -> load_segment ) ; ie -> system_type [ 0 ] = disk -> system ; cd9660_721 ( disk -> num_sectors , ie -> sector_count ) ; cd9660_731 ( disk -> sector , ie -> load_rba ) ; ELTORITO_DPRINTF ( ( "%s: boot indicator %d, media type %d, " "load segment %04x, system type %d, sector count %d, " "load rba %d\n" , __func__ , ie -> boot_indicator [ 0 ] , ie -> media_type [ 0 ] , disk -> loadSegment , ie -> system_type [ 0 ] , disk -> num_sectors , disk -> sector ) ) ; return default_entry ; } 