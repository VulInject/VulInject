int olpc_ec_sci_query ( u16 * sci_value ) { struct olpc_ec_priv * ec = ec_priv ; int ret ; if ( ec -> version >= 0x5f ) { __be16 ec_word ; ret = olpc_ec_cmd ( EC_EXT_SCI_QUERY , NULL , 0 , ( void * ) & ec_word , 2 ) ; if ( ret == 0 ) { * sci_value = be16_to_cpu ( ec_word ) ; } } else { u8 ec_byte ; ret = olpc_ec_cmd ( EC_SCI_QUERY , NULL , 0 , & ec_byte , 1 ) ; if ( ret == 0 ) { * sci_value = ec_byte ; } } return ret ; } 