int priv_getiftype ( char * ifname , char * type , unsigned int * unitptr ) { const char * errstr ; size_t span ; unsigned int unit ; span = strcspn ( ifname , "0123456789" ) ; memcpy ( type , ifname , span ) ; type [ span ] = 0 ; unit = strtonum ( ifname + span , 0 , UINT_MAX , & errstr ) ; if ( errstr != NULL ) { return ( - 1 ) ; } if ( unitptr != NULL ) { * unitptr = unit ; } return ( 0 ) ; } 