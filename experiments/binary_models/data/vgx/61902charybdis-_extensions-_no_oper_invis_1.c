static void h_noi_umode_changed ( hook_data_umode_changed * hdata ) { struct Client * source_p = hdata -> client ; if ( MyClient ( source_p ) && IsOper ( source_p ) && ! IsOperInvis ( source_p ) && IsInvisible ( source_p ) ) { ClearInvisible ( source_p , NULL ) ; if ( hdata -> oldumodes & UMODE_OPER ) { sendto_one_notice ( source_p , ":*** Opers may not set themselves invisible" ) ; } } } 