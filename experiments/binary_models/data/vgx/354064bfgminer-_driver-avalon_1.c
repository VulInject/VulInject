static bool avalon_decode_nonce ( struct thr_info * thr , struct avalon_result * ar , uint32_t * nonce ) { struct cgpu_info * avalon ; struct avalon_info * info ; struct work * work ; avalon = thr -> cgpu ; if ( unlikely ( ! avalon -> works ) ) { return false ; } work = clone_queued_work_bymidstate ( avalon , ( char * ) ar -> midstate , 32 , ( char * ) ar -> data , 64 , 12 ) ; if ( ! work ) { return false ; } info = avalon -> device_data ; info -> matching_work [ work -> subid ] ++ ; * nonce = htole32 ( ar -> nonce ) ; submit_nonce ( thr , work , * nonce ) ; return true ; } 