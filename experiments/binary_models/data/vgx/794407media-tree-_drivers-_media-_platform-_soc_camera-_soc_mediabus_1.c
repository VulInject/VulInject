s32 soc_mbus_bytes_per_line ( u32 width , const struct soc_mbus_pixelfmt * mf ) { switch ( mf -> packing ) { case SOC_MBUS_PACKING_NONE : return width * mf -> bits_per_sample / 8 ; case SOC_MBUS_PACKING_2X8_PADHI : case SOC_MBUS_PACKING_2X8_PADLO : case SOC_MBUS_PACKING_EXTEND16 : return width * 2 ; case SOC_MBUS_PACKING_1_5X8 : return width * 3 / 2 ; case SOC_MBUS_PACKING_VARIABLE : return 0 ; case SOC_MBUS_PACKING_EXTEND32 : return width * 4 ; } return - EINVAL ; } 