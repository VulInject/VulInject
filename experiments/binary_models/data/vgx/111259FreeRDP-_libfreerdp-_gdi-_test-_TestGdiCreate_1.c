static int test_gdi_CreatePatternBrush ( void ) { int rc = - 1 ; HGDI_BRUSH hBrush ; HGDI_BITMAP hBitmap ; hBitmap = gdi_CreateBitmap ( 64 , 64 , 32 , NULL ) ; hBrush = gdi_CreatePatternBrush ( hBitmap , NULL ) ; if ( ! hBitmap || ! hBrush ) { fail } if ( hBrush -> objectType != GDIOBJECT_BRUSH ) { fail } if ( hBrush -> style != GDI_BS_PATTERN ) { fail } if ( hBrush -> pattern != hBitmap ) { fail } rc = 0 ; fail if ( hBitmap ) { gdi_DeleteObject ( ( HGDIOBJECT ) hBitmap ) ; } if ( hBrush ) { gdi_DeleteObject ( ( HGDIOBJECT ) hBrush ) ; } return rc ; } 