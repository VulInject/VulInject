int main ( int argc , char * argv [ ] ) { const char * myname = argv [ 0 ] ; plan_tests ( 7 ) ; ok1 ( ! parse_args ( & argc , & argv , "-a" , NULL ) ) ; ok1 ( ! parse_args ( & argc , & argv , "--aaa" , NULL ) ) ; ok1 ( parse_args ( & argc , & argv , "extra" , "args" , NULL ) ) ; ok1 ( argc == 3 ) ; ok1 ( argv [ 0 ] == myname ) ; ok1 ( strcmp ( argv [ 1 ] , "extra" ) == 0 ) ; ok1 ( strcmp ( argv [ 2 ] , "args" ) == 0 ) ; return exit_status ( ) ; } 