static int default_validate ( struct task_struct * task , unsigned int flags , int cpu , void * data ) { pfm_default_smpl_arg_t * arg = ( pfm_default_smpl_arg_t * ) data ; int ret ; if ( data == NULL ) { DPRINT ( ( "[%d] no argument passed\n" , task_pid_nr ( task ) ) ) ; return - EINVAL ; } DPRINT ( ( "[%d] validate flags=0x%x CPU%d\n" , task_pid_nr ( task ) , flags , cpu ) ) ; if ( arg -> buf_size < PFM_DEFAULT_SMPL_MIN_BUF_SIZE ) { return - EINVAL ; } DPRINT ( ( "buf_size=%lu\n" , arg -> buf_size ) ) ; return ret ; } 