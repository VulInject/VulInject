static int wiphy_update_device ( Wiphy * w ) { _cleanup_ ( ) sd_device * dev = NULL ; int r ; assert ( w ) ; assert ( w -> name ) ; w -> dev = sd_device_unref ( w -> dev ) ; r = sd_device_new_from_subsystem_sysname ( & dev , "ieee80211" , w -> name ) ; if ( r < 0 ) { return r ; } if ( DEBUG_LOGGING ) { const char * s = NULL ; ( void ) sd_device_get_syspath ( dev , & s ) ; log_wiphy_debug ( w , "Found device: %s" , strna ( s ) ) ; } w -> dev = TAKE_PTR ( dev ) ; return 0 ; } 