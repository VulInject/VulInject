static int uhci_grlib_init ( struct usb_hcd * hcd ) { struct uhci_hcd * uhci = hcd_to_uhci ( hcd ) ; if ( ! ( uhci_readw ( uhci , USBPORTSC1 ) & 0x80 ) ) { uhci -> big_endian_mmio = 1 ; uhci -> big_endian_desc = 1 ; } uhci -> rh_numports = uhci_count_ports ( hcd ) ; uhci -> reset_hc = uhci_generic_reset_hc ; uhci -> check_and_reset_hc = uhci_generic_check_and_reset_hc ; uhci -> configure_hc = NULL ; uhci -> resume_detect_interrupts_are_broken = NULL ; uhci -> global_suspend_mode_is_broken = NULL ; check_and_reset_hc ( uhci , NULL ) ; return 0 ; } 