static void dib8000_reset_stats ( struct dvb_frontend * fe ) { struct dib8000_state * state = fe -> demodulator_priv ; struct dtv_frontend_properties * c = & state -> fe [ 0 ] -> dtv_property_cache ; u32 ucb ; memset ( & c -> cnr , 0 , sizeof ( c -> cnr ) ) ; memset ( & c -> post_bit_error , 0 , sizeof ( c -> post_bit_error ) ) ; memset ( & c -> post_bit_count , 0 , sizeof ( c -> post_bit_count ) ) ; memset ( & c -> block_error , 0 , sizeof ( c -> block_error ) ) ; c -> strength . len = 1 ; c -> cnr . len = 1 ; c -> block_error . len = 1 ; c -> block_count . len = 1 ; c -> post_bit_error . len = 1 ; c -> post_bit_count . len = 1 ; c -> strength . stat [ 0 ] . scale = FE_SCALE_DECIBEL ; c -> strength . stat [ 0 ] . uvalue = 0 ; c -> cnr . stat [ 0 ] . scale = FE_SCALE_NOT_AVAILABLE ; c -> block_error . stat [ 0 ] . scale = FE_SCALE_NOT_AVAILABLE ; c -> block_count . stat [ 0 ] . scale = FE_SCALE_NOT_AVAILABLE ; c -> post_bit_error . stat [ 0 ] . scale = FE_SCALE_NOT_AVAILABLE ; c -> post_bit_count . stat [ 0 ] . scale = FE_SCALE_NOT_AVAILABLE ; dib8000_read_unc_blocks ( fe , & ucb ) ; state -> init_ucb = - ucb ; state -> ber_jiffies_stats = 0 ; state -> per_jiffies_stats = 0 ; memset ( & state -> ber_jiffies_stats_layer , 0 , sizeof ( state -> ber_jiffies_stats_layer ) ) ; } 