static int expunge_userflags ( struct mailbox * mailbox , struct expire_rock * erock ) { unsigned int i ; int r ; for ( i = 0 ; i < MAX_USER_FLAGS ; i ++ ) { if ( erock -> userflags [ i / 32 ] & 1 << ( i & 31 ) ) { continue ; } verbosep ( "Expunging userflag %u (%s) from %s" , i , mailbox -> h . flagname [ i ] , mailbox_name ( mailbox ) ) ; r = mailbox_remove_user_flag ( mailbox , i ) ; if ( r ) { return r ; } erock -> userflags_expunged ++ ; } return 0 ; } 