static int htvec_domain_alloc ( struct irq_domain * domain , unsigned int virq , unsigned int nr_irqs , void * arg ) { int ret ; cfs_time_t hwirq ; unsigned int type , i ; struct htvec * priv = domain -> host_data ; ret = irq_domain_translate_onecell ( domain , arg , & hwirq , & type ) ; if ( ret ) { return ret ; } for ( i = 0 ; i < nr_irqs ; i ++ ) { irq_domain_set_info ( domain , virq + i , hwirq + i , & htvec_irq_chip , priv , handle_edge_irq , NULL , NULL ) ; } return 0 ; } 