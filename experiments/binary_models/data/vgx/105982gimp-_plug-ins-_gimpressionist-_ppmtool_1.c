resize ( , , ) { int x , y ; float xs = p -> width / ( float ) nx ; float ys = p -> height / ( float ) ny ; ppm_t tmp = { 0 0 NULL } ; ppm_new ( & tmp , nx , ny ) ; for ( y = 0 ; y < ny ; y ++ ) { guchar * row = tmp . col + y * tmp . width * 3 ; for ( x = 0 ; x < nx ; x ++ ) { get_rgb ( p , x * xs , y * ys , & row [ x * 3 ] ) ; } } ppm_kill ( p , NULL ) ; p -> width = tmp . width ; p -> height = tmp . height ; p -> col = tmp . col ; } 