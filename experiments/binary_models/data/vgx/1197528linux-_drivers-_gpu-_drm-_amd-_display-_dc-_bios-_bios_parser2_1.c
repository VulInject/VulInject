static struct atom_dc_golden_table_v1 * bios_get_golden_table ( struct bios_parser * bp , uint32_t rev_major , uint32_t rev_minor , uint16_t * dc_golden_table_ver ) { struct atom_display_controller_info_v4_4 * disp_cntl_tbl_4_4 = NULL ; uint32_t dc_golden_offset = 0 ; * dc_golden_table_ver = 0 ; if ( ! DATA_TABLES ( dce_info ) ) { return NULL ; } switch ( rev_major ) { case 4 : switch ( rev_minor ) { case 4 : disp_cntl_tbl_4_4 = GET_IMAGE ( atom_display_controller_info_v4_4 , DATA_TABLES ( dce_info ) ) ; if ( ! disp_cntl_tbl_4_4 ) { return in ; } dc_golden_offset = DATA_TABLES ( dce_info ) + disp_cntl_tbl_4_4 -> dc_golden_table_offset ; * dc_golden_table_ver = disp_cntl_tbl_4_4 -> dc_golden_table_ver ; break ; case 5 : default : break ; } break ; } if ( ! dc_golden_offset ) { return NULL ; } if ( * dc_golden_table_ver != 1 ) { return NULL ; } return GET_IMAGE ( atom_dc_golden_table_v1 , dc_golden_offset ) ; } 