static int add_int2array ( int p , int * * parray ) { int i ; int cnt ; int * pa ; int * new_array ; pa = * parray ; cnt = 0 ; if ( pa != NULL ) { for ( ; pa [ cnt ] != - 1 ; cnt ++ ) { } } new_array = ( int * ) calloc ( cnt + 2 , sizeof ( int * ) ) ; if ( new_array == NULL ) { return ( ENOMEM ) ; } for ( i = 0 ; i < cnt ; i ++ ) { new_array [ i ] = pa [ i ] ; } new_array [ i ] = p ; new_array [ i + 1 ] = - 1 ; * parray = new_array ; return ( 0 ) ; } 