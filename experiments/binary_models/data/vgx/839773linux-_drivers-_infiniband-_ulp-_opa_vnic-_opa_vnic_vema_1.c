static void vema_get_veswport_info ( struct opa_vnic_vema_port * port , struct opa_vnic_vema_mad * recvd_mad , struct opa_vnic_vema_mad * rsp_mad ) { struct opa_veswport_info * port_info = ( opa_veswport_info * ) rsp_mad -> data ; struct opa_vnic_adapter * adapter ; adapter = vema_get_vport_adapter ( recvd_mad , port ) ; if ( adapter ) { opa_vnic_get_vesw_info ( adapter , & port_info -> vesw ) ; opa_vnic_get_per_veswport_info ( adapter , & port_info -> vport ) ; } else { vema_get_pod_values ( port_info ) ; } } 