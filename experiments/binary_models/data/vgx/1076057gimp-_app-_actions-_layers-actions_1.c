layers_actions_setup ( ) { GdkDisplay * display = gdk_display_get_default ( ) ; GdkModifierType extend_mask ; GdkModifierType modify_mask ; extend_mask = gdk_keymap_get_modifier_mask ( gdk_keymap_get_for_display ( display ) , GDK_MODIFIER_INTENT_EXTEND_SELECTION ) ; modify_mask = gdk_keymap_get_modifier_mask ( gdk_keymap_get_for_display ( display ) , GDK_MODIFIER_INTENT_MODIFY_SELECTION ) ; gimp_action_group_add_actions ( group , "layers-action" , layers_actions , G_N_ELEMENTS ( layers_actions ) ) ; gimp_action_group_add_toggle_actions ( group , "layers-action" , layers_toggle_actions , G_N_ELEMENTS ( layers_toggle_actions ) ) ; gimp_action_group_add_radio_actions ( group , "layers-action" , layers_blend_space_actions , G_N_ELEMENTS ( layers_blend_space_actions ) , 0 , layers_blend_space_cmd_callback ) ; gimp_action_group_add_radio_actions ( group , "layers-action" , layers_composite_space_actions , G_N_ELEMENTS ( layers_composite_space_actions ) , NULL , 0 , layers_composite_space_cmd_callback ) ; gimp_action_group_add_radio_actions ( group , "layers-action" , layers_composite_mode_actions , G_N_ELEMENTS ( layers_composite_mode_actions ) , NULL , 0 , layers_composite_mode_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_color_tag_actions , G_N_ELEMENTS ( layers_color_tag_actions ) , layers_color_tag_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_mask_apply_actions , G_N_ELEMENTS ( layers_mask_apply_actions ) , layers_mask_apply_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_mask_to_selection_actions , G_N_ELEMENTS ( layers_mask_to_selection_actions ) , layers_mask_to_selection_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_alpha_to_selection_actions , G_N_ELEMENTS ( layers_alpha_to_selection_actions ) , layers_alpha_to_selection_cmd_callback ) ; layers_actions_fix_tooltip ( group , "layers-alpha-selection-replace" , GDK_MOD1_MASK ) ; layers_actions_fix_tooltip ( group , "layers-alpha-selection-add" , extend_mask | GDK_MOD1_MASK ) ; layers_actions_fix_tooltip ( group , "layers-alpha-selection-subtract" , modify_mask | GDK_MOD1_MASK ) ; layers_actions_fix_tooltip ( group , "layers-alpha-selection-intersect" , extend_mask | modify_mask | GDK_MOD1_MASK ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_select_actions , G_N_ELEMENTS ( layers_select_actions ) , layers_select_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_opacity_actions , G_N_ELEMENTS ( layers_opacity_actions ) , layers_opacity_cmd_callback ) ; gimp_action_group_add_enum_actions ( group , "layers-action" , layers_mode_actions , G_N_ELEMENTS ( layers_mode_actions ) , layers_mode_cmd_callback ) ; items_actions_setup ( group , "layers" ) ; } 