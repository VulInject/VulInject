void cvs_server_validreq ( char * data ) { BUF * bp ; char * d ; int i , first ; first = 0 ; bp = buf_alloc ( 512 ) ; for ( i = 0 ; cvs_requests [ i ] . supported != - 1 ; i ++ ) { if ( cvs_requests [ i ] . hdlr == NULL ) { continue ; } if ( first != 0 ) { buf_putc ( bp , ' ' ) ; } else { first ++ ; } buf_puts ( bp , cvs_requests [ i ] . name ) ; } buf_putc ( bp , '\0' ) ; d = buf_release ( bp ) ; cvs_server_send_response ( "Valid-requests %s" , d ) ; cvs_server_send_response ( "ok" ) ; } 