void win_print ( ProfWin * window , theme_item_t theme_item , const char * show_char , const char * const message , ... ) { GDateTime * timestamp = g_date_time_new_now_local ( ) ; va_list arg ; va_start ( arg , message ) ; GString * fmt_msg = g_string_new ( NULL ) ; g_string_vprintf ( fmt_msg , message , arg ) ; buffer_append ( window -> layout -> buffer , show_char , 0 , timestamp , NO_EOL , theme_item , "" , fmt_msg -> str , NULL , NULL ) ; _win_print_internal ( window , show_char , 0 , timestamp , NO_EOL , theme_item , "" , fmt_msg -> str , NULL ) ; inp_nonblocking ( TRUE ) ; g_date_time_unref ( timestamp ) ; g_string_free ( fmt_msg , TRUE ) ; va_end ( arg ) ; } 