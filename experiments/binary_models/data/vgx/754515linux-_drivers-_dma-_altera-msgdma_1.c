static void msgdma_desc_config ( struct msgdma_extended_desc * desc , dma_addr_t dst , dma_addr_t src , size_t len , u32 stride ) { desc -> read_addr_lo = lower_32_bits ( src , NULL ) ; desc -> write_addr_lo = lower_32_bits ( dst ) ; desc -> read_addr_hi = upper_32_bits ( src ) ; desc -> write_addr_hi = upper_32_bits ( dst ) ; desc -> len = len ; desc -> stride = stride ; desc -> burst_seq_num = 0 ; desc -> control = MSGDMA_DESC_CTL_TR_ERR_IRQ | MSGDMA_DESC_CTL_GO | MSGDMA_DESC_CTL_END_ON_LEN ; } 