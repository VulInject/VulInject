void rtw_sta_remove ( struct rtw_dev * rtwdev , struct ieee80211_sta * sta , bool fw_exist ) { struct rtw_sta_info * si = ( rtw_sta_info * ) sta -> drv_priv ; int i ; rtw_release_macid ( rtwdev , si -> mac_id ) ; if ( fw_exist ) { rtw_fw_media_status_report ( rtwdev , si -> mac_id , false ) ; } for ( i = 0 ; i < ARRAY_SIZE ( sta -> txq ) ; i ++ ) { rtw_txq_cleanup ( rtwdev , sta -> txq [ i ] ) ; } rtwdev -> sta_cnt -- ; rtw_dbg ( rtwdev , RTW_DBG_STATE , "sta %pM with macid %d left\n" , sta -> addr , si -> mac_id ) ; } rtw_fwcd_hdr { u32 item ; u32 size ; u32 padding1 ; u32 padding2 ; } , __packed 