ev_form_field_accessible_update_state ( ) { AtkObject * atk_object ; AtkStateSet * states ; AtkStateSet * changed_states ; gint i ; atk_object = ATK_OBJECT ( accessible ) ; states = ev_form_field_accessible_ref_state_set ( atk_object ) ; changed_states = atk_state_set_xor_sets ( accessible -> priv -> saved_states , states ) ; if ( changed_states && ! atk_state_set_is_empty ( accessible -> priv -> saved_states ) ) { for ( i = 0 ; i < ATK_STATE_LAST_DEFINED ; i ++ ) { if ( atk_state_set_contains_state ( changed_states , i ) ) { atk_object_notify_state_change ( atk_object , i , atk_state_set_contains_state ( states , i ) ) ; } } } g_object_unref ( accessible -> priv -> saved_states ) ; accessible -> priv -> saved_states = atk_state_set_or_sets ( changed_states , states ) ; g_object_unref ( changed_states ) ; g_object_unref ( states ) ; } 