unichar_t * utf82u_copy ( const char * utf8buf ) { int len ; unichar_t * ubuf ; len = strlen ( utf8buf ) ; ubuf = ( unichar_t * ) malloc ( ( len + 1 ) * sizeof ( unichar_t ) ) ; return ( utf82u_strncpy ( ubuf , utf8buf , len + 1 ) ) ; } 