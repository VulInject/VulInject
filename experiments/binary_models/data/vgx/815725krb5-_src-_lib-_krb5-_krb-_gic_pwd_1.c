static krb5_error_code make_chpw_options ( krb5_context context , krb5_get_init_creds_opt * in , krb5_get_init_creds_opt * * out ) { krb5_get_init_creds_opt * opt ; * out = NULL ; opt = k5_gic_opt_shallow_copy ( in ) ; if ( opt == NULL ) { return ENOMEM ; } krb5_get_init_creds_opt_set_tkt_life ( opt , 5 * 60 ) ; krb5_get_init_creds_opt_set_renew_life ( opt , 0 ) ; krb5_get_init_creds_opt_set_forwardable ( opt , 0 ) ; krb5_get_init_creds_opt_set_proxiable ( opt , 0 ) ; opt -> flags &= ~ KRB5_GET_INIT_CREDS_OPT_ADDRESS_LIST ; opt -> flags &= ~ KRB5_GET_INIT_CREDS_OPT_ANONYMOUS ; krb5_get_init_creds_opt_set_out_ccache ( context , opt ) ; * out = opt ; return 0 ; } 