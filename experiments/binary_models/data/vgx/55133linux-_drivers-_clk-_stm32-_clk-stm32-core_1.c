static void clk_stm32_set_safe_position_mux ( struct clk_hw * hw ) { struct clk_stm32_composite * composite = to_clk_stm32_composite ( hw ) ; if ( ! clk_stm32_composite_is_enabled ( hw ) ) { unsigned long flags = 0 ; if ( composite -> clock_data -> is_multi_mux ) { struct clk_hw * other_mux_hw = NULL ; other_mux_hw = composite -> clock_data -> is_multi_mux ( hw ) ; } spin_lock_irqsave ( composite -> lock , flags ) ; stm32_mux_set_parent ( composite -> base , composite -> clock_data , composite -> mux_id , MUX_SAFE_POSITION ) ; spin_unlock_irqrestore ( composite -> lock , flags ) ; } } 