int do_halt = 0 ; int verbose = 0 ; char rsvp [ ] "please reboot" ; ; char prog [ ] "cprboot" ; ; char entry [ ] "ENTRY" ; ; char ent_fmt [ ] "\n%s %s\n" ; ; static char cb_argbuf [ CB_MAXPROP ] ; static char * cb_args [ CB_MAXARGS ] ; static int reusable ; char * specialstate ; static int cb_intro ( void ) { static char cstr [ ] "\014" "\033[1P" "\033[18;21H" ; ; CB_VENTRY ( cb_intro ) ; if ( ( uintptr_t ) _end > CB_SRC_VIRT ) { prom_printf ( "\ndata collision:\n" "(_end=0x%p>CB_LOW_VIRT=0x%x), recompile...\n" , ( void * ) _end , CB_SRC_VIRT ) ; return ( ERR ) ; } prom_printf ( cstr , NULL ) ; prom_printf ( "Restoring the System. Please Wait... " ) ; return ( 0 ) ; } 