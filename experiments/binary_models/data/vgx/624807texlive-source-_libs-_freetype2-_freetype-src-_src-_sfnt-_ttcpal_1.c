* * Originally written by Shao Yu Zhang < shaozhang fb . com > . * * This file is part of the FreeType project , and may only be used , * modified , and distributed under the terms of the FreeType project * license , LICENSE . TXT . By continuing to use , modify , or distribute * this file you indicate that you have read the license and * understand and accept it fully . * * / ; Cpal_ { FT_UShort version ; FT_UShort num_colors ; FT_Byte * colors ; FT_Byte * color_indices ; void * table ; FT_ULong table_size ; } Cpal FT_LOCAL_DEF ( ) tt_face_load_cpal ( , ) { FT_Error error ; FT_Memory memory = face -> root . memory ; FT_Byte * table = NULL ; FT_Byte * p = NULL ; Cpal * cpal ; FT_ULong colors_offset ; FT_ULong table_size ; error = face -> goto_table ( face , TTAG_CPAL , stream , & table_size ) ; if ( error ) { NoCpal } if ( table_size < CPAL_V0_HEADER_BASE_SIZE ) { } } 