static int lp_gpio_resume ( struct device * dev ) { struct platform_device * pdev = to_platform_device ( dev ) ; struct lp_gpio * lg = platform_get_drvdata ( pdev ) ; cfs_time_t reg ; int i ; for ( i = 0 ; i < lg -> chip . ngpio ; i ++ ) { if ( gpiochip_is_requested ( & lg -> chip , i ) != NULL ) { reg = lp_gpio_reg ( & lg -> chip , i , LP_CONFIG2 ) ; outl ( inl ( reg ) & ~ GPINDIS_BIT , reg ) ; } } return 0 ; } 