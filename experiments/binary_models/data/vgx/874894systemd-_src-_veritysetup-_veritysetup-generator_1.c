static int run ( const char * dest , const char * dest_early , const char * dest_late ) { int r ; assert_se ( arg_dest = dest ) ; arg_veritytab = getenv ( "SYSTEMD_VERITYTAB" ) ?: "/etc/veritytab" ; r = proc_cmdline_parse ( parse_proc_cmdline_item , NULL , PROC_CMDLINE_STRIP_RD_PREFIX ) ; if ( r < 0 ) { return log_warning_errno ( r , "Failed to parse kernel command line: %m" ) ; } r = add_veritytab_devices ( ) ; if ( r < 0 ) { return r ; } r = determine_devices ( ) ; if ( r < 0 ) { return r ; } r = create_root_device ( ) ; if ( r < 0 ) { return r ; } return create_usr_device ( ) ; } 