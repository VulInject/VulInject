static void winwidget_unregister ( winwidget win ) { int i , j ; for ( i = 0 ; i < window_num ; i ++ ) { if ( windows [ i ] == win ) { for ( j = i ; j < window_num - 1 ; j ++ ) { windows [ j ] = windows [ j + 1 ] ; } window_num -- ; if ( window_num > 0 ) { windows = erealloc ( windows , window_num * sizeof ( winwidget ) ) ; } else { windows = NULL ; } } } XDeleteContext ( disp , win -> win , xid_context ) ; return ; } 