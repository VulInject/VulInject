static int cmd_find_session_better ( struct session * s , struct session * than , int flags ) { int attached ; if ( flags & CMD_FIND_PREFER_UNATTACHED ) { attached = ( than -> attached != 0 ) ; if ( attached && s -> attached == 0 ) { return ( 1 ) ; } if ( ! attached && s -> attached != 0 ) { return ( 0 ) ; } } return ( timercmp ( & s -> activity_time , & than -> activity_time , > ) ) ; } 