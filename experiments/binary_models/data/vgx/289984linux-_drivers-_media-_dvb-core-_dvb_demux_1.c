static int dmx_section_feed_set ( struct dmx_section_feed * feed , u16 pid , int check_crc ) { struct dvb_demux_feed * dvbdmxfeed = ( dvb_demux_feed * ) feed ; struct dvb_demux * dvbdmx = dvbdmxfeed -> demux ; if ( mutex_lock_interruptible ( & dvbdmx -> mutex ) ) { return - ERESTARTSYS ; } dvb_demux_feed_add ( dvbdmxfeed ) ; dvbdmxfeed -> pid = pid ; dvbdmxfeed -> feed . sec . check_crc = check_crc ; dvbdmxfeed -> state = DMX_STATE_READY ; mutex_unlock ( & dvbdmx -> mutex ) ; return 0 ; } 