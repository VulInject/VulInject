int cs_dsp_read_raw_data_block ( struct cs_dsp * dsp , int mem_type , unsigned int mem_addr , unsigned int num_words , __be32 * data ) { struct cs_dsp_region const * mem = cs_dsp_find_region ( dsp , mem_type ) ; unsigned int reg ; int ret ; lockdep_assert_held ( & dsp -> pwr_lock ) ; reg = dsp -> ops -> region_to_reg ( mem , mem_addr ) ; ret = regmap_raw_read ( dsp -> regmap , reg , data , sizeof ( * data ) * num_words ) ; if ( ret < 0 ) { return ret ; } return 0 ; } 