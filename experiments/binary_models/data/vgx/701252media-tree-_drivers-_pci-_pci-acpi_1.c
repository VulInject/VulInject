int acpi_get_rc_resources ( struct device * dev , const char * hid , u16 segment , struct resource * res ) { struct acpi_device * adev ; acpi_status status ; acpi_handle handle ; int ret ; status = acpi_get_devices ( hid , acpi_match_rc , & segment , & handle ) ; if ( ACPI_FAILURE ( status ) ) { dev_err ( dev , "can't find _HID %s device to locate resources\n" , hid ) ; return - ENODEV ; } ret = acpi_bus_get_device ( handle , & adev ) ; ret = acpi_get_rc_addr ( adev , res ) ; if ( ret ) { dev_err ( dev , "can't get resource from %s\n" , dev_name ( & adev -> dev ) ) ; return ret ; } return 0 ; } 