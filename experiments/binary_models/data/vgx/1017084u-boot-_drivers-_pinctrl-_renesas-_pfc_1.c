static int sh_pfc_pinctrl_probe ( struct udevice * dev ) { struct sh_pfc_pinctrl_priv * priv = dev_get_priv ( dev ) ; enum sh_pfc_model model = dev_get_driver_data ( dev ) ; fdt_addr_t base ; base = dev_read_addr ( dev ) ; priv -> pfc . regs = devm_ioremap ( dev , base , SZ_2K ) ; if ( ! priv -> pfc . regs ) { return - ENOMEM ; } if ( model == SH_PFC_R8A7790 ) { priv -> pfc . info = & r8a7790_pinmux_info ; } if ( model == SH_PFC_R8A7791 ) { priv -> pfc . info = & r8a7791_pinmux_info ; } if ( model == SH_PFC_R8A7792 ) { priv -> pfc . info = & r8a7792_pinmux_info ; } if ( model == SH_PFC_R8A7793 ) { priv -> pfc . info = & r8a7793_pinmux_info ; } if ( model == SH_PFC_R8A7794 ) { priv -> pfc . info = & r8a7794_pinmux_info ; } if ( model == SH_PFC_R8A7795 ) { priv -> pfc . info = & r8a77951_pinmux_info ; } if ( model == SH_PFC_R8A77960 ) { priv -> pfc . info = & r8a77960_pinmux_info ; } if ( model == SH_PFC_R8A77961 ) { priv -> pfc . info = & r8a77961_pinmux_info ; } if ( model == SH_PFC_R8A774A1 ) { priv -> pfc . info = & r8a774a1_pinmux_info ; } if ( model == SH_PFC_R8A774B1 ) { priv -> pfc . info = & r8a774b1_pinmux_info ; } if ( model == SH_PFC_R8A774C0 ) { priv -> pfc . info = & r8a774c0_pinmux_info ; } if ( model == SH_PFC_R8A774E1 ) { priv -> pfc . info = & r8a774e1_pinmux_info ; } if ( model == SH_PFC_R8A77965 ) { priv -> pfc . info = & r8a77965_pinmux_info ; } if ( model == SH_PFC_R8A77970 ) { priv -> pfc . info = & r8a77970_pinmux_info ; } if ( model == SH_PFC_R8A77980 ) { priv -> pfc . info = & r8a77980_pinmux_info ; } if ( model == SH_PFC_R8A77990 ) { priv -> pfc . info = & r8a77990_pinmux_info ; } if ( model == SH_PFC_R8A77995 ) { priv -> pfc . info = & r8a77995_pinmux_info ; } if ( model == SH_PFC_R8A779A0 ) { priv -> pfc . info = & r8a779a0_pinmux_info ; } priv -> pmx . pfc = & priv -> pfc ; sh_pfc_init_ranges ( & priv -> pfc ) ; sh_pfc_map_pins ( & priv -> pfc , & priv -> pmx ) ; return 0 ; } 