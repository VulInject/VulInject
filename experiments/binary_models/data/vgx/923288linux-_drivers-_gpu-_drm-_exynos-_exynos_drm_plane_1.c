static int exynos_plane_atomic_check ( struct drm_plane * plane , struct drm_atomic_state * state ) { struct drm_plane_state * new_plane_state = drm_atomic_get_new_plane_state ( state , plane ) ; struct exynos_drm_plane * exynos_plane = to_exynos_plane ( plane ) ; struct exynos_drm_plane_state * exynos_state = to_exynos_plane_state ( new_plane_state ) ; int ret ; if ( ! new_plane_state -> crtc || ! new_plane_state -> fb ) { return 0 ; } exynos_plane_mode_set ( exynos_state ) ; ret = exynos_drm_plane_check_format ( exynos_plane -> config , exynos_state ) ; if ( ret ) { return ret ; } ret = exynos_drm_plane_check_size ( exynos_plane -> config , exynos_state ) ; return ret ; } 