static void zone_timer ( evutil_socket_t fd , short flg , void * arg ) { struct DNSContext * ctx = arg ; struct List * el ; struct DNSZone * z ; if ( list_empty ( & ctx -> zone_list ) ) { return ; } el = list_first ( & ctx -> zone_list ) ; z = container_of ( el , DNSZone , lnode ) ; ctx -> zone_state = 1 ; ctx -> cur_zone = z ; ctx -> active ++ ; impl_query_soa_serial ( ctx , z -> zonename ) ; } 