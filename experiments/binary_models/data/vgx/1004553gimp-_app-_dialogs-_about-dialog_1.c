about_dialog_add_animation ( , ) { gint height ; dialog -> anim_area = gtk_drawing_area_new ( ) ; gtk_box_pack_start ( GTK_BOX ( vbox ) , dialog -> anim_area , FALSE , FALSE , 0 ) ; gtk_box_reorder_child ( GTK_BOX ( vbox ) , dialog -> anim_area , 5 ) ; gtk_widget_show ( dialog -> anim_area , NULL ) ; dialog -> layout = gtk_widget_create_pango_layout ( dialog -> anim_area , NULL ) ; g_object_weak_ref ( G_OBJECT ( dialog -> anim_area ) , ( GWeakNotify ) g_object_unref , dialog -> layout ) ; pango_layout_get_pixel_size ( dialog -> layout , NULL , & height ) ; gtk_widget_set_size_request ( dialog -> anim_area , - 1 , 2 * height ) ; g_signal_connect ( dialog -> anim_area , "draw" , G_CALLBACK ( about_dialog_anim_draw ) , dialog ) ; } 