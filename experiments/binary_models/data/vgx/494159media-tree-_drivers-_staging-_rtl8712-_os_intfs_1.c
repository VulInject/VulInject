u8 r8712_init_drv_sw ( struct _adapter * padapter ) { padapter -> cmdpriv . padapter = padapter ; if ( ( r8712_init_evt_priv ( & padapter -> evtpriv ) ) == _FAIL ) { return _FAIL ; } if ( r8712_init_mlme_priv ( padapter ) == _FAIL ) { return _FAIL ; } _r8712_init_xmit_priv ( & padapter -> xmitpriv , padapter ) ; _r8712_init_recv_priv ( & padapter -> recvpriv , padapter ) ; memset ( ( unsigned char * ) & padapter -> securitypriv , 0 , sizeof ( security_priv ) ) ; setup_timer ( & padapter -> securitypriv . tkip_timer , r8712_use_tkipkey_handler , ( unsigned long ) padapter ) ; _r8712_init_sta_priv ( & padapter -> stapriv ) ; padapter -> stapriv . padapter = padapter ; r8712_init_bcmc_stainfo ( padapter ) ; r8712_init_pwrctrl_priv ( padapter ) ; mp871xinit ( padapter ) ; if ( init_default_value ( padapter ) != _SUCCESS ) { return _FAIL ; } r8712_InitSwLeds ( padapter ) ; return _SUCCESS ; } 