static struct page * alloc_largest_available ( struct ion_system_heap * heap , struct ion_buffer * buffer , unsigned long size , unsigned int max_order ) { struct page * page ; int i ; for ( i = 0 ; i < NUM_ORDERS ; i ++ ) { if ( size < order_to_size ( orders [ i ] ) ) { continue ; } if ( max_order < orders [ i ] ) { continue ; } page = alloc_buffer_page ( heap , buffer , orders [ i ] ) ; return page ; } return NULL ; } 