int lsblk_device_next_parent ( struct lsblk_device * dev , struct lsblk_iter * itr , struct lsblk_device * * parent ) { int rc = 1 ; * parent = NULL ; if ( ! itr -> head ) { LSBLK_ITER_INIT ( itr , & dev -> parents ) ; } if ( itr -> p != itr -> head ) { struct lsblk_devdep * dp = NULL ; LSBLK_ITER_ITERATE ( itr , dp , lsblk_devdep , ls_parents ) ; if ( dp ) { * parent = dp -> parent ; } rc = 0 ; } return rc ; } 