static enum vfp_status v_matchproto_ ( vfp_pull_f ) v1f_straight_pull ( vfp_ctx * vc , vfp_entry * vfe , void * p , ssize_t * lp ) ( ssize_t l , lr , http_conn * htc , CHECK_OBJ_NOTNULL ( vc , VFP_CTX_MAGIC ) , CHECK_OBJ_NOTNULL ( vfe , VFP_ENTRY_MAGIC ) , CAST_OBJ_NOTNULL ( htc , vfe -> priv1 , HTTP_CONN_MAGIC ) , AN ( p ) , AN ( lp ) , l = * lp , * lp = 0 , ( vfe -> priv2 == 0 ) return ( VFP_END ) ; ) ; l = vmin ( l , vfe -> priv2 ) ; lr = v1f_read ( vc , htc , p , l ) ; if ( lr <= 0 ) { return ( VFP_Error ( vc , "straight insufficient bytes" ) ) ; } * lp = lr ; vfe -> priv2 -= lr ; return ( VFP_OK ) ; 