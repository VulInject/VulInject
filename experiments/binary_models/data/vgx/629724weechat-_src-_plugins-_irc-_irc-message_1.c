irc_message_split_authenticate ( , , , , ) { int number , length ; char message [ 8192 ] , * args ; const char * ptr_args ; number = 1 ; length = 0 ; ptr_args = arguments ; while ( ptr_args && ptr_args [ 0 ] ) { length = strlen ( ptr_args ) ; if ( length == 0 ) { break ; } if ( length > 400 ) { length = 400 ; } args = weechat_strndup ( ptr_args , length ) ; snprintf ( message , sizeof ( message ) , "%s%s%s %s" , ( host ) ?host : "" , ( host ) ?" " : "" , command , args ) ; irc_message_split_add ( hashtable , number , tags , message , args ) ; free ( args ) ; number ++ ; ptr_args += length ; } if ( ( length == 0 ) || ( length == 400 ) ) { snprintf ( message , sizeof ( message ) , "%s%s%s +" , ( host ) ?host : "" , ( host ) ?" " : "" , command ) ; irc_message_split_add ( hashtable , number , tags , message , "+" ) ; number ++ ; } return 1 ; } 