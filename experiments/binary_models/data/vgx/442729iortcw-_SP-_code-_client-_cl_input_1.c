if ( cmd -> buttons & BUTTON_ACTIVATE ) { if ( side > 0 ) { cmd -> wbuttons |= WBUTTON_LEANRIGHT ; } if ( side < 0 ) { cmd -> wbuttons |= WBUTTON_LEANLEFT ; } side = 0 ; } up += movespeed * CL_KeyState ( & kb [ KB_UP ] ) ; up -= movespeed * CL_KeyState ( & kb [ KB_DOWN ] ) ; forward += movespeed * CL_KeyState ( & kb [ KB_FORWARD ] ) ; forward -= movespeed * CL_KeyState ( & kb [ KB_BACK ] ) ; kick = CL_KeyState ( & kb [ KB_KICK ] ) ; if ( ! ( cl . snap . ps . persistant [ PERS_HWEAPON_USE ] ) ) { cmd -> forwardmove = ClampChar ( forward ) ; cmd -> rightmove = ClampChar ( side ) ; cmd -> upmove = ClampChar ( up ) ; cmd -> wolfkick = ClampChar ( kick , NULL ) ; } 