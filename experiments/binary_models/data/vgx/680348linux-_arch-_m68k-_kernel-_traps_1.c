asmlinkage void buserr_c ( struct frame * fp ) { if ( user_mode ( & fp -> ptregs ) ) { current -> thread . esp0 = ( unsigned long ) fp ; } pr_debug ( "*** Bus Error *** Format is %x\n" , fp -> ptregs . format ) ; if ( CPU_IS_COLDFIRE ) { int fs ; fs = ( fp -> ptregs . vector & 0x3 ) | ( ( fp -> ptregs . vector & 0xc00 ) >> 8 ) ; switch ( fs ) { case 0x5 : case 0x6 : case 0x7 : case 0x9 : case 0xa : case 0xd : case 0xe : case 0xf : access_errorcf ( fs , fp ) ; return ; default : break ; } } switch ( fp -> ptregs . format ) { case 4 : access_error060 ( fp ) ; break ; case 0x7 : access_error040 ( fp ) ; break ; case 0xa : case 0xb : bus_error030 ( fp ) ; break ; default : die_if_kernel ( "bad frame format" , & fp -> ptregs , 0 ) ; pr_debug ( "Unknown SIGSEGV - 4\n" ) ; force_sig ( SIGSEGV ) ; } } 