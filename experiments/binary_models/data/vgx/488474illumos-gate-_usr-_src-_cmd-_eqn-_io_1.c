void putout ( int p1 ) { extern int gsize , gfont ; int before , after ; if ( dbg ) { printf ( ".\tanswer<- S%d, h=%d,b=%d\n" , p1 , eht [ p1 ] , ebase [ p1 ] ) ; } eqnht = eht [ p1 ] ; printf ( ".ds %d \\x'0'" , p1 ) ; before = eht [ p1 ] - ebase [ p1 ] - VERT ( EM ( 1.2 , ps ) ) ; before = eht [ p1 ] - ebase [ p1 ] - VERT ( 3 ) ; if ( spaceval != NULL ) { printf ( "\\x'0-%s'" , spaceval ) ; } if ( before > 0 ) { printf ( "\\x'0-%du'" , before ) ; } printf ( "\\f%c\\s%d\\*(%d%s\\s\\n(99\\f\\n(98" , gfont , gsize , p1 , rfont [ p1 ] == ITAL ?"\\|" : "" ) ; after = ebase [ p1 ] - VERT ( EM ( 0.2 , ps ) ) ; after = ebase [ p1 ] - VERT ( 1 ) ; if ( spaceval == NULL && after > 0 ) { printf ( "\\x'%du'" , after ) ; } putchar ( '\n' ) ; eqnreg = p1 ; if ( spaceval != NULL ) { spaceval = NULL ; } } 