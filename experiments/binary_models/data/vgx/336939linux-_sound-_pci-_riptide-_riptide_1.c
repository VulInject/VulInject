static unsigned short snd_riptide_codec_read ( struct snd_ac97 * ac97 , unsigned short reg ) { struct snd_riptide * chip = ac97 -> private_data ; struct cmdif * cif = chip -> cif ; union cmdret rptr = CMDRET_ZERO ; if ( SEND_RACR ( cif , reg , & rptr ) != 0 ) { SEND_RACR ( cif , reg , & rptr ) ; } snd_printdd ( "Read AC97 reg 0x%x got 0x%x\n" , reg , rptr . retwords [ 1 ] ) ; return rptr . retwords [ 1 ] ; } 