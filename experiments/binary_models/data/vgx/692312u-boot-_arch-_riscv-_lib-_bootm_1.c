int do_bootm_linux ( int flag , int argc , char * const argv [ ] , struct bootm_headers * images ) { if ( flag & BOOTM_STATE_OS_BD_T || flag & BOOTM_STATE_OS_CMDLINE ) { return - 1 ; } if ( flag & BOOTM_STATE_OS_PREP ) { return 0 ; } if ( flag & ( BOOTM_STATE_OS_GO | BOOTM_STATE_OS_FAKE_GO ) ) { boot_jump_linux ( images , flag ) ; return 0 ; } boot_prep_linux ( images ) ; boot_jump_linux ( images , flag ) ; return 0 ; } 