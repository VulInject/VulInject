static int snd_interwave_mixer ( struct snd_wss * chip ) { struct snd_card * card = chip -> card ; struct snd_ctl_elem_id id1 , id2 ; unsigned int idx ; int err ; memset ( & id2 , 0 , sizeof ( id2 ) ) ; id1 . iface = id2 . iface = SNDRV_CTL_ELEM_IFACE_MIXER ; strcpy ( id1 . name , "Mic Playback Switch" ) ; if ( ( err = snd_ctl_remove_id ( card , & id1 ) ) < 0 ) { return err ; } strcpy ( id1 . name , "Mic Playback Volume" ) ; if ( ( err = snd_ctl_remove_id ( card , & id1 ) ) < 0 ) { return err ; } for ( idx = 0 ; idx < ARRAY_SIZE ( snd_interwave_controls ) ; idx ++ ) { if ( ( err = snd_ctl_add ( card , snd_ctl_new1 ( & snd_interwave_controls [ idx ] , chip ) ) ) < 0 ) { return err ; } } snd_wss_out ( chip , CS4231_LINE_LEFT_OUTPUT , 0x9f ) ; snd_wss_out ( chip , CS4231_LINE_RIGHT_OUTPUT , 0x9f ) ; snd_wss_out ( chip , CS4231_LEFT_MIC_INPUT , 0x9f ) ; snd_wss_out ( chip , CS4231_RIGHT_MIC_INPUT , 0x9f ) ; strcpy ( id1 . name , "Aux Playback Switch" ) ; strcpy ( id2 . name , "Synth Playback Switch" ) ; if ( ( err = snd_ctl_rename_id ( card , & id1 , & id2 ) ) < 0 ) { return err ; } strcpy ( id1 . name , "Aux Playback Volume" ) ; strcpy ( id2 . name , "Synth Playback Volume" ) ; if ( ( err = snd_ctl_rename_id ( card , & id1 , & id2 ) ) < 0 ) { return err ; } strcpy ( id1 . name , "Aux Playback Switch" ) ; id1 . index = 1 ; strcpy ( id2 . name , "CD Playback Switch" ) ; if ( ( err = snd_ctl_rename_id ( card , & id1 , & id2 ) ) < 0 ) { return err ; } strcpy ( id1 . name , "Aux Playback Volume" ) ; strcpy ( id2 . name , "CD Playback Volume" ) ; if ( ( err = snd_ctl_rename_id ( card , & id1 , & id2 ) ) < 0 ) { return err ; } return 0 ; } 