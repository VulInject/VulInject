int smu9_baco_get_capability ( struct pp_hwmgr * hwmgr , bool * cap ) { struct amdgpu_device * adev = ( amdgpu_device * ) ( hwmgr -> adev ) ; uint32_t reg , data ; * cap = false ; WREG32 ( 0x12074 , 0xFFF0003B ) ; data = RREG32 ( 0x12075 ) ; if ( data == 0x1 ) { reg = RREG32_SOC15 ( NBIF , 0 , mmRCC_BIF_STRAP0 ) ; if ( reg & RCC_BIF_STRAP0__STRAP_PX_CAPABLE_MASK ) { * cap = true ; } } return 0 ; } 