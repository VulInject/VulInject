static bool vbe_get_flatpanel ( uint_t * pwidth , uint_t * pheight ) { struct flatpanelinfo * fp_info ; bool ret = false ; fp_info = bio_alloc ( sizeof ( * fp_info ) ) ; if ( fp_info == NULL ) { return ( ret ) ; } if ( VBE_ERROR ( biosvbe_ddc_read_flat_panel_info ( fp_info ) ) ) { done } * pwidth = fp_info -> HorizontalSize ; * pheight = fp_info -> VerticalSize ; ret = true ; done bio_free ( fp_info , sizeof ( * fp_info ) ) ; return ( ret ) ; } 