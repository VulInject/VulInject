static void copy_possibles ( struct sm_state * to , struct sm_state * one , struct sm_state * two ) { struct sm_state * large = one ; struct sm_state * small = two ; struct sm_state * tmp ; if ( ptr_list_size ( ( ptr_list * ) two -> possible ) > ptr_list_size ( ( ptr_list * ) one -> possible ) ) { large = two ; small = one ; } to -> possible = clone_slist ( large -> possible ) ; add_possible_sm ( to , to ) ; FOR_EACH_PTR ( , ) { add_possible_sm ( to , tmp ) ; } END_FOR_EACH_PTR ( tmp , NULL ) ; } 