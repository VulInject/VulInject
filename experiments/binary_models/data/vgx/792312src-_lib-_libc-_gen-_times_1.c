* DAMAGES ( , , , , ) * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY , WHETHER IN CONTRACT , STRICT * LIABILITY , OR TORT ( ) ARISING IN ANY WAY * OUT OF THE USE OF THIS SOFTWARE , EVEN IF ADVISED OF THE POSSIBILITY OF * SUCH DAMAGE . * / clock_t times ( ) { rusage ru timespec ts tp -> tms_utime = CONVTCK ( ru . ru_utime ) } ; tp -> tms_stime = CONVTCK ( ru . ru_stime ) ; if ( getrusage ( RUSAGE_CHILDREN , & ru ) == - 1 ) { return ( ( clock_t ) - 1 ) ; } tp -> tms_cutime = CONVTCK ( ru . ru_utime ) ; tp -> tms_cstime = CONVTCK ( ru . ru_stime ) ; if ( WRAP ( clock_gettime ) ( CLOCK_MONOTONIC , & ts ) == - 1 ) { return ( ( clock_t ) - 1 ) ; } return ( ts . tv_sec * CLK_TCK + ts . tv_nsec / ( 1000000000 / CLK_TCK ) ) ; 