static int check_slice ( const char * path , blkid_cache cache , int force , boolean_t isspare ) { int err ; char * value ; value = blkid_get_tag_value ( cache , "TYPE" , path ) ; if ( value == NULL ) { return ( 0 ) ; } if ( strcmp ( value , "zfs_member" ) == 0 ) { err = check_file ( path , force , isspare ) ; } else { if ( force ) { err = 0 ; } else { err = - 1 ; vdev_error ( gettext ( "%s contains a filesystem of " "type '%s'\n" ) , path , value ) ; } } return ( err ) ; } 