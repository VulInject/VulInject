static int po1030_set_exposure ( struct gspca_dev * gspca_dev , __s32 val ) { struct sd * sd = ( sd * ) gspca_dev ; int i2c_data ; int err ; PDEBUG ( D_CONF , "Set exposure to %d" , val & 0xffff ) ; i2c_data = ( ( val & 0xff00 ) >> 8 ) ; PDEBUG ( D_CONF , "Set exposure to high byte to 0x%x" , i2c_data ) ; err = m5602_write_sensor ( sd , PO1030_INTEGLINES_H , & i2c_data , 1 ) ; if ( err < 0 ) { return err ; } i2c_data = ( val & 0xff ) ; PDEBUG ( D_CONF , "Set exposure to low byte to 0x%x" , i2c_data ) ; err = m5602_write_sensor ( sd , PO1030_INTEGLINES_M , & i2c_data , 1 ) ; return err ; } 