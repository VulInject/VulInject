static int stmfts_read_events ( struct stmfts_data * sdata ) { u8 cmd = STMFTS_READ_ALL_EVENT ; struct i2c_msg msgs [ 2 ] { { . addr = sdata -> client -> addr . len = 1 . buf = & cmd } { . addr = sdata -> client -> addr . flags = I2C_M_RD . len = STMFTS_DATA_MAX_SIZE . buf = sdata -> data } } ; ; int ret ; ret = i2c_transfer ( sdata -> client -> adapter , msgs , ARRAY_SIZE ( msgs ) ) ; return ret == ARRAY_SIZE ( msgs ) ?0 : - EIO ; } 