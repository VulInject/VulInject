static void nuke ( struct mtu3_ep * mep , const int status ) { struct mtu3_request * mreq = NULL ; dev_dbg ( mep -> mtu -> dev , "abort %s's req: sts %d\n" , mep -> name , status ) ; if ( mep -> epnum ) { mtu3_qmu_flush ( mep ) ; } while ( ! list_empty ( & mep -> req_list ) ) { mreq = list_first_entry ( & mep -> req_list , mtu3_request , list ) ; mtu3_req_complete ( mep , & mreq -> request , status ) ; } } 