static char * my_strcasestr ( const char * haystack , const char * needle ) { const char * npt , * hpt ; int hch , nch ; for ( ; * haystack != '\0' ; ++ haystack ) { for ( hpt = haystack , npt = needle ; * npt != '\0' ; ++ hpt , ++ npt ) { hch = * hpt ; nch = * npt ; if ( isupper ( hch ) ) { hch = tolower ( hch ) ; } if ( isupper ( nch ) ) { nch = tolower ( nch ) ; } if ( nch != hch ) { break ; } } } return ( NULL ) ; } 