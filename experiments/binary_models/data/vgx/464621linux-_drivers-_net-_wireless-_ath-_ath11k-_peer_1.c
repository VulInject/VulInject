void ath11k_peer_unmap_event ( struct ath11k_base * ab , u16 peer_id ) { struct ath11k_peer * peer ; spin_lock_bh ( & ab -> base_lock ) ; peer = ath11k_peer_find_list_by_id ( ab , peer_id ) ; if ( ! peer ) { ath11k_warn ( ab , "peer-unmap-event: unknown peer id %d\n" , peer_id ) ; exit } ath11k_dbg ( ab , ATH11K_DBG_DP_HTT , "htt peer unmap vdev %d peer %pM id %d\n" , peer -> vdev_id , peer -> addr , peer_id ) ; list_del ( & peer -> list ) ; wake_up ( & ab -> peer_mapping_wq ) ; exit spin_unlock_bh ( & ab -> base_lock ) ; } 