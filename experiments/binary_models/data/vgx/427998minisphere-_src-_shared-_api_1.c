static bool get_obj_data_checked ( int stack_index , int class_id , struct object_data * * out_data_ptr ) { struct class_data * class_data ; struct object_data * data ; int super_id ; if ( data -> class_id == class_id ) { found_it } super_id = data -> class_id ; while ( super_id >= 0 ) { class_data = vector_get ( s_classes , s_class_index [ super_id ] ) ; if ( class_id == class_data -> id ) { found_it } super_id = class_data -> super_id ; } return false ; found_it if ( out_data_ptr != NULL ) { * out_data_ptr = data ; } return true ; } 