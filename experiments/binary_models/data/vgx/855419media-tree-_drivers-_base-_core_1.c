static int device_reorder_to_tail ( struct device * dev , void * not_used ) { struct device_link * link ; if ( device_is_registered ( dev ) ) { devices_kset_move_last ( dev ) ; } if ( device_pm_initialized ( dev ) ) { device_pm_move_last ( dev ) ; } device_for_each_child ( dev , device_reorder_to_tail ) ; list_for_each_entry ( , , ) device_reorder_to_tail ( link -> consumer , NULL ) ; return 0 ; } 