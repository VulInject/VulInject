new_macro_definition ( , , , , ) { struct macro_definition * d = macro_alloc ( sizeof ( * d ) , t ) ; d -> table = t ; d -> kind = kind ; d -> replacement = macro_bcache_str ( t , replacement ) ; if ( kind == macro_function_like ) { int i ; const char * * cached_argv ; int cached_argv_size = argc * sizeof ( * cached_argv ) ; cached_argv = alloca ( cached_argv_size ) ; for ( i = 0 ; i < argc ; i ++ ) { cached_argv [ i ] = macro_bcache_str ( t , argv [ i ] ) ; } d -> argv = macro_bcache ( t , cached_argv , cached_argv_size ) ; d -> argc = argc ; } return d ; } 