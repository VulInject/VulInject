int FUN1 ( char * VAR1 , VAR2 * VAR3 ) { VAR4 * VAR5 = NULL ; boolean_t VAR6 ; VAR7 * VAR8 = NULL ; VAR9 * VAR10 = NULL ; VAR9 * VAR11 = NULL ; char VAR12 [ VAR13 ] ; char * VAR14 ; char * VAR15 ; char * VAR16 ; char VAR17 [ VAR18 ] ; char VAR19 [ VAR18 ] ; int VAR20 ; int VAR21 = - 1 ; int VAR22 = VAR23 ; int VAR24 ; if ( ( VAR1 == NULL ) || ( VAR3 == NULL ) ) { return ( VAR25 ) ; } if ( ( VAR8 = FUN2 ( VAR1 , NULL , NULL ) ) != NULL ) { FUN3 ( VAR26 , FUN4 ( "" ) , VAR1 ) ; return ( VAR25 ) ; } if ( ( VAR8 = FUN5 ( VAR1 ) ) == NULL ) { FUN3 ( VAR26 , FUN4 ( "" ) ) ; return ( VAR25 ) ; } VAR8 -> VAR27 = FUN6 ( VAR3 ) ; VAR8 -> VAR28 = VAR3 ; if ( ( VAR15 = FUN7 ( VAR8 ) ) == NULL ) { FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( ( VAR10 = fopen ( VAR29 , "" ) ) == NULL ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , strerror ( VAR24 ) ) ; FUN9 ( "" , VAR29 ) ; FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( FUN10 ( FUN11 ( VAR10 ) , VAR31 , 0 ) == - 1 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , strerror ( VAR24 ) ) ; FUN8 ( VAR8 ) ; ( void ) fclose ( VAR10 ) ; return ( VAR25 ) ; } ( void ) FUN12 ( VAR12 , VAR32 , sizeof ( VAR12 ) ) ; if ( mkstemp ( VAR12 ) == - 1 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , strerror ( VAR24 ) ) ; FUN8 ( VAR8 ) ; ( void ) fclose ( VAR10 ) ; return ( VAR25 ) ; } if ( ( VAR11 = fopen ( VAR12 , "" ) ) == NULL ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR24 ) ) ; FUN8 ( VAR8 ) ; ( void ) fclose ( VAR10 ) ; return ( VAR25 ) ; } VAR20 = 0 ; VAR22 = VAR23 ; while ( fgets ( VAR17 , VAR18 , VAR10 ) != NULL ) { VAR6 = VAR33 ; if ( VAR17 [ 0 ] == '' ) { ( void ) FUN12 ( VAR19 , VAR17 , VAR18 ) ; VAR14 = VAR19 ; VAR14 ++ ; if ( ( VAR16 = strtok ( VAR14 , VAR34 ) ) == NULL ) { VAR22 = VAR25 ; break ; } if ( strcmp ( VAR1 , VAR16 ) == 0 ) { VAR6 = VAR35 ; VAR20 ++ ; } } if ( VAR6 == VAR33 ) { if ( fputs ( VAR17 , VAR11 ) == VAR36 ) { VAR22 = VAR25 ; } } else { if ( VAR20 == 1 ) { if ( fputs ( VAR15 , VAR11 ) == VAR36 ) { VAR22 = VAR25 ; } } else { FUN3 ( VAR26 , FUN4 ( "" "" ) , VAR1 ) ; } } if ( VAR22 == VAR25 ) { break ; } } ( void ) fclose ( VAR10 ) ; if ( VAR22 == VAR25 ) { FUN3 ( VAR26 , FUN4 ( "" ) ) ; ( void ) fclose ( VAR11 ) ; if ( unlink ( VAR12 ) != 0 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR24 ) ) ; } FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( VAR20 == 0 ) { if ( fputs ( VAR15 , VAR11 ) == VAR36 ) { FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR30 ) ) ; ( void ) fclose ( VAR11 ) ; if ( unlink ( VAR12 ) != 0 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR24 ) ) ; } FUN8 ( VAR8 ) ; return ( VAR25 ) ; } } if ( fclose ( VAR11 ) != 0 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR24 ) ) ; FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( FUN13 ( VAR12 , VAR29 ) == - 1 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , strerror ( VAR24 ) ) ; FUN9 ( "" , VAR12 , VAR29 , strerror ( VAR24 ) ) ; VAR22 = VAR25 ; } if ( chmod ( VAR29 , VAR37 | VAR38 | VAR39 | VAR40 ) == - 1 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , strerror ( VAR24 ) ) ; FUN9 ( "" , VAR29 , strerror ( VAR24 ) ) ; VAR22 = VAR25 ; } else { VAR22 = VAR23 ; } if ( VAR22 == VAR25 ) { if ( unlink ( VAR12 ) != 0 ) { VAR24 = VAR30 ; FUN3 ( VAR26 , FUN4 ( "" ) , VAR12 , strerror ( VAR24 ) ) ; } FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( ( VAR5 = FUN14 ( VAR8 ) ) == NULL ) { FUN8 ( VAR8 ) ; return ( VAR25 ) ; } if ( ( VAR21 = open ( VAR41 , VAR42 ) ) == - 1 ) { FUN3 ( VAR26 , FUN4 ( "" ) , VAR41 , strerror ( VAR30 ) ) ; FUN8 ( VAR8 ) ; free ( VAR5 ) ; return ( VAR25 ) ; } if ( FUN15 ( VAR21 , VAR43 , VAR5 ) == - 1 ) { FUN9 ( "" , strerror ( VAR30 ) ) ; FUN8 ( VAR8 ) ; free ( VAR5 ) ; ( void ) close ( VAR21 ) ; return ( VAR25 ) ; } if ( VAR5 -> VAR44 != VAR45 ) { FUN9 ( "" "" , VAR5 -> VAR44 ) ; FUN8 ( VAR8 ) ; free ( VAR5 ) ; ( void ) close ( VAR21 ) ; return ( VAR25 ) ; } FUN8 ( VAR8 ) ; free ( VAR5 ) ; ( void ) close ( VAR21 ) ; return ( VAR23 ) ; }