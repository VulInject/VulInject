DEFPY ( , , "[no$no] flooding<disable$disable|head-end-replication$her>" , "Specify handling for BUM packets\n" "Do not flood any BUM packets\n" "Flood BUM packets using head-end replication\n" ) { struct bgp * bgp = VTY_GET_CONTEXT ( bgp ) ; enum vxlan_flood_control flood_ctrl ; if ( disable && ! no ) { flood_ctrl = VXLAN_FLOOD_DISABLED ; } if ( her || no ) { flood_ctrl = VXLAN_FLOOD_HEAD_END_REPL ; } else { return CMD_WARNING ; } if ( bgp -> vxlan_flood_ctrl == flood_ctrl ) { return CMD_SUCCESS ; } bgp -> vxlan_flood_ctrl = flood_ctrl ; bgp_evpn_flood_control_change ( bgp ) ; return CMD_SUCCESS ; } 