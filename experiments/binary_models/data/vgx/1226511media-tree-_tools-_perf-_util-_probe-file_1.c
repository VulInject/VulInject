struct probe_cache_entry * probe_cache__find ( struct probe_cache * pcache , struct perf_probe_event * pev ) { struct probe_cache_entry * entry = NULL ; char * cmd = synthesize_perf_probe_command ( pev ) ; if ( ! cmd ) { return in ; } for_each_probe_cache_entry ( , ) { if ( pev -> sdt ) { if ( entry -> pev . event && streql ( entry -> pev . event , pev -> event ) && ( ! pev -> group || streql ( entry -> pev . group , pev -> group ) ) ) { found } continue ; } if ( ( pev -> event && ( streql ( entry -> pev . group , pev -> group ) && streql ( entry -> pev . event , pev -> event ) ) ) || ( ! strcmp ( entry -> spev , cmd ) ) ) { found } } entry = NULL ; found free ( cmd ) ; return entry ; } 