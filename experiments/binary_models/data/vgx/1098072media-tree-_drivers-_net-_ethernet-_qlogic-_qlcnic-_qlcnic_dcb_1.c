static int qlcnic_dcb_peer_app_table ( struct net_device * netdev , struct dcb_app * table ) { struct qlcnic_adapter * adapter = netdev_priv ( netdev ) ; struct qlcnic_dcb_cee * peer ; struct qlcnic_dcb_app * app ; int i , j ; if ( ! test_bit ( QLCNIC_DCB_STATE , & adapter -> dcb -> state ) ) { return 0 ; } peer = & adapter -> dcb -> cfg -> type [ QLC_DCB_PEER_IDX ] ; for ( i = 0 , j = 0 ; i < QLC_DCB_MAX_APP ; i ++ ) { app = & peer -> app [ i ] ; table [ j ] . selector = app -> selector ; table [ j ] . priority = app -> priority ; table [ j ++ ] . protocol = app -> protocol ; } return 0 ; } 