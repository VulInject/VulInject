dos_info ( , ) { struct dos_ttystate * port ; int i ; for ( port = ports ; port < & ports [ 4 ] ; port ++ ) { if ( port -> baudrate == 0 ) { continue ; } printf_filtered ( "Port:\tCOM%ld (%sactive)\n" , ( long ) ( port - ports ) + 1 , port -> intrupt ?"" : "not " ) ; printf_filtered ( "Addr:\t0x%03x (irq %d)\n" , port -> base , port -> irq ) ; printf_filtered ( "16550:\t%s\n" , port -> fifo ?"yes" : "no" ) ; printf_filtered ( "Speed:\t%d baud\n" , port -> baudrate ) ; printf_filtered ( "Errs:\tframing %d parity %d overflow %d\n\n" , port -> ferr , port -> perr , port -> oflo ) ; } printf_filtered ( "\nTotal interrupts: %d\n" , intrcnt ) ; for ( i = 0 ; i < NCNT ; i ++ ) { if ( cnts [ i ] ) { printf_filtered ( "%s:\t%d\n" , cntnames [ i ] , cnts [ i ] ) ; } } } 