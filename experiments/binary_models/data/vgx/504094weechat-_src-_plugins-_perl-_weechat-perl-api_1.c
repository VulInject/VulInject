API_FUNC ( ) { char * info_name ; struct t_hashtable * hashtable , * result_hashtable ; HV * result_hash ; dXSARGS ; API_INIT_FUNC ( 1 , "info_get_hashtable" , API_RETURN_EMPTY ) ; if ( items < 2 ) { API_WRONG_ARGS ( API_RETURN_EMPTY ) ; } info_name = SvPV_nolen ( ST ( 0 ) ) ; hashtable = weechat_perl_hash_to_hashtable ( ST ( 1 ) , WEECHAT_SCRIPT_HASHTABLE_DEFAULT_SIZE , WEECHAT_HASHTABLE_STRING , WEECHAT_HASHTABLE_STRING ) ; result_hashtable = weechat_info_get_hashtable ( info_name , hashtable ) ; result_hash = weechat_perl_hashtable_to_hash ( result_hashtable ) ; if ( hashtable ) { weechat_hashtable_free ( hashtable ) ; } if ( result_hashtable ) { weechat_hashtable_free ( result_hashtable ) ; } API_RETURN_OBJ ( result_hash , NULL ) ; } 