static bool ines_rxtstamp ( struct mii_timestamper * mii_ts , struct sk_buff * skb , int type ) { struct ines_port * port = container_of ( mii_ts , ines_port , mii_ts ) ; struct skb_shared_hwtstamps * ssh ; u64 ns ; if ( ! port -> rxts_enabled ) { return false ; } ns = ines_find_rxts ( port , skb , type ) ; if ( ! ns ) { return false ; } ssh = skb_hwtstamps ( skb ) ; ssh -> hwtstamp = ns_to_ktime ( ns ) ; netif_rx ( skb , NULL ) ; return true ; } 