static int btf_parse_fd ( int * argc , char * * * argv ) { unsigned int id ; char * endptr ; int fd ; if ( ! is_prefix ( * argv [ 0 ] , "id" ) ) { p_err ( "expected 'id', got: '%s'?" , * * argv ) ; return - 1 ; } NEXT_ARGP ( ) ; id = strtoul ( * * argv , & endptr , 0 ) ; if ( * endptr ) { p_err ( "can't parse %s as ID" , * * argv ) ; return - 1 ; } NEXT_ARGP ( ) ; fd = bpf_btf_get_fd_by_id ( id , NULL ) ; if ( fd < 0 ) { p_err ( "can't get BTF object by id (%u): %s" , id , strerror ( errno ) ) ; } return fd ; } 