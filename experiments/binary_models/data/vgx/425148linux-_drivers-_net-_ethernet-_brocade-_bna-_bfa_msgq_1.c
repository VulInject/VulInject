static void bfa_msgq_init ( void * arg ) { struct bfa_msgq * msgq = ( bfa_msgq * ) arg ; struct bfi_msgq_cfg_req * msgq_cfg = ( bfi_msgq_cfg_req * ) & msgq -> init_mb . msg [ 0 ] ; bfi_h2i_set ( msgq_cfg -> mh , BFI_MC_MSGQ , BFI_MSGQ_H2I_INIT_REQ , 0 ) ; msgq_cfg -> mh . mtag . i2htok = 0 ; bfa_dma_be_addr_set ( msgq_cfg -> cmdq . addr , msgq -> cmdq . addr . pa ) ; msgq_cfg -> cmdq . q_depth = htons ( msgq -> cmdq . depth ) ; bfa_dma_be_addr_set ( msgq_cfg -> rspq . addr , msgq -> rspq . addr . pa ) ; msgq_cfg -> rspq . q_depth = htons ( msgq -> rspq . depth ) ; bfa_nw_ioc_mbox_queue ( msgq -> ioc , & msgq -> init_mb , NULL , NULL ) ; } 