static bool test_string_set ( struct ConfigSubset * sub , struct Buffer * err ) { log_line ( __func__ ) ; struct ConfigSet * cs = sub -> cs ; int rc ; mutt_buffer_reset ( err , NULL ) ; char * name = "Damson" ; rc = cs_str_string_set ( cs , name , "pig:quail:rhino" , err ) ; if ( CSR_RESULT ( rc ) != CSR_SUCCESS ) { TEST_MSG ( "%s\n" , mutt_buffer_string ( err ) ) ; return false ; } mutt_buffer_reset ( err ) ; name = "Damson" ; rc = cs_str_string_set ( cs , name , "" , err ) ; if ( CSR_RESULT ( rc ) != CSR_SUCCESS ) { TEST_MSG ( "%s\n" , mutt_buffer_string ( err ) ) ; return false ; } mutt_buffer_reset ( err ) ; name = "Damson" ; rc = cs_str_string_set ( cs , name , NULL , err ) ; if ( CSR_RESULT ( rc ) != CSR_SUCCESS ) { TEST_MSG ( "%s\n" , mutt_buffer_string ( err ) ) ; return false ; } mutt_buffer_reset ( err ) ; name = "Elderberry" ; rc = cs_str_string_set ( cs , name , "pig:quail:rhino" , err ) ; if ( CSR_RESULT ( rc ) != CSR_SUCCESS ) { TEST_MSG ( "%s\n" , mutt_buffer_string ( err ) ) ; return false ; } return true ; } 