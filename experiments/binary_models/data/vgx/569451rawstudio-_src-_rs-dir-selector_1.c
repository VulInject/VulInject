static void row_collapsed ( GtkTreeView * view , GtkTreeIter * iter , GtkTreePath * path , gpointer user_data ) { GtkTreeModel * model ; GtkTreeIter child ; model = gtk_tree_view_get_model ( view , NULL ) ; while ( gtk_tree_model_iter_children ( GTK_TREE_MODEL ( model ) , & child , iter ) ) { gtk_tree_store_remove ( GTK_TREE_STORE ( model ) , & child ) ; } dir_selector_add_element ( GTK_TREE_STORE ( model ) , iter , NULL , NULL ) ; } 