static void conf_log_msg ( M_conf_t * conf , M_list_t * loggers , const char * fmt , va_list ap ) { char * msg ; int num_loggers ; unsigned int i ; M_conf_logger_t logger ; if ( conf == NULL || loggers == NULL || M_str_isempty ( fmt ) ) { return ; } M_vasprintf ( & msg , fmt , ap ) ; num_loggers = M_list_len ( loggers ) ; for ( i = 0 ; i < num_loggers ; i ++ ) { logger = M_list_at ( loggers , i ) ; logger ( conf -> ini_path , msg ) ; } M_free ( msg ) ; } 