F_FILE * T1Open ( char * fn , char * mode ) { F_FILE * of = & TheFile ; Decrypt = 0 ; if ( ( of -> fd = open ( fn , O_RDONLY | O_BINARY ) ) < 0 ) { return in ; } if ( ( of -> fd = open ( fn , O_RDONLY ) ) < 0 ) { return NULL ; } of -> b_base = TheBuffer ; of -> b_size = F_BUFSIZ ; of -> b_ptr = NULL ; of -> b_cnt = 0 ; of -> flags = 0 ; of -> error = 0 ; haveextrach = 0 ; return & TheFile ; } 