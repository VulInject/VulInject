static int bch_root_node_dirty_init ( struct cache_set * c , struct bcache_device * d , struct bkey * k ) { struct sectors_dirty_init op ; int ret ; bch_btree_op_init ( & op . op , - 1 ) ; op . inode = d -> id ; ret = bcache_btree ( map_keys_recurse , k , c -> root , & op . op , & KEY ( op . inode , 0 , 0 ) , sectors_dirty_init_fn , 0 ) ; if ( ret < 0 ) { pr_warn ( "sectors dirty init failed, ret=%d!\n" , ret ) ; } return ret ; } 