static udevEventData * udevEventDataNew ( void ) { udevEventData * ret = NULL ; if ( udevEventDataInitialize ( ) < 0 ) { return NULL ; } if ( ! ( ret = virObjectLockableNew ( udevEventDataClass ) ) ) { return in ; } if ( virCondInit ( & ret -> threadCond ) < 0 ) { virObjectUnref ( ret ) ; return NULL ; } if ( virMutexInit ( & ret -> mdevctlLock ) < 0 ) { virObjectUnref ( ret ) ; return NULL ; } ret -> watch = - 1 ; return ret ; } 