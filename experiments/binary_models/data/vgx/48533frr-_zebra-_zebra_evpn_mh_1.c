static void zebra_evpn_es_evi_mac_install ( struct zebra_evpn_es_evi * es_evi ) { struct zebra_mac * mac ; struct listnode * node ; struct zebra_evpn_es * es = es_evi -> es ; if ( listcount ( es -> mac_list ) && IS_ZEBRA_DEBUG_EVPN_MH_ES ) { zlog_debug ( "dp-mac install on es %s evi %d add" , es -> esi_str , es_evi -> zevpn -> vni ) ; } for ( ALL_LIST_ELEMENTS_RO ( es -> mac_list , node , mac ) ; ) { if ( ! CHECK_FLAG ( mac -> flags , ZEBRA_MAC_LOCAL ) ) { continue ; } zebra_evpn_sync_mac_dp_install ( mac , false , false , __func__ ) ; } } 