static void emit_dict ( emitter_t * emitter ) { bool b_false = false ; bool b_true = true ; int i_123 = 123 ; const char * str = "a string" ; emitter_begin ( emitter , NULL ) ; emitter_dict_begin ( emitter , "foo" , "This is the foo table:" ) ; emitter_kv ( emitter , "abc" , "ABC" , emitter_type_bool , & b_false ) ; emitter_kv ( emitter , "def" , "DEF" , emitter_type_bool , & b_true ) ; emitter_kv_note ( emitter , "ghi" , "GHI" , emitter_type_int , & i_123 , "note_key1" , emitter_type_string , & str ) ; emitter_kv_note ( emitter , "jkl" , "JKL" , emitter_type_string , & str , "note_key2" , emitter_type_bool , & b_false ) ; emitter_dict_end ( emitter ) ; emitter_end ( emitter ) ; } static const char * dict_json = "{\n" "\t\"foo\": {\n" "\t\t\"abc\": false,\n" "\t\t\"def\": true,\n" "\t\t\"ghi\": 123,\n" "\t\t\"jkl\": \"a string\"\n" "\t}\n" "}\n" ; static const char * dict_table = "This is the foo table:\n" "  ABC: false\n" "  DEF: true\n" "  GHI: 123 (note_key1: \"a string\")\n" "  JKL: \"a string\" (note_key2: false)\n" ; TEST_BEGIN ( ) { assert_emit_output ( & emit_dict , dict_json , dict_table ) ; } 