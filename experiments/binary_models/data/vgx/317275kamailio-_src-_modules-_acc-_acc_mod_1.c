static int bind_acc ( acc_api_t * api ) { if ( ! api ) { ERR ( "Invalid parameter value\n" ) ; return - 1 ; } memset ( api , 0 , sizeof ( acc_api_t ) ) ; api -> acc_log_request = ki_acc_log_request ; api -> acc_db_request = ki_acc_db_request ; api -> acc_request = ki_acc_request ; api -> register_engine = acc_register_engine ; api -> get_leg_info = get_leg_info ; api -> get_core_attrs = core2strar ; api -> get_extra_attrs = extra2strar ; api -> get_leg_attrs = legs2strar ; api -> parse_extra = parse_acc_extra ; api -> exec = acc_api_exec ; if ( cdr_enable ) { api -> register_cdr_engine = cdr_register_engine ; api -> get_core_cdr_attrs = cdr_core2strar ; api -> get_extra_dlg_attrs = extra2strar_dlg_only ; api -> exec_cdr = cdr_api_exec ; } else { api -> register_cdr_engine = NULL ; api -> get_core_cdr_attrs = NULL ; api -> exec_cdr = NULL ; } return 0 ; } 