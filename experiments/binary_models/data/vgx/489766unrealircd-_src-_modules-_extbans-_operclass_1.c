const char * extban_operclass_conv_param ( BanContext * b , Extban * extban ) int extban_operclass_is_banned ( BanContext * b ) MOD_INIT ( ) { ExtbanInfo req ; memset ( & req , 0 , sizeof ( req ) ) ; req . letter = 'O' ; req . name = "operclass" ; req . conv_param = extban_operclass_conv_param ; req . is_banned = extban_operclass_is_banned ; req . is_banned_events = BANCHK_ALL ; req . options = EXTBOPT_INVEX ; if ( ! ExtbanAdd ( modinfo -> handle , req ) ) { config_error ( "could not register extended ban type" ) ; return MOD_FAILED ; } MARK_AS_OFFICIAL_MODULE ( modinfo ) ; return MOD_SUCCESS ; } 