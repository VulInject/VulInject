void xfs_qm_dqdetach ( xfs_inode_t * ip ) { if ( ! ( ip -> i_udquot || ip -> i_gdquot || ip -> i_pdquot ) ) { return ; } trace_xfs_dquot_dqdetach ( ip ) ; ASSERT ( ! xfs_is_quota_inode ( & ip -> i_mount -> m_sb , ip -> i_ino ) ) ; if ( ip -> i_udquot ) { xfs_qm_dqrele ( ip -> i_udquot , NULL ) ; ip -> i_udquot = NULL ; } if ( ip -> i_gdquot ) { xfs_qm_dqrele ( ip -> i_gdquot ) ; ip -> i_gdquot = NULL ; } if ( ip -> i_pdquot ) { xfs_qm_dqrele ( ip -> i_pdquot ) ; ip -> i_pdquot = NULL ; } } 