search_func_pointer ( ) tree type ; { tree tem ; switch ( TREE_CODE ( type ) ) { case UNION_TYPE : case QUAL_UNION_TYPE : case RECORD_TYPE : if ( ! TREE_VISITED ( type ) ) { TREE_VISITED ( type ) = 1 ; for ( tem = TYPE_FIELDS ( type ) ; tem ; tem = TREE_CHAIN ( tem ) ) { if ( TREE_CODE ( tem ) == FIELD_DECL && search_func_pointer ( TREE_TYPE ( tem ) ) ) { TREE_VISITED ( type ) = 0 ; return TRUE ; } } TREE_VISITED ( type ) = 0 ; } break ; case ARRAY_TYPE : return search_func_pointer ( TREE_TYPE ( type ) ) ; case POINTER_TYPE : case REFERENCE_TYPE : case OFFSET_TYPE : if ( TREE_CODE ( TREE_TYPE ( type ) ) == FUNCTION_TYPE ) { return TRUE ; } return search_func_pointer ( TREE_TYPE ( type ) ) ; default : break ; } return FALSE ; } 