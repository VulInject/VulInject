int av_lfg_init_from_data ( AVLFG * c , const uint8_t * data , unsigned int length ) { unsigned int beg , end , segm ; const AVCRC * avcrc ; uint32_t crc = 1 ; c -> index = 0 ; avcrc = av_crc_get_table ( AV_CRC_32_IEEE ) ; beg = 0 ; for ( segm = 0 ; segm < 64 ; segm ++ ) { end = ( ( ( segm + 1 ) * length ) / 64 ) ; crc = av_crc ( avcrc , crc , data + beg , end - beg ) ; c -> state [ segm ] = ( unsigned int ) crc ; beg = end ; } return 0 ; } 