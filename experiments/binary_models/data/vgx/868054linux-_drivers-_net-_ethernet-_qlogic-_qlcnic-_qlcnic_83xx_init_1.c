int qlcnic_set_vxlan_port ( struct qlcnic_adapter * adapter , u16 port ) { struct qlcnic_cmd_args cmd ; int ret = 0 ; ret = qlcnic_alloc_mbx_args ( & cmd , adapter , QLCNIC_CMD_INIT_NIC_FUNC ) ; if ( ret ) { return ret ; } cmd . req . arg [ 1 ] = QLC_83XX_MULTI_TENANCY_INFO ; cmd . req . arg [ 2 ] = QLC_83XX_ENCAP_TYPE_VXLAN | QLC_83XX_SET_VXLAN_UDP_DPORT | QLC_83XX_VXLAN_UDP_DPORT ( port ) ; ret = qlcnic_issue_cmd ( adapter , & cmd ) ; if ( ret ) { netdev_err ( adapter -> netdev , "Failed to set VXLAN port %d in adapter\n" , port ) ; } qlcnic_free_mbx_args ( & cmd ) ; return ret ; } 