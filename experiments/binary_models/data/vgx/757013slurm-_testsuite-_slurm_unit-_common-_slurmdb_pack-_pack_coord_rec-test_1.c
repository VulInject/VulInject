START_TEST ( ) { int rc ; slurmdb_coord_rec_t * pack_cr = xmalloc ( sizeof ( slurmdb_coord_rec_t ) ) ; pack_cr -> direct = 12 ; pack_cr -> name = xstrdup ( "Gottlob Frege" ) ; buf_t * buf = init_buf ( 1024 ) ; slurmdb_pack_coord_rec ( pack_cr , SLURM_MIN_PROTOCOL_VERSION , buf ) ; set_buf_offset ( buf , 0 ) ; slurmdb_coord_rec_t * unpack_cr ; rc = slurmdb_unpack_coord_rec ( ( void * * ) & unpack_cr , SLURM_MIN_PROTOCOL_VERSION , buf ) ; ck_assert ( rc == SLURM_SUCCESS ) ; ck_assert_str_eq ( pack_cr -> name , unpack_cr -> name ) ; ck_assert ( pack_cr -> direct == unpack_cr -> direct ) ; free_buf ( buf ) ; slurmdb_destroy_coord_rec ( unpack_cr ) ; } 