static void iwl_mvm_csa_noa_start ( struct iwl_mvm * mvm ) { struct ieee80211_vif * csa_vif ; rcu_read_lock ( ) ; csa_vif = rcu_dereference ( mvm -> csa_vif ) ; if ( ! csa_vif || ! csa_vif -> bss_conf . csa_active ) { out_unlock } IWL_DEBUG_TE ( mvm , "CSA NOA started\n" ) ; if ( ! ieee80211_beacon_cntdwn_is_complete ( csa_vif ) ) { IWL_WARN ( mvm , "CSA NOA started too early\n" ) ; out_unlock } ieee80211_csa_finish ( csa_vif ) ; rcu_read_unlock ( ) ; RCU_INIT_POINTER ( mvm -> csa_vif ) ; return ; out_unlock rcu_read_unlock ( ) ; } 