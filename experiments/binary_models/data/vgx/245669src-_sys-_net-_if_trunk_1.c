int trunk_lacp_attach ( struct trunk_softc * tr ) { struct trunk_port * tp ; int error ; tr -> tr_detach = trunk_lacp_detach ; tr -> tr_port_create = lacp_port_create ; tr -> tr_port_destroy = lacp_port_destroy ; tr -> tr_linkstate = lacp_linkstate ; tr -> tr_start = trunk_lacp_start ; tr -> tr_input = trunk_lacp_input ; tr -> tr_init = lacp_init ; tr -> tr_stop = lacp_stop ; tr -> tr_req = lacp_req ; tr -> tr_portreq = lacp_portreq ; error = lacp_attach ( tr ) ; if ( error ) { return ( error ) ; } SLIST_FOREACH ( , , ) lacp_port_create ( tp , NULL ) ; return ( error ) ; } 