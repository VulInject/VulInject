static mrb_value load_irep ( mrb_state * mrb , struct RProc * proc , mrbc_context * c ) { if ( ! proc || ! proc -> body . irep ) { irep_error ( mrb , NULL ) ; return mrb_nil_value ( ) ; } proc -> c = NULL ; if ( c && c -> dump_result ) { mrb_codedump_all ( mrb , proc ) ; } if ( c && c -> no_exec ) { return mrb_obj_value ( proc ) ; } return mrb_top_run ( mrb , proc , mrb_top_self ( mrb ) , 0 ) ; } 