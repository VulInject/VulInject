void ircomm_tty_connect_indication ( void * instance , void * sap , struct qos_info * qos , __u32 max_data_size , __u8 max_header_size , struct sk_buff * skb ) { struct ircomm_tty_cb * self = ( ircomm_tty_cb * ) instance ; int clen ; IRDA_ASSERT ( , ) IRDA_ASSERT ( , ) self -> client = FALSE ; self -> max_data_size = max_data_size ; self -> max_header_size = max_header_size ; self -> flow = FLOW_START ; clen = skb -> data [ 0 ] ; if ( clen ) { irda_param_extract_all ( self , skb -> data + 1 , IRDA_MIN ( skb -> len , clen ) , & ircomm_param_info ) ; } ircomm_tty_do_event ( self , IRCOMM_TTY_CONNECT_INDICATION , NULL ) ; } 