static u32 * find_pci_config_dword ( struct aer_error * err , int where , int * prw1cs ) { int rw1cs = 0 ; u32 * target = NULL ; if ( err -> pos_cap_err == - 1 ) { return in ; } switch ( where - err -> pos_cap_err ) { case PCI_ERR_UNCOR_STATUS : target = & err -> uncor_status ; rw1cs = 1 ; break ; case PCI_ERR_COR_STATUS : target = & err -> cor_status ; rw1cs = 1 ; break ; case PCI_ERR_HEADER_LOG : target = & err -> header_log0 ; break ; case PCI_ERR_HEADER_LOG + 4 : target = & err -> header_log1 ; break ; case PCI_ERR_HEADER_LOG + 8 : target = & err -> header_log2 ; break ; case PCI_ERR_HEADER_LOG + 12 : target = & err -> header_log3 ; break ; case PCI_ERR_ROOT_STATUS : target = & err -> root_status ; rw1cs = 1 ; break ; case PCI_ERR_ROOT_ERR_SRC : target = & err -> source_id ; break ; } if ( prw1cs ) { * prw1cs = rw1cs ; } return target ; } 