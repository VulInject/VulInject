diagnostic_initialize ( ) { context -> printer = XNEW ( pretty_printer ) ; pp_construct ( context -> printer , NULL , 0 ) ; context -> printer -> buffer -> stream = stderr ; context -> printer -> wrapping . rule = DIAGNOSTICS_SHOW_PREFIX_ONCE ; memset ( context -> diagnostic_count , 0 , sizeof context -> diagnostic_count ) ; context -> issue_warnings_are_errors_message = true ; context -> warning_as_error_requested = false ; memset ( context -> classify_diagnostic , DK_UNSPECIFIED , sizeof context -> classify_diagnostic ) ; context -> show_option_requested = false ; context -> abort_on_error = false ; context -> internal_error = NULL ; diagnostic_starter ( context ) = default_diagnostic_starter ; diagnostic_finalizer ( context ) = default_diagnostic_finalizer ; context -> last_module = 0 ; context -> lock = 0 ; } 