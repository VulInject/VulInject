void dump_profile ( struct profile_node * root , int level ) int main ( argc , argv ) int argc ; char * * argv ; { struct profile_node * root ; unsigned long retval ; FILE * f ; initialize_prof_error_table ( ) ; if ( argc != 2 ) { fprintf ( stderr , "%s: Usage<filename>\n" , argv [ 0 ] ) ; exit ( 1 ) ; } f = fopen ( argv [ 1 ] , "r" ) ; if ( ! f ) { perror ( argv [ 1 ] ) ; exit ( 1 ) ; } retval = profile_parse_file ( f , & root , NULL ) ; if ( retval ) { printf ( "profile_parse_file error %s\n" , error_message ( ( errcode_t ) retval ) ) ; exit ( 1 ) ; } fclose ( f , NULL ) ; printf ( "\n\nDebugging dump.\n" ) ; profile_write_tree_file ( root , stdout ) ; retval = profile_verify_node ( root ) ; if ( retval ) { printf ( "profile_verify_node reported an error: %s\n" , error_message ( ( errcode_t ) retval ) ) ; exit ( 1 ) ; } profile_free_node ( root ) ; return 0 ; } 