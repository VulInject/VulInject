static void ext_tree_free_commitdata ( struct nfs4_layoutcommit_args * arg , size_t buffer_size ) { if ( arg -> layoutupdate_pages != & arg -> layoutupdate_page ) { int nr_pages = DIV_ROUND_UP ( buffer_size , PAGE_SIZE ) , i ; for ( i = 0 ; i < nr_pages ; i ++ ) { put_page ( arg -> layoutupdate_pages [ i ] ) ; } vfree ( arg -> start_p ) ; } else { put_page ( arg -> layoutupdate_page ) ; } } 