static int mailimf_cache_date_time_read ( MMAPString * mmapstr , size_t * indx , struct mailimf_date_time * * result ) { int r ; uint32_t day ; uint32_t month ; uint32_t year ; uint32_t hour ; uint32_t min ; uint32_t sec ; uint32_t zone ; struct mailimf_date_time * date_time ; r = mailimf_cache_int_read ( mmapstr , indx , & day ) ; r = mailimf_cache_int_read ( mmapstr , indx , & month ) ; if ( r != MAIL_NO_ERROR ) { return r ; } r = mailimf_cache_int_read ( mmapstr , indx , & year ) ; if ( r != MAIL_NO_ERROR ) { return r ; } r = mailimf_cache_int_read ( mmapstr , indx , & hour ) ; if ( r != MAIL_NO_ERROR ) { return r ; } r = mailimf_cache_int_read ( mmapstr , indx , & min ) ; if ( r != MAIL_NO_ERROR ) { return r ; } r = mailimf_cache_int_read ( mmapstr , indx , & sec ) ; if ( r != MAIL_NO_ERROR ) { return r ; } r = mailimf_cache_int_read ( mmapstr , indx , & zone ) ; if ( r != MAIL_NO_ERROR ) { return r ; } date_time = mailimf_date_time_new ( day , month , year , hour , min , sec , zone ) ; if ( date_time == NULL ) { return MAIL_ERROR_MEMORY ; } * result = date_time ; return MAIL_NO_ERROR ; } 