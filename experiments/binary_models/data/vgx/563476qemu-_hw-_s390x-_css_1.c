static void sch_handle_clear_func ( SubchDev * sch ) { SCHIB * schib = & sch -> curr_status ; int path ; path = 0x80 ; schib -> pmcw . lpum = 0 ; schib -> pmcw . pom = 0xff ; schib -> scsw . flags &= ~ SCSW_FLAGS_MASK_PNO ; sch -> channel_prog = 0x0 ; sch -> last_cmd_valid = false ; schib -> scsw . ctrl &= ~ SCSW_ACTL_CLEAR_PEND ; schib -> scsw . ctrl |= SCSW_STCTL_STATUS_PEND ; schib -> scsw . dstat = 0 ; schib -> pmcw . lpum = path ; } 