void test_online_clone__initialize ( void ) { git_checkout_options dummy_opts = GIT_CHECKOUT_OPTIONS_INIT ; git_fetch_options dummy_fetch = GIT_FETCH_OPTIONS_INIT ; g_repo = NULL ; g_options . version = GIT_CLONE_OPTIONS_VERSION ; g_options . checkout_opts = dummy_opts ; g_options . checkout_opts . checkout_strategy = GIT_CHECKOUT_SAFE ; g_options . fetch_opts = dummy_fetch ; g_options . fetch_opts . callbacks . certificate_check = ssl_cert ; _remote_url = cl_getenv ( "GITTEST_REMOTE_URL" ) ; _remote_user = cl_getenv ( "GITTEST_REMOTE_USER" ) ; _remote_pass = cl_getenv ( "GITTEST_REMOTE_PASS" ) ; _remote_branch = cl_getenv ( "GITTEST_REMOTE_BRANCH" ) ; _remote_sslnoverify = cl_getenv ( "GITTEST_REMOTE_SSL_NOVERIFY" ) ; _remote_ssh_pubkey = cl_getenv ( "GITTEST_REMOTE_SSH_PUBKEY" ) ; _remote_ssh_privkey = cl_getenv ( "GITTEST_REMOTE_SSH_KEY" ) ; _remote_ssh_passphrase = cl_getenv ( "GITTEST_REMOTE_SSH_PASSPHRASE" ) ; _remote_ssh_fingerprint = cl_getenv ( "GITTEST_REMOTE_SSH_FINGERPRINT" ) ; _remote_proxy_scheme = cl_getenv ( "GITTEST_REMOTE_PROXY_SCHEME" ) ; _remote_proxy_host = cl_getenv ( "GITTEST_REMOTE_PROXY_HOST" ) ; _remote_proxy_user = cl_getenv ( "GITTEST_REMOTE_PROXY_USER" ) ; _remote_proxy_pass = cl_getenv ( "GITTEST_REMOTE_PROXY_PASS" ) ; _remote_proxy_selfsigned = cl_getenv ( "GITTEST_REMOTE_PROXY_SELFSIGNED" ) ; _remote_expectcontinue = cl_getenv ( "GITTEST_REMOTE_EXPECTCONTINUE" ) ; _remote_redirect_initial = cl_getenv ( "GITTEST_REMOTE_REDIRECT_INITIAL" ) ; _remote_redirect_subsequent = cl_getenv ( "GITTEST_REMOTE_REDIRECT_SUBSEQUENT" ) ; _github_ssh_pubkey = cl_getenv ( "GITTEST_GITHUB_SSH_PUBKEY" ) ; _github_ssh_privkey = cl_getenv ( "GITTEST_GITHUB_SSH_KEY" ) ; _github_ssh_passphrase = cl_getenv ( "GITTEST_GITHUB_SSH_PASSPHRASE" ) ; _github_ssh_remotehostkey = cl_getenv ( "GITTEST_GITHUB_SSH_REMOTE_HOSTKEY" ) ; if ( _remote_expectcontinue ) { git_libgit2_opts ( GIT_OPT_ENABLE_HTTP_EXPECT_CONTINUE , 1 ) ; } _orig_proxies_need_reset = 0 ; } 