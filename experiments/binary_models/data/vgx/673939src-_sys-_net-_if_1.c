int if_isconnected ( const struct ifnet * ifp0 , unsigned int ifidx ) { struct ifnet * ifp ; int connected = 0 ; ifp = if_get ( ifidx ) ; if ( ifp0 -> if_index == ifp -> if_index ) { connected = 1 ; } if ( ifp0 -> if_bridgeidx != 0 && ifp0 -> if_bridgeidx == ifp -> if_bridgeidx ) { connected = 1 ; } if ( ( ifp0 -> if_type == IFT_CARP && ifp0 -> if_carpdevidx == ifp -> if_index ) || ( ifp -> if_type == IFT_CARP && ifp -> if_carpdevidx == ifp0 -> if_index ) ) { connected = 1 ; } if_put ( ifp ) ; return ( connected ) ; } 