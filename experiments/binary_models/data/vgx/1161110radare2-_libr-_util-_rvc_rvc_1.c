static bool file_copyrf ( const char * src , const char * dst ) { if ( r_file_exists ( src ) ) { return file_copyp ( src , dst ) ; } RList * fl = r_file_lsrf ( src ) ; if ( ! fl ) { return false ; } RListIter * iter ; const char * path ; bool ret = true ; r_list_foreach ( , , ) { char * dstp = r_file_new ( dst , path + strlen ( src ) , NULL ) ; if ( dstp ) { if ( r_file_is_directory ( path ) ) { r_sys_mkdirp ( dstp ) ; } else { if ( ! file_copyp ( path , dstp ) ) { R_LOG_ERROR ( "Failed to copy the file: %s to %s" , path , dstp ) ; ret = false ; } } } else { ret = false ; R_LOG_ERROR ( "Failed to copy the file: %s" , path ) ; } } return ret ; } 