static int serpar_set_params ( const ParameterConfig * config ) { unsigned int speed ; int termios_value ; printf ( "serpar_set_params\n" ) ; if ( ! Angel_FindParam ( AP_BAUD_RATE , config , & speed ) ) { printf ( "speed not found in config\n" ) ; return DE_OKAY ; } termios_value = find_baud_rate ( & speed ) ; if ( termios_value == 0 ) { printf ( "speed not valid: %u\n" , speed ) ; return DE_OKAY ; } printf ( "setting speed to %u\n" , speed ) ; SetBaudRate ( ( WORD ) termios_value ) ; Unix_SetSerialBaudRate ( termios_value , NULL ) ; return DE_OKAY ; } 