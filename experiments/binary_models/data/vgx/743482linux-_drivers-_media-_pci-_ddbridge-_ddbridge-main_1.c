static void ddb_remove ( struct pci_dev * pdev ) { struct ddb * dev = ( ddb * ) pci_get_drvdata ( pdev ) ; ddb_device_destroy ( dev ) ; ddb_ports_detach ( dev ) ; ddb_i2c_release ( dev ) ; ddb_irq_exit ( dev ) ; ddb_msi_exit ( dev ) ; ddb_ports_release ( dev ) ; ddb_buffers_free ( dev ) ; ddb_unmap ( dev , NULL ) ; pci_set_drvdata ( pdev , NULL ) ; pci_disable_device ( pdev ) ; } 