int btrfs_lookup_data_extent ( struct btrfs_fs_info * fs_info , u64 start , u64 len ) { struct btrfs_root * root = btrfs_extent_root ( fs_info , start ) ; int ret ; struct btrfs_key key ; struct btrfs_path * path ; path = btrfs_alloc_path ( ) ; if ( ! path ) { return - ENOMEM ; } key . objectid = start ; key . offset = len ; key . type = BTRFS_EXTENT_ITEM_KEY ; ret = btrfs_search_slot ( NULL , root , & key , path , 0 , 0 ) ; return ret ; } 