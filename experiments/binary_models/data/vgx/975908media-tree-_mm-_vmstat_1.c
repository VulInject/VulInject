static void walk_zones_in_node ( struct seq_file * m , pg_data_t * pgdat , bool assert_populated , void * print ( struct seq_file * m , pg_data_t * , struct zone * ) ) { struct zone * zone ; struct zone * node_zones = pgdat -> node_zones ; unsigned long flags ; for ( zone = node_zones ; zone - node_zones < MAX_NR_ZONES ; ++ zone ) { spin_lock_irqsave ( & zone -> lock , flags ) ; print ( m , pgdat , zone ) ; spin_unlock_irqrestore ( & zone -> lock , flags ) ; } } 