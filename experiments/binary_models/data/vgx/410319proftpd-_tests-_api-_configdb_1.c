START_TEST ( ) { unsigned int id , res ; const char * name ; res = pr_config_get_id ( NULL ) ; ck_assert_msg ( res == 0 , "Failed to handle null argument" ) ; ck_assert_msg ( errno == EINVAL , "Failed to set errno to EINVAL, got %d (%s)" , errno , strerror ( errno ) ) ; res = pr_config_set_id ( NULL ) ; ck_assert_msg ( res == 0 , "Failed to handle null argument" ) ; ck_assert_msg ( errno == EINVAL , "Failed to set errno to EINVAL, got %d (%s)" , errno , strerror ( errno ) ) ; name = "foo" ; id = pr_config_set_id ( name ) ; ck_assert_msg ( id > 0 , "Failed to set ID for config '%s': %s" , name , strerror ( errno ) ) ; res = pr_config_get_id ( name , NULL ) ; ck_assert_msg ( res == id , "Expected ID %u for config '%s', found %u" , id , name , res ) ; } 