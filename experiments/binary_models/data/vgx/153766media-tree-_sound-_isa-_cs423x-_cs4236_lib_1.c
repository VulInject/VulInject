static void snd_cs4236_resume ( struct snd_wss * chip ) { int reg ; unsigned long flags ; snd_wss_mce_up ( chip ) ; spin_lock_irqsave ( & chip -> reg_lock , flags ) ; for ( reg = 0 ; reg < 32 ; reg ++ ) { switch ( reg ) { case CS4236_EXT_REG : case CS4231_VERSION : case 27 : case 29 : break ; default : snd_wss_out ( chip , reg , chip -> image [ reg ] ) ; break ; } } for ( reg = 0 ; reg < 18 ; reg ++ ) { snd_cs4236_ext_out ( chip , CS4236_I23VAL ( reg ) , chip -> eimage [ reg ] ) ; } for ( reg = 2 ; reg < 9 ; reg ++ ) { switch ( reg ) { case 7 : break ; default : snd_cs4236_ctrl_out ( chip , reg , chip -> cimage [ reg ] ) ; } } spin_unlock_irqrestore ( & chip -> reg_lock , flags ) ; snd_wss_mce_down ( chip , NULL ) ; } 