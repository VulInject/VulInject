static int ipoib_path_seq_show ( struct seq_file * file , void * iter_ptr ) { struct ipoib_path_iter * iter = iter_ptr ; char gid_buf [ sizeof ] ; struct ipoib_path path ; int rate ; ipoib_path_iter_read ( iter , & path ) ; format_gid ( & path . pathrec . dgid , gid_buf ) ; seq_printf ( file , "GID: %s\n" "  complete: %6s\n" , gid_buf , sa_path_get_dlid ( & path . pathrec ) ?"yes" : "no" ) ; if ( sa_path_get_dlid ( & path . pathrec ) ) { rate = ib_rate_to_mbps ( path . pathrec . rate ) ; seq_printf ( file , "  DLID:     0x%04x\n" "  SL: %12d\n" "  rate: %8d.%d Gb/sec\n" , be32_to_cpu ( sa_path_get_dlid ( & path . pathrec ) ) , path . pathrec . sl , rate / 1000 , rate % 1000 ) ; } seq_putc ( file , '\n' ) ; return 0 ; } 