static void score_unmask ( struct irq_data * d ) { int irq_source = 63 - d -> irq ; if ( irq_source < 32 ) { __raw_writel ( ( __raw_readl ( SCORE_PIC + INT_MASKL ) & ~ ( 1 << irq_source ) ) , SCORE_PIC + INT_MASKL ) ; } else { __raw_writel ( ( __raw_readl ( SCORE_PIC + INT_MASKH ) & ~ ( 1 << ( irq_source - 32 ) ) ) , SCORE_PIC + INT_MASKH ) ; } } struct irq_chip score_irq_chip = { . name = "Score7-level" . irq_mask = score_mask . irq_mask_ack = score_mask . irq_unmask = score_unmask } ; 