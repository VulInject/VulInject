int BotVoiceChatCommand ( bot_state_t * bs , int mode , char * voiceChat ) { int i , clientNum ; char * ptr , buf [ MAX_MESSAGE_SIZE ] , * cmd ; if ( ! TeamPlayIsOn ( ) ) { return qfalse ; } Q_strncpyz ( buf , voiceChat , sizeof ( buf ) ) ; cmd = buf ; for ( ; * cmd && * cmd > ' ' ; cmd ++ ) { } while ( * cmd && * cmd <= ' ' ) { * cmd ++ = '\0' ; } for ( ptr = cmd ; * cmd && * cmd > ' ' ; cmd ++ ) { } while ( * cmd && * cmd <= ' ' ) { * cmd ++ = '\0' ; } clientNum = atoi ( ptr ) ; for ( ; * cmd && * cmd > ' ' ; cmd ++ ) { } while ( * cmd && * cmd <= ' ' ) { * cmd ++ = '\0' ; } if ( ! BotSameTeam ( bs , clientNum ) ) { return qfalse ; } for ( i = 0 ; voiceCommands [ i ] . cmd ; i ++ ) { if ( ! Q_stricmp ( cmd , voiceCommands [ i ] . cmd ) ) { voiceCommands [ i ] . func ( bs , clientNum , mode ) ; return qtrue ; } } return qfalse ; } 