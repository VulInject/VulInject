static int max31790_init_client ( struct i2c_client * client , struct max31790_data * data ) { int i , rv ; for ( i = 0 ; i < NR_CHANNEL ; i ++ ) { rv = i2c_smbus_read_byte_data ( client , MAX31790_REG_FAN_CONFIG ( i ) ) ; data -> fan_config [ i ] = rv ; rv = i2c_smbus_read_byte_data ( client , MAX31790_REG_FAN_DYNAMICS ( i ) ) ; if ( rv < 0 ) { return rv ; } data -> fan_dynamics [ i ] = rv ; } return 0 ; } 