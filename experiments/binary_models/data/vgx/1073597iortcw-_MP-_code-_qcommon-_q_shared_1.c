char * Info_ValueForKey ( const char * s , const char * key ) { char pkey [ BIG_INFO_KEY ] ; static char value [ 2 ] [ BIG_INFO_VALUE ] ; static int valueindex = 0 ; char * o ; if ( ! s || ! key ) { return "" ; } if ( strlen ( s ) >= BIG_INFO_STRING ) { Com_Error ( ERR_DROP , "Info_ValueForKey: oversize infostring" ) ; } valueindex ^= 1 ; if ( * s == '\\' ) { s ++ ; } while ( 1 ) { o = pkey ; while ( * s != '\\' ) { * o ++ = * s ++ ; } * o = 0 ; s ++ ; o = value [ valueindex ] ; while ( * s != '\\' && * s ) { * o ++ = * s ++ ; } * o = 0 ; if ( ! Q_stricmp ( key , pkey ) ) { return value [ valueindex ] ; } if ( ! * s ) { break ; } s ++ ; } return "" ; } 