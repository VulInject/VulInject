static void FlxProc ( DOUBLE c1x2 , DOUBLE c1y2 , DOUBLE c3x0 , DOUBLE c3y0 , DOUBLE c3x1 , DOUBLE c3y1 , DOUBLE c3x2 , DOUBLE c3y2 , DOUBLE c4x0 , DOUBLE c4y0 , DOUBLE c4x1 , DOUBLE c4y1 , DOUBLE c4x2 , DOUBLE c4y2 , DOUBLE epY , DOUBLE epX , int idmin ) static void FlxProc1 ( void ) static void FlxProc2 ( void ) static void HintReplace ( void ) static void CallOtherSubr ( int othersubrno ) static void SetCurrentPoint ( DOUBLE x , DOUBLE y ) static struct segment * FlxOldPath ; static struct blues_struct * blues ; static struct alignmentzone alignmentzones [ MAXALIGNMENTZONES ] ; int numalignmentzones ; static void ComputeAlignmentZones ( void ) { int i ; DOUBLE dummy , bluezonepixels , familyzonepixels ; struct segment * p ; numalignmentzones = 0 ; for ( i = 0 ; i < blues -> numBlueValues ; i += 2 , ++ numalignmentzones ) { if ( i == 0 ) { alignmentzones [ numalignmentzones ] . topzone = FALSE ; } else { alignmentzones [ numalignmentzones ] . topzone = TRUE ; } if ( i < blues -> numFamilyBlues ) { p = ILoc ( CharSpace , 0 , blues -> BlueValues [ i ] - blues -> BlueValues [ i + 1 ] ) ; QueryLoc ( p , IDENTITY , & dummy , & bluezonepixels ) ; Destroy ( p , NULL ) ; p = ILoc ( CharSpace , 0 , blues -> FamilyBlues [ i ] - blues -> FamilyBlues [ i + 1 ] ) ; QueryLoc ( p , IDENTITY , & dummy , & familyzonepixels ) ; Destroy ( p ) ; if ( FABS ( bluezonepixels - familyzonepixels ) < 1.0 ) { alignmentzones [ numalignmentzones ] . bottomy = blues -> FamilyBlues [ i ] ; alignmentzones [ numalignmentzones ] . topy = blues -> FamilyBlues [ i + 1 ] ; continue ; } } alignmentzones [ numalignmentzones ] . bottomy = blues -> BlueValues [ i ] ; alignmentzones [ numalignmentzones ] . topy = blues -> BlueValues [ i + 1 ] ; } for ( i = 0 ; i < blues -> numOtherBlues ; i += 2 , ++ numalignmentzones ) { alignmentzones [ numalignmentzones ] . topzone = FALSE ; if ( i < blues -> numFamilyOtherBlues ) { p = ILoc ( CharSpace , 0 , blues -> OtherBlues [ i ] - blues -> OtherBlues [ i + 1 ] ) ; QueryLoc ( p , IDENTITY , & dummy , & bluezonepixels ) ; Destroy ( p ) ; p = ILoc ( CharSpace , 0 , blues -> FamilyOtherBlues [ i ] - blues -> FamilyOtherBlues [ i + 1 ] ) ; QueryLoc ( p , IDENTITY , & dummy , & familyzonepixels ) ; Destroy ( p ) ; if ( FABS ( bluezonepixels - familyzonepixels ) < 1.0 ) { alignmentzones [ numalignmentzones ] . bottomy = blues -> FamilyOtherBlues [ i ] ; alignmentzones [ numalignmentzones ] . topy = blues -> FamilyOtherBlues [ i + 1 ] ; continue ; } } alignmentzones [ numalignmentzones ] . bottomy = blues -> OtherBlues [ i ] ; alignmentzones [ numalignmentzones ] . topy = blues -> OtherBlues [ i + 1 ] ; } } 