START_TEST ( ) { pbs_attribute f ; pbs_attribute t ; decode_frequency ( & f , NULL , NULL , "1000" , 0 ) ; memset ( & t , 0 , sizeof ( t ) ) ; decode_frequency ( & t , NULL , NULL , "1000MHz" , 0 ) ; fail_unless ( comp_frequency ( & t , & f ) == 0 ) ; memset ( & f , 0 , sizeof ( f ) ) ; decode_frequency ( & f , NULL , NULL , "1100" , 0 ) ; memset ( & t , 0 , sizeof ( t ) ) ; decode_frequency ( & t , NULL , NULL , "100MHz" , 0 ) ; fail_unless ( comp_frequency ( & t , & f ) == - 1 ) ; fail_unless ( comp_frequency ( & f , & t ) == 1 ) ; set_frequency ( & f , & t , SET ) ; fail_unless ( comp_frequency ( & t , & f ) == 0 ) ; } END_TEST Suite * attr_fn_freq_suite ( void ) { Suite * s = suite_create ( "attr_fn_freq_suite methods" ) ; TCase * tc_core = tcase_create ( "test_one" ) ; tcase_add_test ( tc_core , test_one ) ; suite_add_tcase ( s , tc_core ) ; tc_core = tcase_create ( "test_two" ) ; tcase_add_test ( tc_core , test_two ) ; suite_add_tcase ( s , tc_core ) ; tc_core = tcase_create ( "test_three" ) ; tcase_add_test ( tc_core , test_three ) ; suite_add_tcase ( s , tc_core ) ; return s ; } void rundebug ( ) { } int main ( void ) { int number_failed = 0 ; SRunner * sr = NULL ; rundebug ( ) ; sr = srunner_create ( attr_fn_freq_suite ( ) ) ; srunner_set_log ( sr , "attr_fn_freq_suite.log" ) ; srunner_run_all ( sr , CK_NORMAL ) ; number_failed = srunner_ntests_failed ( sr ) ; srunner_free ( sr ) ; return number_failed ; } 