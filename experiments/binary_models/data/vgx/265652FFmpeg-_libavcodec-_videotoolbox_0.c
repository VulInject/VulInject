static int FUN1(VAR1 *VAR2, VAR3 *VAR4)
{
VAR5 *VAR6 = VAR2->VAR7->VAR8;
CVPixelBufferRef VAR9 = (VAR10)VAR6->VAR4;
OSType VAR11 = FUN2(VAR9);
enum AVPixelFormat VAR12 = FUN3(VAR11);
int VAR13 = FUN4(VAR9);
int VAR14 = FUN5(VAR9);
VAR15 *VAR16;
VAR17 *VAR18;
int VAR19;

if (!VAR4->VAR20[0] || VAR4->VAR21[3]) {
FUN6(VAR2, VAR22, "");
FUN7(VAR4);
return VAR23;
}

VAR18 = (VAR17 *)VAR4->VAR20[0]->VAR21;

if (VAR18->VAR9)
FUN8(VAR18->VAR9);
VAR18->VAR9 = VAR6->VAR4;
VAR6->VAR4 = NULL;


if (!VAR6->VAR24)
return 0;

VAR16 = (VAR15*)VAR6->VAR24->VAR21;

if (VAR16->VAR12 != VAR12 ||
VAR16->VAR13 != VAR13 ||
VAR16->VAR14 != VAR14) {
VAR25 *VAR26 = FUN9(VAR16->VAR27);
VAR15 *VAR28;
if (!VAR26)
return FUN10(VAR29);

VAR28 = (VAR15*)VAR26->VAR21;
VAR28->VAR30 = VAR16->VAR30;
VAR28->VAR12 = VAR12;
VAR28->VAR13 = VAR13;
VAR28->VAR14 = VAR14;

VAR19 = FUN11(VAR26);
if (VAR19 < 0) {
FUN12(&VAR26);
return VAR19;
}

FUN12(&VAR6->VAR24);
VAR6->VAR24 = VAR26;
}

FUN12(&VAR18->VAR26);
VAR18->VAR26 = FUN13(VAR6->VAR24);
if (!VAR18->VAR26)
return FUN10(VAR29);

return 0;
}