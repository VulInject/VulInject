static int hda_tegra_suspend ( struct device * dev ) { struct snd_card * card = dev_get_drvdata ( dev ) ; struct azx * chip = card -> private_data ; struct hda_tegra * hda = container_of ( chip , hda_tegra , chip ) ; snd_power_change_state ( card , SNDRV_CTL_POWER_D3hot ) ; azx_stop_chip ( chip ) ; azx_enter_link_reset ( chip , NULL ) ; hda_tegra_disable_clocks ( hda ) ; return 0 ; } 