static int __init pvr2fb_setup ( char * options ) { char * this_opt ; char cable_arg [ 80 ] ; char output_arg [ 80 ] ; while ( ( this_opt = strsep ( & options , "," ) ) ) { if ( ! * this_opt ) { continue ; } if ( ! strcmp ( this_opt , "inverse" ) ) { fb_invert_cmaps ( ) ; } if ( ! strncmp ( this_opt , "cable:" , 6 ) ) { strcpy ( cable_arg , this_opt + 6 ) ; } if ( ! strncmp ( this_opt , "output:" , 7 ) ) { strcpy ( output_arg , this_opt + 7 ) ; } if ( ! strncmp ( this_opt , "nopan" , 5 ) ) { nopan = 1 ; } if ( ! strncmp ( this_opt , "nowrap" , 6 ) ) { nowrap = 1 ; } else { mode_option = this_opt ; } } if ( * cable_arg ) { cable_type = pvr2_get_param ( cables , cable_arg , 0 , 3 ) ; } if ( * output_arg ) { video_output = pvr2_get_param ( outputs , output_arg , 0 , 3 ) ; } return 0 ; } 