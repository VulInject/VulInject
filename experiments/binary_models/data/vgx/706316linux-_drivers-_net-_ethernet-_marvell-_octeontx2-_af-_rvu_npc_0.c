static int FUN1(struct VAR1 *VAR2, u16 VAR3,
struct VAR4 *VAR5,
struct VAR6 *VAR7)
{
u16 VAR8[VAR9];
u16 VAR10, VAR11, VAR12;
u16 VAR13, VAR14, VAR15;
int VAR16, VAR17;
bool VAR18 = false;
unsigned long *VAR19;
u16 VAR20;

FUN2(&VAR2->VAR21);


if (!VAR2->VAR22) {
FUN3(&VAR2->VAR21);
return VAR23;
}




if (VAR5->VAR24) {
FUN4(VAR2, VAR5,
&VAR13, &VAR14, &VAR18);
goto VAR25;
}


if (!(VAR3 & VAR26))
goto VAR27;


VAR12 = FUN5(VAR2->VAR19,
VAR2->VAR28,
VAR2->VAR29);
VAR11 = FUN5(VAR2->VAR19, 0, VAR2->VAR30);
VAR10 = VAR2->VAR22 - VAR12 - VAR11;


if (VAR10 > VAR5->VAR31) {
VAR13 = VAR2->VAR30;
VAR14 = VAR2->VAR28;
} else if ((VAR10 + (VAR11 / 2) + (VAR12 / 2)) > VAR5->VAR31) {

VAR13 = VAR2->VAR30 / 2;
VAR14 = VAR2->VAR29 - (VAR2->VAR32 / 2);
VAR18 = true;
} else {

VAR27:
VAR18 = true;
VAR13 = 0;
VAR14 = VAR2->VAR29;
}

VAR25:
if (VAR18) {
VAR19 = VAR2->VAR33;
VAR13 = VAR2->VAR29 - VAR13;
VAR14 = VAR2->VAR29 - VAR14;
FUN6(VAR13, VAR14);
} else {
VAR19 = VAR2->VAR19;
}

if (VAR5->VAR34) {

VAR15 = FUN7(VAR19, VAR14, VAR13,
VAR5->VAR31, &VAR20);
VAR7->VAR31 = VAR20;
if (VAR18)
VAR7->VAR16 = VAR2->VAR29 - VAR15 - VAR20;
else
VAR7->VAR16 = VAR15;
} else {

VAR7->VAR31 = 0;
VAR17 = VAR13;
for (VAR16 = 0; VAR16 < VAR5->VAR31; VAR16++) {
VAR15 = FUN8(VAR19, VAR14, VAR17);
if (VAR15 >= VAR14)
break;

VAR17 = VAR13 + (VAR15 - VAR13) + 1;


if (VAR18)
VAR15 = VAR2->VAR29 - VAR15 - 1;
VAR8[VAR16] = VAR15;
VAR7->VAR31++;
}
}


if (!VAR5->VAR24 && (VAR7->VAR31 < VAR5->VAR31) &&
((VAR14 - VAR13) != VAR2->VAR29)) {
VAR18 = true;
VAR13 = 0;
VAR14 = VAR2->VAR29;
goto VAR25;
}


if (VAR5->VAR24 && VAR7->VAR31 < VAR5->VAR31) {
if (VAR5->VAR24 == VAR35 &&
(VAR13 != (VAR5->VAR36 + 1))) {
VAR13 = VAR5->VAR36 + 1;
VAR14 = VAR2->VAR29;
VAR18 = false;
goto VAR25;
} else if ((VAR5->VAR24 == VAR37) &&
((VAR14 - VAR13) != VAR5->VAR36)) {
VAR13 = 0;
VAR14 = VAR5->VAR36;
VAR18 = true;
goto VAR25;
}
}


if (!VAR5->VAR34 && VAR7->VAR31) {
VAR15 = 0;
for (VAR16 = VAR7->VAR31 - 1; VAR16 >= 0; VAR16--) {
if (VAR18)
VAR7->VAR8[VAR15++] = VAR8[VAR16];
else
VAR7->VAR8[VAR16] = VAR8[VAR16];
}
}


for (VAR16 = 0; VAR16 < VAR7->VAR31; VAR16++) {
VAR15 = VAR5->VAR34 ?
(VAR7->VAR16 + VAR16) : VAR7->VAR8[VAR16];
FUN9(VAR2, VAR15);
VAR2->VAR38[VAR15] = VAR3;
VAR2->VAR39[VAR15] = VAR40;
}


VAR7->VAR41 = VAR2->VAR22;

FUN3(&VAR2->VAR21);
return 0;
}