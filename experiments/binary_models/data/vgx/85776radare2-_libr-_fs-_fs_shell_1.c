static bool handlePipes ( RFS * fs , char * msg , const ut8 * data , const char * cwd ) { char * red = strchr ( msg , '>' ) ; if ( ! red ) { return false ; } * red ++ = 0 ; r_str_trim ( msg ) ; red = r_str_trim_dup ( red ) ; if ( * red != '/' ) { char * blu = r_str_newf ( "%s/%s" , cwd , red ) ; red = blu ; } RFSFile * f = r_fs_open ( fs , red , true ) ; if ( ! f ) { R_LOG_ERROR ( "Cannot open %s for writing" , red ) ; free ( red ) ; return true ; } r_fs_write ( fs , f , 0 , data ?data : ( ut8 * ) msg , strlen ( data ?( char * ) data : msg ) ) ; free ( red ) ; r_fs_close ( fs , f ) ; r_fs_file_free ( f ) ; return true ; } 