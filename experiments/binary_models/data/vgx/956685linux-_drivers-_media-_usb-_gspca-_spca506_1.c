static int sd_s_ctrl ( struct v4l2_ctrl * ctrl ) { struct gspca_dev * gspca_dev = container_of ( ctrl -> handler , gspca_dev , ctrl_handler ) ; gspca_dev -> usb_err = 0 ; switch ( ctrl -> id ) { case V4L2_CID_BRIGHTNESS : setbrightness ( gspca_dev , ctrl -> val ) ; break ; case V4L2_CID_CONTRAST : setcontrast ( gspca_dev , ctrl -> val ) ; break ; case V4L2_CID_SATURATION : setcolors ( gspca_dev , ctrl -> val ) ; break ; case V4L2_CID_HUE : sethue ( gspca_dev , ctrl -> val ) ; break ; } return gspca_dev -> usb_err ; } 