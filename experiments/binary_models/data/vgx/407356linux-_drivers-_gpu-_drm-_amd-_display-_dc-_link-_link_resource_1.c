void link_get_cur_link_res ( const struct dc_link * link , struct link_resource * link_res ) { int i ; struct pipe_ctx * pipe = NULL ; for ( i = 0 ; i < MAX_PIPES ; i ++ ) { pipe = & link -> dc -> current_state -> res_ctx . pipe_ctx [ i ] ; if ( pipe -> stream && pipe -> stream -> link && pipe -> top_pipe == NULL ) { if ( pipe -> stream -> link == link ) { * link_res = pipe -> link_res ; break ; } } } } 