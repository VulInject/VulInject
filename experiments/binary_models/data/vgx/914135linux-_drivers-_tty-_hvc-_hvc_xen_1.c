static struct xencons_info * vtermno_to_xencons ( int vtermno ) { struct xencons_info * entry , * ret = NULL ; unsigned long flags ; spin_lock_irqsave ( & xencons_lock , flags ) ; if ( list_empty ( & xenconsoles ) ) { return NULL ; } list_for_each_entry ( , , ) { if ( entry -> vtermno == vtermno ) { ret = entry ; break ; } } spin_unlock_irqrestore ( & xencons_lock , flags ) ; return ret ; } 