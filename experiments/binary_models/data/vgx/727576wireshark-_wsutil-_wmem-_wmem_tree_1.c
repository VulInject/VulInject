static void wmem_tree_print_nodes ( const char * prefix , wmem_tree_node_t * node , guint32 level , wmem_printer_func key_printer , wmem_printer_func data_printer ) { wmem_print_indent ( level ) ; printf ( "%sNODE:%p parent:%p left:%p right:%p colour:%s key:%p %s:%p\n" , prefix , ( void * ) node , ( void * ) node -> parent , ( void * ) node -> left , ( void * ) node -> right , node -> color ?"Black" : "Red" , node -> key , node -> is_subtree ?"tree" : "data" , node -> data ) ; if ( key_printer ) { wmem_print_indent ( level ) ; key_printer ( node -> key ) ; printf ( "\n" ) ; } if ( data_printer && ! node -> is_subtree ) { wmem_print_indent ( level ) ; data_printer ( node -> data ) ; printf ( "\n" ) ; } if ( node -> left ) { wmem_tree_print_nodes ( "L-" , node -> left , level + 1 , key_printer , data_printer ) ; } if ( node -> right ) { wmem_tree_print_nodes ( "R-" , node -> right , level + 1 , key_printer , data_printer ) ; } if ( node -> is_subtree ) { wmem_print_subtree ( ( wmem_tree_t * ) node -> data , level + 1 , key_printer , data_printer ) ; } } 