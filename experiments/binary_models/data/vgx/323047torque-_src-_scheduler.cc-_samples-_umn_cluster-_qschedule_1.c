void extract_times ( Job * joblist ) void list_start_times ( ) void list_gaps ( int all , int q_cpu , size_t q_mem , time_t q_time ) void create_job_schedule ( Job * joblist ) static int compare_qtime ( const void * e1 , const void * e2 ) time_t convert_time ( char * time_string ) char * invert_time ( time_t time_p ) struct Sinfo * JobSchedule = NULL ; int nJobSchedule ; char arch_list [ 40 ] [ 40 ] ; int arch_count ; time_t schd_TimeNow ; int main ( int argc , char * * argv , char * * envp ) { char * id = "qschedule" ; char * pc ; int c , errflg = 0 ; int ret , show_gaps = 0 , query_gaps = 0 , q_cpu = 0 ; time_t q_time = 0 ; int q_mem = 0 ; while ( ( c = getopt ( argc , argv , "gc:m:w:" ) ) != EOF ) { switch ( c ) { case 'g' : show_gaps = 1 ; break ; case 'c' : query_gaps = 1 ; while ( isspace ( ( int ) * optarg ) ) { optarg ++ ; } if ( strlen ( optarg ) == 0 ) { fprintf ( stderr , "qschedule: illegal -c value\n" ) ; errflg ++ ; break ; } q_cpu = atoi ( optarg ) ; break ; case 'm' : query_gaps = 1 ; while ( isspace ( ( int ) * optarg ) ) { optarg ++ ; } if ( strlen ( optarg ) == 0 ) { fprintf ( stderr , "qschedule: illegal -m value\n" ) ; errflg ++ ; break ; } q_mem = schd_val2byte ( optarg ) ; break ; case 'w' : query_gaps = 1 ; while ( isspace ( ( int ) * optarg ) ) { optarg ++ ; } if ( strlen ( optarg ) == 0 ) { fprintf ( stderr , "qschedule: illegal -w value\n" ) ; errflg ++ ; break ; } } } } 