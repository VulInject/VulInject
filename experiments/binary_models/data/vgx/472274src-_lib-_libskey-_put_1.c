static void insert ( char * s , int x , int start , int length ) { int cl ; unsigned char cc ; unsigned char cr ; unsigned int y ; int shift ; assert ( length <= 11 ) ; assert ( start >= 0 ) ; assert ( length >= 0 ) ; assert ( start + length <= 66 ) ; shift = ( ( 8 - ( ( start + length ) % 8 ) ) % 8 ) ; y = x << shift ; cl = ( y >> 16 ) & 0xff ; cc = ( y >> 8 ) & 0xff ; cr = y & 0xff ; if ( shift + length > 16 ) { s [ start / 8 ] |= cl ; s [ start / 8 + 1 ] |= cc ; s [ start / 8 + 2 ] |= cr ; } if ( shift + length > 8 ) { s [ start / 8 ] |= cc ; s [ start / 8 + 1 ] |= cr ; } else { s [ start / 8 ] |= cr ; } } 