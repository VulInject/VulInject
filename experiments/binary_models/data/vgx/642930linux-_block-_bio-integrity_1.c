static void bio_integrity_verify_fn ( struct work_struct * work ) { struct bio_integrity_payload * bip = container_of ( work , bio_integrity_payload , bip_work ) ; struct bio * bio = bip -> bip_bio ; struct blk_integrity * bi = blk_get_integrity ( bio -> bi_bdev -> bd_disk ) ; bio -> bi_status = bio_integrity_process ( bio , & bip -> bio_iter , bi -> profile -> verify_fn ) ; bio_integrity_free ( bio ) ; bio_endio ( bio , NULL ) ; } 