static void inf_xmpp_connection_sax_warning ( void * context , const char * msg , ... ) { InfXmppConnection * xmpp ; InfXmppConnectionPrivate * priv ; InfIpAddress * address ; gchar * addr_str ; gchar * warn_str ; va_list arglist ; xmpp = INF_XMPP_CONNECTION ( context ) ; priv = INF_XMPP_CONNECTION_PRIVATE ( xmpp ) ; g_object_get ( G_OBJECT ( priv -> tcp ) , "remote-address" , & address ) ; addr_str = inf_ip_address_to_string ( address ) ; inf_ip_address_free ( address ) ; va_start ( arglist , msg ) ; warn_str = g_strdup_vprintf ( msg , arglist ) ; va_end ( arglist ) ; g_warning ( _ ( "XML warning from %s: %s\n" ) , addr_str , warn_str ) ; g_free ( addr_str ) ; g_free ( warn_str ) ; } 