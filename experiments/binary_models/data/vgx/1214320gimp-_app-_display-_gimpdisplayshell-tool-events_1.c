gimp_display_shell_stop_scrolling ( , ) { gimp_display_shell_unset_override_cursor ( shell ) ; switch ( shell -> mod_action ) { case GIMP_MODIFIER_ACTION_BRUSH_PIXEL_SIZE : case GIMP_MODIFIER_ACTION_BRUSH_RADIUS_PIXEL_SIZE : { Gimp * gimp = gimp_display_get_gimp ( shell -> display ) ; GimpTool * active_tool = tool_manager_get_active ( gimp ) ; if ( GIMP_IS_PAINT_TOOL ( active_tool ) ) { gimp_paint_tool_force_draw ( GIMP_PAINT_TOOL ( active_tool ) , FALSE ) ; } } break ; default : break ; } shell -> scroll_start_x = 0 ; shell -> scroll_start_y = 0 ; shell -> scroll_last_x = 0 ; shell -> scroll_last_y = 0 ; shell -> rotate_drag_angle = 0.0 ; if ( shell -> grab_pointer ) { gimp_display_shell_pointer_ungrab ( shell , event ) ; } } 