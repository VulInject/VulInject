int lima_gem_get_info ( struct drm_file * file , u32 handle , u32 * va , u64 * offset ) { struct drm_gem_object * obj ; struct lima_bo * bo ; struct lima_drm_priv * priv = to_lima_drm_priv ( file ) ; struct lima_vm * vm = priv -> vm ; obj = drm_gem_object_lookup ( file , handle ) ; if ( ! obj ) { return - ENOENT ; } bo = to_lima_bo ( obj ) ; * va = lima_vm_get_va ( vm , bo ) ; * offset = drm_vma_node_offset_addr ( & obj -> vma_node ) ; drm_gem_object_put ( obj , NULL ) ; return 0 ; } 