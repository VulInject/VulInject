irqreturn_t diva_os_irq_wrapper ( int irq , void * context ) { diva_os_xdi_adapter_t * a = context ; diva_xdi_clear_interrupts_proc_t clear_int_proc ; if ( ( clear_int_proc = a -> clear_interrupts_proc ) ) { * clear_int_proc ( a ) ; a -> clear_interrupts_proc = NULL ; return IRQ_HANDLED ; } ( * ( a -> xdi_adapter . diva_isr_handler ) ) ( & a -> xdi_adapter ) ; return IRQ_HANDLED ; } 