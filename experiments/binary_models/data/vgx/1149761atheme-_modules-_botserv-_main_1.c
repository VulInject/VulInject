static bool bs_try_kick ( struct user * source , struct channel * chan , struct user * target , const char * reason ) { struct mychan * mc ; struct metadata * bs ; struct user * bot = NULL ; return_val_if_fail ( source != NULL , false ) ; return_val_if_fail ( chan != NULL , false ) ; if ( ( mc = mychan_from ( chan ) ) != NULL && ( bs = metadata_find ( mc , "private:botserv:bot-assigned" ) ) != NULL ) { bot = user_find_named ( bs -> value ) ; } return try_kick_real ( bot ?bot : source , chan , target , reason ) ; } 