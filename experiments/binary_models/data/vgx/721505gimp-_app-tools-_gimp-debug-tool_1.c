"([LAST_VERSION] [RELEASE_TIMESTAMP])\n" ; exit ( EXIT_FAILURE ) ; = argv [ 1 ] ; pid = argv [ 2 ] ; reason = argv [ 3 ] ; message = argv [ 4 ] ; error = g_strdup_printf ( "%s: %s" , reason , message ) ; bt_file = argv [ 5 ] ; g_file_get_contents ( bt_file , & trace , NULL , NULL ) ; if ( trace == NULL || strlen ( trace ) == 0 ) { exit ( EXIT_FAILURE ) ; } if ( argc == 8 ) { last_version = argv [ 6 ] ; release_date = argv [ 7 ] ; } gtk_init ( & argc , & argv ) ; dialog = gimp_critical_dialog_new ( _ ( "GIMP Crash Debug" ) , last_version , release_date ?g_ascii_strtoll ( release_date , NULL , 10 ) : - 1 ) ; gimp_critical_dialog_add ( dialog , error , trace , TRUE , program , g_ascii_strtoull ( pid , NULL , 10 ) ) ; g_free ( error ) ; g_signal_connect ( dialog , "delete-event" , G_CALLBACK ( gtk_main_quit ) , NULL ) ; g_signal_connect ( dialog , "destroy" , G_CALLBACK ( gtk_main_quit ) , NULL ) ; gtk_widget_show ( dialog ) ; gtk_main ( ) ; exit ( EXIT_SUCCESS ) ; 