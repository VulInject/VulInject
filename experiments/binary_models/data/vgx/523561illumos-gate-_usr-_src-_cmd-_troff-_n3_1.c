int casetl ( ) { int j ; int w [ 3 ] ; tchar buf [ LNSIZE ] ; tchar * tp ; tchar i , delim ; dip -> nls = 0 ; skip ( ) ; if ( ismot ( delim = getch ( ) ) ) { ch = delim ; delim = '\'' ; } else { delim = cbits ( delim ) ; } tp = buf ; numtab [ HP ] . val = 0 ; w [ 0 ] = w [ 1 ] = w [ 2 ] = 0 ; j = 0 ; while ( cbits ( i = getch ( ) ) != '\n' ) { if ( cbits ( i ) == cbits ( delim ) ) { if ( j < 3 ) { w [ j ] = numtab [ HP ] . val ; } numtab [ HP ] . val = 0 ; j ++ ; * tp ++ = 0 ; } else { if ( cbits ( i ) == pagech ) { setn1 ( numtab [ PN ] . val , numtab [ findr ( '%' ) ] . fmt , i & SFMASK ) ; continue ; } numtab [ HP ] . val += width ( i ) ; if ( tp < & buf [ LNSIZE - 10 ] ) { * tp ++ = i ; } } } if ( j < 3 ) { w [ j ] = numtab [ HP ] . val ; } * tp ++ = 0 ; * tp ++ = 0 ; * tp ++ = 0 ; tp = buf ; horiz ( po , NULL ) ; while ( i = * tp ++ ) { pchar ( i ) ; } if ( w [ 1 ] || w [ 2 ] ) { horiz ( j = quant ( ( lt - w [ 1 ] ) / 2 - w [ 0 ] , HOR ) ) ; } while ( i = * tp ++ ) { pchar ( i ) ; } if ( w [ 2 ] ) { horiz ( lt - w [ 0 ] - w [ 1 ] - w [ 2 ] - j ) ; while ( i = * tp ++ ) { pchar ( i ) ; } } newline ( 0 ) ; if ( dip != d ) { if ( dip -> dnl > dip -> hnl ) { dip -> hnl = dip -> dnl ; } } else { if ( numtab [ NL ] . val > dip -> hnl ) { dip -> hnl = numtab [ NL ] . val ; } } return ( 0 ) ; } 