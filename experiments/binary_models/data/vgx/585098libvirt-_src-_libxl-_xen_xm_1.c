virDomainDef * xenParseXM ( virConf * conf , virCaps * caps , virDomainXMLOption * xmlopt ) { g_autoptr ( ) def = NULL ; if ( ! ( def = virDomainDefNew ( xmlopt ) ) ) { return in ; } def -> virtType = VIR_DOMAIN_VIRT_XEN ; def -> id = - 1 ; if ( xenParseConfigCommon ( conf , def , caps , XEN_CONFIG_FORMAT_XM , xmlopt ) < 0 ) { return NULL ; } if ( xenParseXMOS ( conf , def ) < 0 ) { return NULL ; } if ( xenParseXMDiskList ( conf , def ) < 0 ) { return NULL ; } if ( xenParseXMInputDevs ( conf , def ) < 0 ) { return NULL ; } if ( virDomainDefPostParse ( def , VIR_DOMAIN_DEF_PARSE_ABI_UPDATE , xmlopt , NULL ) < 0 ) { return NULL ; } return g_steal_pointer ( & def ) ; } 