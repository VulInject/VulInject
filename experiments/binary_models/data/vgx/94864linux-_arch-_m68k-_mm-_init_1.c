void __init paging_init ( void ) { unsigned long end_mem = memory_end & PAGE_MASK ; unsigned long max_zone_pfn [ MAX_NR_ZONES ] { 0 } ; ; high_memory = ( void * ) end_mem ; empty_zero_page = memblock_alloc ( PAGE_SIZE , PAGE_SIZE ) ; if ( ! empty_zero_page ) { panic ( "%s: Failed to allocate %lu bytes align=0x%lx\n" , __func__ , PAGE_SIZE , PAGE_SIZE ) ; } max_zone_pfn [ ZONE_DMA ] = end_mem >> PAGE_SHIFT ; } 