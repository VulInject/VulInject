static int rtw_xmit_resource_alloc ( struct adapter * padapter , struct xmit_buf * pxmitbuf , u32 alloc_sz ) { pxmitbuf -> pallocated_buf = kzalloc ( alloc_sz , GFP_KERNEL ) ; if ( ! pxmitbuf -> pallocated_buf ) { return - ENOMEM ; } pxmitbuf -> pbuf = ( u8 * ) ALIGN ( ( size_t ) ( pxmitbuf -> pallocated_buf ) , XMITBUF_ALIGN_SZ ) ; pxmitbuf -> pxmit_urb = usb_alloc_urb ( 0 , GFP_KERNEL ) ; if ( ! pxmitbuf -> pxmit_urb ) { return - ENOMEM ; } return 0 ; } 