char * dt_cpp_add_arg ( dtrace_hdl_t * dtp , const char * str ) { char * arg ; if ( dtp -> dt_cpp_argc == dtp -> dt_cpp_args ) { int olds = dtp -> dt_cpp_args ; int news = olds * 2 ; char * * argv = realloc ( dtp -> dt_cpp_argv , sizeof ( char * ) * news ) ; bzero ( & argv [ olds ] , sizeof ( char * ) * olds ) ; dtp -> dt_cpp_argv = argv ; dtp -> dt_cpp_args = news ; } if ( ( arg = strdup ( str ) ) == NULL ) { return ( NULL ) ; } assert ( dtp -> dt_cpp_argc < dtp -> dt_cpp_args ) ; dtp -> dt_cpp_argv [ dtp -> dt_cpp_argc ++ ] = arg ; return ( arg ) ; } 