static void pega_accel_poll ( struct input_dev * input ) { struct device * parent = input -> dev . parent ; struct asus_laptop * asus = dev_get_drvdata ( parent ) ; if ( ! asus -> pega_acc_live ) { asus -> pega_acc_live = true ; input_report_abs ( input , ABS_X , 0 ) ; input_report_abs ( input , ABS_Y , 0 ) ; input_report_abs ( input , ABS_Z , 0 ) ; input_sync ( input , NULL ) ; return ; } asus -> pega_acc_x = pega_acc_axis ( asus , asus -> pega_acc_x , METHOD_XLRX ) ; asus -> pega_acc_y = pega_acc_axis ( asus , asus -> pega_acc_y , METHOD_XLRY ) ; asus -> pega_acc_z = pega_acc_axis ( asus , asus -> pega_acc_z , METHOD_XLRZ ) ; input_report_abs ( input , ABS_X , - asus -> pega_acc_x ) ; input_report_abs ( input , ABS_Y , - asus -> pega_acc_y ) ; input_report_abs ( input , ABS_Z , asus -> pega_acc_z ) ; input_sync ( input ) ; } 