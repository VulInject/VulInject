static int tda8261_get_status ( struct dvb_frontend * fe , u32 * status ) { struct tda8261_state * state = fe -> tuner_priv ; int result = 0 ; int err = 0 ; * status = 0 ; if ( ( err = tda8261_read ( state , & result ) ) < 0 ) { pr_err ( "%s: I/O Error\n" , __func__ ) ; return err ; } if ( ( result >> 6 ) & 0x01 ) { pr_debug ( "%s: Tuner Phase Locked\n" , __func__ ) ; * status = 1 ; } return err ; } static const u32 div_tab [ ] { 2000 1000 500 250 125 } ; ; static const u8 ref_div [ ] { 0x00 0x01 0x02 0x05 0x07 } ; ; static int tda8261_get_frequency ( struct dvb_frontend * fe , u32 * frequency ) { struct tda8261_state * state = fe -> tuner_priv ; * frequency = state -> frequency ; return 0 ; } 