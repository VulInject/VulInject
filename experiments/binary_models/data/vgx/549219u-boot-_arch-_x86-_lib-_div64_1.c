u64 __ashldi3 ( u64 num , unsigned int shift ) { union overlay64 output ; output . longw = num ; if ( shift >= 32 ) { output . words . higher = output . words . lower << ( shift - 32 ) ; output . words . lower = 0 ; } else { output . words . higher = ( output . words . higher << shift ) | ( output . words . lower >> ( 32 - shift ) ) ; output . words . lower = output . words . lower << shift ; } return output . longw ; } 