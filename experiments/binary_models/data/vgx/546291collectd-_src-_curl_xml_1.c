static int cx_handle_single_value_xpath ( xmlXPathContextPtr xpath_ctx , cx_xpath_t * xpath , const data_set_t * ds , value_list_t * vl , int index ) { char * node_value = cx_get_text_node_value ( xpath_ctx , xpath -> values [ index ] . path , "ValuesFrom" ) ; switch ( ds -> ds [ index ] . type ) { case DS_TYPE_COUNTER : vl -> values [ index ] . counter = ( counter_t ) strtoull ( node_value , NULL , 0 ) ; break ; case DS_TYPE_DERIVE : vl -> values [ index ] . derive = ( derive_t ) strtoll ( node_value , NULL , 0 ) ; break ; case DS_TYPE_ABSOLUTE : vl -> values [ index ] . absolute = ( absolute_t ) strtoull ( node_value , NULL , 0 ) ; break ; case DS_TYPE_GAUGE : vl -> values [ index ] . gauge = ( gauge_t ) strtod ( node_value , NULL ) ; } xmlFree ( node_value ) ; return 0 ; } 