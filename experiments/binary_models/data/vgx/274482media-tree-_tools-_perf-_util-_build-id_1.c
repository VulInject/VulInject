int sysfs__sprintf_build_id ( const char * root_dir , char * sbuild_id ) { char notes [ PATH_MAX ] ; u8 build_id [ BUILD_ID_SIZE ] ; int ret ; if ( ! root_dir ) { root_dir = "" ; } scnprintf ( notes , sizeof ( notes ) , "%s/sys/kernel/notes" , root_dir ) ; ret = sysfs__read_build_id ( notes , build_id , sizeof ( build_id ) ) ; return build_id__sprintf ( build_id , sizeof ( build_id ) , sbuild_id ) ; } 