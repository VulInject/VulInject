static char sccsid [ ] "@(#) shell_cmd.c 1.5 94/12/28 17:42:44" ; ; extern void exit ( ) static void do_child ( ) void shell_cmd ( command ) char * command ; { int child_pid ; int wait_pid ; switch ( child_pid = fork ( ) ) { case - 1 : tcpd_warn ( "cannot fork: %m" ) ; break ; case 00 : do_child ( command , NULL ) ; default : while ( ( wait_pid = wait ( ( int * ) 0 ) ) != - 1 && wait_pid != child_pid ) { } } } 