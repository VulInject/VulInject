static void fake_lm_check ( struct fake_driver * bridge , unsigned long long addr , u32 aspace , u32 cycle ) { struct vme_bridge * fake_bridge ; unsigned long long lm_base ; u32 lm_aspace , lm_cycle ; int i ; struct vme_lm_resource * lm ; struct list_head * pos = NULL , * n ; fake_bridge = bridge -> parent ; list_for_each_safe ( , , ) { lm = list_entry ( pos , vme_lm_resource , list ) ; lm_base = bridge -> lm_base ; lm_aspace = bridge -> lm_aspace ; lm_cycle = bridge -> lm_cycle ; if ( ( lm_aspace == aspace ) && ( lm_cycle == cycle ) ) { for ( i = 0 ; i < lm -> monitors ; i ++ ) { if ( ( ( lm_base + ( 8 * i ) ) <= addr ) && ( ( lm_base + ( 8 * i ) + 8 ) > addr ) ) { if ( bridge -> lm_callback [ i ] != NULL ) { bridge -> lm_callback [ i ] ( bridge -> lm_data [ i ] ) ; } } } } } } 