static int ohci_ppc_of_start ( struct usb_hcd * hcd ) { struct ohci_hcd * ohci = hcd_to_ohci ( hcd ) ; int ret ; if ( ( ret = ohci_init ( ohci ) ) < 0 ) { return ret ; } if ( ( ret = ohci_run ( ohci ) ) < 0 ) { dev_err ( hcd -> self . controller , "can't start %s\n" , hcd -> self . bus_name ) ; ohci_stop ( hcd , NULL ) ; return ret ; } return 0 ; } static const struct hc_driver ohci_ppc_of_hc_driver = { . description = hcd_name . product_desc = "OF OHCI" . hcd_priv_size = sizeof ( ohci_hcd ) . irq = ohci_irq . flags = HCD_USB11 | HCD_MEMORY . start = ohci_ppc_of_start . stop = ohci_stop . shutdown = ohci_shutdown . urb_enqueue = ohci_urb_enqueue . urb_dequeue = ohci_urb_dequeue . endpoint_disable = ohci_endpoint_disable . get_frame_number = ohci_get_frame . hub_status_data = ohci_hub_status_data . hub_control = ohci_hub_control . bus_suspend = ohci_bus_suspend . bus_resume = ohci_bus_resume . start_port_reset = ohci_start_port_reset } ; 