static int GV_StringCheck ( SplineFont * sf , char * str ) { char * start , * pt ; int scnt , pcnt , ch ; SplineChar * sc ; pcnt = 0 ; for ( start = str ; ; ) { while ( * start == ' ' ) { ++ start ; } if ( * start == '\0' ) { return ( pcnt ) ; } for ( pt = start ; * pt != ':' && * pt != ' ' && * pt != '\0' ; ++ pt ) { } ch = * pt ; if ( ch == ' ' || ch == '\0' ) { return ( - 1 ) ; } if ( sf != NULL ) { * pt = '\0' ; sc = SFGetChar ( sf , - 1 , start ) ; * pt = ch ; } scnt = 0 ; while ( * pt != ' ' && * pt != '\0' ) { if ( * pt == ':' ) { ++ scnt ; } if ( ! isdigit ( * pt ) ) { return ( - 1 ) ; } ++ pt ; } if ( scnt != 4 ) { return ( - 1 ) ; } ++ pcnt ; start = pt ; } } 