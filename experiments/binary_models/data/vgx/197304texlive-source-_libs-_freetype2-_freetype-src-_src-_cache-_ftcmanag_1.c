* * This file is part of the FreeType project , and may only be used , * modified , and distributed under the terms of the FreeType project * license , LICENSE . TXT . By continuing to use , modify , or distribute * this file you indicate that you have read the license and * understand and accept it fully . * * / static FT_Error ftc_scaler_lookup_size ( , , ) { FT_Face face FT_Size size = NULL FT_Error error error = FTC_Manager_LookupFace ( manager , scaler -> face_id , & face ) if ( error ) { Exit } error = FT_New_Size ( face , & size ) } ; if ( error ) { Exit } FT_Activate_Size ( size ) ; if ( scaler -> pixel ) { error = FT_Set_Pixel_Sizes ( face , scaler -> width , scaler -> height ) ; } else { error = FT_Set_Char_Size ( face , ( FT_F26Dot6 ) scaler -> width , ( FT_F26Dot6 ) scaler -> height , scaler -> x_res , scaler -> y_res ) ; } if ( error ) { FT_Done_Size ( size ) ; } Exit * asize = size ; return error ; FTC_SizeNodeRec_ { FTC_MruNodeRec node ; FT_Size size ; FTC_ScalerRec scaler ; } , FTC_SizeNodeRec , * FTC_SizeNode FT_CALLBACK_DEF ( ) ftc_size_node_done ( , ) { FTC_SizeNode node = ( FTC_SizeNode ) ftcnode ; FT_Size size = node -> size ; FT_UNUSED ( data ) ; if ( size ) { FT_Done_Size ( size ) ; } } FT_CALLBACK_DEF ( ) ftc_size_node_compare ( , ) { FTC_SizeNode node = ( FTC_SizeNode ) ftcnode ; FTC_Scaler scaler = ( FTC_Scaler ) ftcscaler ; FTC_Scaler scaler0 = & node -> scaler ; } 