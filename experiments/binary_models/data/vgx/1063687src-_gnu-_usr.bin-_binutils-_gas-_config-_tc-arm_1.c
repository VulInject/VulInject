s_unreq ( ) { char * name ; char saved_char ; skip_whitespace ( input_line_pointer ) ; name = input_line_pointer ; while ( * input_line_pointer != 0 && * input_line_pointer != ' ' && * input_line_pointer != '\n' ) { ++ input_line_pointer ; } saved_char = * input_line_pointer ; * input_line_pointer = 0 ; if ( * name ) { enum arm_reg_type req_type = arm_reg_parse_any ( name ) ; if ( req_type != REG_TYPE_MAX ) { char * temp_name = name ; int req_no = arm_reg_parse ( & temp_name , all_reg_maps [ req_type ] . htab ) ; if ( req_no != FAIL ) { struct reg_entry * req_entry ; req_entry = hash_delete ( all_reg_maps [ req_type ] . htab , name ) ; if ( ! req_entry ) { as_bad ( _ ( "unreq: missing hash entry for \"%s\"" ) , name ) ; } if ( req_entry -> builtin ) { } else { free ( ( char * ) req_entry -> name ) ; } } else { as_bad ( _ ( ".unreq: unrecognized symbol \"%s\"" ) , name ) ; } } else { as_bad ( _ ( ".unreq: unrecognized symbol \"%s\"" ) , name ) ; } } else { as_bad ( _ ( "invalid syntax for .unreq directive" ) ) ; } * input_line_pointer = saved_char ; demand_empty_rest_of_line ( ) ; } 