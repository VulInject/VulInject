u32 bnxt_set_rx_mask ( u32 rx_mask ) { int mask = 0 ; if ( ! rx_mask ) { return mask ; } mask = CFA_L2_SET_RX_MASK_REQ_MASK_BCAST ; if ( rx_mask != RX_MASK_ACCEPT_NONE ) { if ( rx_mask & RX_MASK_ACCEPT_MULTICAST ) { mask |= CFA_L2_SET_RX_MASK_REQ_MASK_MCAST ; } if ( rx_mask & RX_MASK_ACCEPT_ALL_MULTICAST ) { mask |= CFA_L2_SET_RX_MASK_REQ_MASK_ALL_MCAST ; } if ( rx_mask & RX_MASK_PROMISCUOUS_MODE ) { mask |= CFA_L2_SET_RX_MASK_REQ_MASK_PROMISCUOUS ; } } return mask ; } 