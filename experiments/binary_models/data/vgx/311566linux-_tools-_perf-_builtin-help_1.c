static int add_man_viewer_info ( const char * var , const char * value ) { const char * name = var + 4 ; const char * subkey = strrchr ( name , '.' ) ; if ( ! subkey ) { pr_err ( "Config with no key for man viewer: %s" , name ) ; return - 1 ; } if ( ! strcmp ( subkey , ".path" ) ) { return add_man_viewer_path ( name , subkey - name , value ) ; } if ( ! strcmp ( subkey , ".cmd" ) ) { if ( ! value ) { return config_error_nonbool ( var ) ; } return add_man_viewer_cmd ( name , subkey - name , value ) ; } pr_warning ( "'%s': unsupported man viewer sub key." , subkey ) ; return 0 ; } 