static BOOL audin_oss_format_supported ( IAudinDevice * device , const AUDIO_FORMAT * format ) { switch ( format -> wFormatTag ) { case WAVE_FORMAT_PCM : if ( format -> cbSize != 0 || format -> nSamplesPerSec > 48000 || ( format -> wBitsPerSample != 8 && format -> wBitsPerSample != 16 ) || ( format -> nChannels != 1 && format -> nChannels != 2 ) ) { return FALSE ; } break ; default : return FALSE ; } return TRUE ; } 