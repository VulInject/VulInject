static int ipc_wwan_link_open ( struct net_device * netdev ) { struct iosm_netdev_priv * priv = wwan_netdev_drvpriv ( netdev ) ; struct iosm_wwan * ipc_wwan = priv -> ipc_wwan ; int if_id = priv -> if_id ; if ( if_id < IP_MUX_SESSION_START || if_id >= ARRAY_SIZE ( ipc_wwan -> sub_netlist ) ) { return - EINVAL ; } priv -> ch_id = ipc_imem_sys_wwan_open ( ipc_wwan -> ipc_imem , if_id ) ; if ( priv -> ch_id < 0 ) { dev_err ( ipc_wwan -> dev , "cannot connect wwan0&id %d to the IPC mem layer" , if_id ) ; return - ENODEV ; } netif_start_queue ( netdev , NULL ) ; dev_dbg ( ipc_wwan -> dev , "Channel id %d allocated to if_id %d" , priv -> ch_id , priv -> if_id ) ; return 0 ; } 