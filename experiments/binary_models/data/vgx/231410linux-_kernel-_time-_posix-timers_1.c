void exit_itimers ( struct task_struct * tsk ) { struct list_head timers ; struct k_itimer * tmr ; if ( list_empty ( & tsk -> signal -> posix_timers ) ) { return ; } spin_lock_irq ( & tsk -> sighand -> siglock ) ; list_replace_init ( & tsk -> signal -> posix_timers , & timers ) ; spin_unlock_irq ( & tsk -> sighand -> siglock ) ; while ( ! list_empty ( & timers ) ) { tmr = list_first_entry ( & timers , k_itimer , list ) ; itimer_delete ( tmr , NULL ) ; } } 