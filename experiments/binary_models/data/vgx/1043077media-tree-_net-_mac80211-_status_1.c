static void ieee80211_check_pending_bar ( struct sta_info * sta , u8 * addr , u8 tid ) { struct tid_ampdu_tx * tid_tx ; tid_tx = rcu_dereference ( sta -> ampdu_mlme . tid_tx [ tid ] ) ; tid_tx -> bar_pending = false ; ieee80211_send_bar ( & sta -> sdata -> vif , addr , tid , tid_tx -> failed_bar_ssn ) ; } 