static int range_alloc ( struct ashmem_area * asma , struct ashmem_range * prev_range , unsigned int purged , size_t start , size_t end ) { struct ashmem_range * range ; range = kmem_cache_zalloc ( ashmem_range_cachep , GFP_KERNEL ) ; range -> asma = asma ; range -> pgstart = start ; range -> pgend = end ; range -> purged = purged ; list_add_tail ( & range -> unpinned , & prev_range -> unpinned ) ; if ( range_on_lru ( range ) ) { lru_add ( range ) ; } return 0 ; } 