static void test_task_btf ( void ) { struct bpf_iter_task_btf__bss * bss ; struct bpf_iter_task_btf * skel ; int ret ; skel = bpf_iter_task_btf__open_and_load ( ) ; bss = skel -> bss ; ret = do_btf_read ( skel ) ; if ( ret ) { cleanup } if ( ! ASSERT_NEQ ( bss -> tasks , 0 , "no task iteration, did BPF program run?" ) ) { cleanup } ASSERT_EQ ( bss -> seq_err , 0 , "check for unexpected err" ) ; cleanup bpf_iter_task_btf__destroy ( skel ) ; } 