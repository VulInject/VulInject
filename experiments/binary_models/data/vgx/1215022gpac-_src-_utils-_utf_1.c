u32 FUN1 ( char * VAR1 , size_t VAR2 , const unsigned short * * VAR3 ) { size_t VAR4 ; const unsigned short * VAR5 = * VAR3 ; if ( VAR1 != NULL ) { char * VAR6 = VAR1 ; for ( ; ; VAR5 ++ ) { unsigned char VAR7 ; unsigned short VAR8 = * VAR5 ; if ( VAR8 < 0x80 ) { if ( VAR8 == ( wchar_t ) '' ) { if ( VAR2 == 0 ) { * VAR3 = VAR5 ; break ; } * VAR6 = '' ; * VAR3 = NULL ; break ; } VAR4 = 0 ; VAR7 = ( unsigned char ) VAR8 ; } if ( VAR8 < 0x800 ) { VAR4 = 1 ; VAR7 = ( unsigned char ) ( ( VAR8 >> 6 ) | 0xC0 ) ; } else { VAR4 = 2 ; VAR7 = ( unsigned char ) ( ( VAR8 >> 12 ) | 0xE0 ) ; } if ( VAR2 <= VAR4 ) { * VAR3 = VAR5 ; break ; } VAR2 -= VAR4 + 1 ; * VAR6 ++ = VAR7 ; if ( VAR4 > 0 ) { { * VAR6 ++ = ( unsigned char ) ( ( ( VAR8 >> ( 6 * -- VAR4 ) ) & 0x3F ) | 0x80 ) ; } VAR4 > 0 ; } } return ( VAR9 ) ( VAR6 - VAR1 ) ; } else { int VAR10 = 0 ; for ( ; ; VAR5 ++ ) { unsigned short VAR8 = * VAR5 ; size_t VAR4 ; if ( VAR8 < 0x80 ) { if ( VAR8 == ( wchar_t ) '' ) { * VAR3 = NULL ; break ; } VAR4 = 1 ; } if ( VAR8 < 0x800 ) { VAR4 = 2 ; } else { VAR4 = 3 ; } VAR10 += VAR4 ; } return ( VAR9 ) VAR10 ; } } { u32 count 16 ; u32 value 16 ; } VAR11