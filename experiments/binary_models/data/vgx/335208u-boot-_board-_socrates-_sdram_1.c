phys_size_t fixed_sdram ( void ) { struct ccsr_ddr __iomem * ddr = ( ccsr_ddr __iomem * ) ( CFG_SYS_FSL_DDR_ADDR ) ; ddr -> cs0_config = 0 ; ddr -> sdram_cfg = 0 ; ddr -> cs0_bnds = CFG_SYS_DDR_CS0_BNDS ; ddr -> cs0_config = CFG_SYS_DDR_CS0_CONFIG ; ddr -> timing_cfg_0 = CFG_SYS_DDR_TIMING_0 ; ddr -> timing_cfg_1 = CFG_SYS_DDR_TIMING_1 ; ddr -> timing_cfg_2 = CFG_SYS_DDR_TIMING_2 ; ddr -> sdram_mode = CFG_SYS_DDR_MODE ; ddr -> sdram_interval = CFG_SYS_DDR_INTERVAL ; ddr -> sdram_cfg_2 = CFG_SYS_DDR_CONFIG_2 ; ddr -> sdram_clk_cntl = CFG_SYS_DDR_CLK_CONTROL ; udelay ( 1000 ) ; ddr -> sdram_cfg = CFG_SYS_DDR_CONFIG ; udelay ( 1000 ) ; return 0 ; } 