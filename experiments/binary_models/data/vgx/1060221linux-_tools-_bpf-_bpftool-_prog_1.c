static void profile_print_readings_plain ( void ) { __u32 m ; printf ( "\n%18llu %-20s\n" , profile_total_count , "run_cnt" ) ; for ( m = 0 ; m < ARRAY_SIZE ( metrics ) ; m ++ ) { struct bpf_perf_event_value * val = & metrics [ m ] . val ; int r ; printf ( "%18llu %-20s" , val -> counter , metrics [ m ] . name ) ; r = metrics [ m ] . ratio_metric - 1 ; if ( r >= 0 && metrics [ r ] . selected && metrics [ r ] . val . counter > 0 ) { printf ( "# %8.2f %-30s" , val -> counter * metrics [ m ] . ratio_mul / metrics [ r ] . val . counter , metrics [ m ] . ratio_desc ) ; } else { printf ( "%-41s" , "" ) ; } if ( val -> enabled > val -> running ) { printf ( "(%4.2f%%)" , val -> running * 100.0 / val -> enabled ) ; } printf ( "\n" ) ; } } 