static int palm27x_ac97_init ( struct snd_soc_pcm_runtime * rtd ) { int err ; err = snd_soc_card_jack_new ( rtd -> card , "Headphone Jack" , SND_JACK_HEADPHONE , & hs_jack , hs_jack_pins , ARRAY_SIZE ( hs_jack_pins ) ) ; err = snd_soc_jack_add_gpios ( & hs_jack , ARRAY_SIZE ( hs_jack_gpios ) , hs_jack_gpios ) ; return err ; } static struct snd_soc_dai_link palm27x_dai [ ] { { . name = "AC97 HiFi" . stream_name = "AC97 HiFi" . cpu_dai_name = "pxa2xx-ac97" . codec_dai_name = "wm9712-hifi" . codec_name = "wm9712-codec" . platform_name = "pxa-pcm-audio" . init = palm27x_ac97_init } { . name = "AC97 Aux" . stream_name = "AC97 Aux" . cpu_dai_name = "pxa2xx-ac97-aux" . codec_dai_name = "wm9712-aux" . codec_name = "wm9712-codec" . platform_name = "pxa-pcm-audio" } } ; ; 