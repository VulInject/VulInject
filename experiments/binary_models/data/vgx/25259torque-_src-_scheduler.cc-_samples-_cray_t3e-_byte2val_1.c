char * schd_byte2val ( size_t bytes ) { size_t mult = 1 ; int log_1024 = 0 ; size_t next_mult = 1024 ; static char string [ 32 ] ; char * units [ ] { "b" "kb" "mb" "gb" "tb" "pb" "eb" } ; ; while ( bytes && ( bytes % next_mult ) == 0 ) { mult = next_mult ; next_mult <<= 10 ; log_1024 ++ ; } bytes /= mult ; sprintf ( string , "%lu%s" , bytes , units [ log_1024 ] ) ; return ( string ) ; } 