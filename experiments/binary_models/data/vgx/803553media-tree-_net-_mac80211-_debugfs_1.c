DEBUGFS_DEVSTATS_FILE ( dot11ACKFailureCount , NULL ) ; DEBUGFS_DEVSTATS_FILE ( dot11RTSFailureCount ) ; DEBUGFS_DEVSTATS_FILE ( dot11FCSErrorCount ) ; DEBUGFS_DEVSTATS_FILE ( dot11RTSSuccessCount ) ; void debugfs_hw_add ( struct ieee80211_local * local ) { struct dentry * phyd = local -> hw . wiphy -> debugfsdir ; struct dentry * statsd ; if ( ! phyd ) { return ; } local -> debugfs . keys = debugfs_create_dir ( "keys" , phyd ) ; DEBUGFS_ADD ( total_ps_buffered ) ; DEBUGFS_ADD ( wep_iv ) ; DEBUGFS_ADD ( rate_ctrl_alg ) ; DEBUGFS_ADD ( queues ) ; DEBUGFS_ADD ( misc ) ; DEBUGFS_ADD_MODE ( reset , 0200 ) ; DEBUGFS_ADD ( hwflags ) ; DEBUGFS_ADD ( user_power ) ; DEBUGFS_ADD ( power ) ; if ( local -> ops -> wake_tx_queue ) { DEBUGFS_ADD_MODE ( aqm , 0600 ) ; } statsd = debugfs_create_dir ( "statistics" , phyd ) ; if ( ! statsd ) { return ; } DEBUGFS_STATS_ADD ( dot11TransmittedFragmentCount ) ; DEBUGFS_STATS_ADD ( dot11MulticastTransmittedFrameCount ) ; DEBUGFS_STATS_ADD ( dot11FailedCount ) ; DEBUGFS_STATS_ADD ( dot11RetryCount ) ; DEBUGFS_STATS_ADD ( dot11MultipleRetryCount ) ; DEBUGFS_STATS_ADD ( dot11FrameDuplicateCount ) ; DEBUGFS_STATS_ADD ( dot11ReceivedFragmentCount ) ; DEBUGFS_STATS_ADD ( dot11MulticastReceivedFrameCount ) ; DEBUGFS_STATS_ADD ( dot11TransmittedFrameCount ) ; DEBUGFS_STATS_ADD ( tx_handlers_drop ) ; DEBUGFS_STATS_ADD ( tx_handlers_queued ) ; DEBUGFS_STATS_ADD ( tx_handlers_drop_wep ) ; DEBUGFS_STATS_ADD ( tx_handlers_drop_not_assoc ) ; DEBUGFS_STATS_ADD ( tx_handlers_drop_unauth_port ) ; DEBUGFS_STATS_ADD ( rx_handlers_drop ) ; DEBUGFS_STATS_ADD ( rx_handlers_queued ) ; DEBUGFS_STATS_ADD ( rx_handlers_drop_nullfunc ) ; DEBUGFS_STATS_ADD ( rx_handlers_drop_defrag ) ; DEBUGFS_STATS_ADD ( tx_expand_skb_head ) ; DEBUGFS_STATS_ADD ( tx_expand_skb_head_cloned ) ; DEBUGFS_STATS_ADD ( rx_expand_skb_head_defrag ) ; DEBUGFS_STATS_ADD ( rx_handlers_fragments ) ; DEBUGFS_STATS_ADD ( tx_status_drop ) ; DEBUGFS_DEVSTATS_ADD ( dot11ACKFailureCount ) ; DEBUGFS_DEVSTATS_ADD ( dot11RTSFailureCount ) ; DEBUGFS_DEVSTATS_ADD ( dot11FCSErrorCount ) ; DEBUGFS_DEVSTATS_ADD ( dot11RTSSuccessCount ) ; } 