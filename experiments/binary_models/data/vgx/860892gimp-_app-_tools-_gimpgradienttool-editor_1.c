gimp_gradient_tool_editor_midpoint_se_value_changed ( , ) { gint selection ; gdouble value ; GimpGradientSegment * seg ; selection = gimp_tool_line_get_selection ( GIMP_TOOL_LINE ( gradient_tool -> widget ) ) ; if ( selection == GIMP_TOOL_LINE_HANDLE_NONE ) { return ; } value = gimp_size_entry_get_refval ( se , 0 ) / 100.0 ; gimp_gradient_tool_editor_start_edit ( gradient_tool ) ; gimp_gradient_tool_editor_freeze_gradient ( gradient_tool ) ; seg = gimp_gradient_tool_editor_handle_get_segment ( gradient_tool , selection ) ; seg -> middle = value ; gimp_gradient_tool_editor_thaw_gradient ( gradient_tool ) ; gimp_gradient_tool_editor_end_edit ( gradient_tool , FALSE ) ; } 