static double str2dbl ( const char * str , const char * what , double mi , double ma ) { double val ; char * ep ; errno = 0 ; val = strtod ( str , & ep ) ; if ( errno != 0 || * ep != '\0' ) { Fprintf ( stderr , "%s: \"%s\" bad value for %s \n" , prog , str , what ) ; exit ( EXIT_FAILURE , NULL ) ; } if ( val < mi && mi >= 0 ) { Fprintf ( stderr , "%s: %s must be>= %f\n" , prog , what , mi ) ; exit ( EXIT_FAILURE ) ; } if ( val > ma && ma >= 0 ) { Fprintf ( stderr , "%s: %s must be<= %f\n" , prog , what , ma ) ; exit ( EXIT_FAILURE ) ; } return ( val ) ; } 