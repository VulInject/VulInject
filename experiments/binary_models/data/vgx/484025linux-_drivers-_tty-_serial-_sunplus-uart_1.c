static int sunplus_startup ( struct uart_port * port ) { unsigned long flags ; unsigned int isc = 0 ; int ret ; ret = request_irq ( port -> irq , sunplus_uart_irq , 0 , "sunplus_uart" , port ) ; spin_lock_irqsave ( & port -> lock , flags ) ; isc |= SUP_UART_ISC_RXM ; writel ( isc , port -> membase + SUP_UART_ISC ) ; spin_unlock_irqrestore ( & port -> lock , flags ) ; return 0 ; } 