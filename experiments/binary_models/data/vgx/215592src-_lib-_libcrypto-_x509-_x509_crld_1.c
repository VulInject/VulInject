static STACK_OF ( GENERAL_NAME ) * gnames_from_sectname ( , ) { STACK_OF ( CONF_VALUE ) * gnsect STACK_OF ( GENERAL_NAME ) * gens if ( * sect == '@' ) { gnsect = X509V3_get_section ( ctx , sect + 1 ) ; } else { gnsect = X509V3_parse_list ( sect ) ; } } ; if ( ! gnsect ) { X509V3error ( X509V3_R_SECTION_NOT_FOUND , NULL ) ; return NULL ; } gens = v2i_GENERAL_NAMES ( NULL , ctx , gnsect ) ; if ( * sect == '@' ) { X509V3_section_free ( ctx , gnsect ) ; } else { sk_CONF_VALUE_pop_free ( gnsect , X509V3_conf_free ) ; } return gens ; 