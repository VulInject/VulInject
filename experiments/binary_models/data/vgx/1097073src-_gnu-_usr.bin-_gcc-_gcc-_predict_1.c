note_prediction_to_br_prob ( ) { basic_block bb ; dominance_info post_dominators , dominators ; int * heads ; add_noreturn_fake_exit_edges ( ) ; connect_infinite_loops_to_exit ( ) ; post_dominators = calculate_dominance_info ( CDI_POST_DOMINATORS ) ; dominators = calculate_dominance_info ( CDI_DOMINATORS ) ; heads = xmalloc ( sizeof ( int ) * last_basic_block ) ; heads [ ENTRY_BLOCK_PTR -> next_bb -> index ] = last_basic_block ; FOR_EACH_BB ( ) process_note_predictions ( bb , heads , dominators , post_dominators ) ; free_dominance_info ( post_dominators ) ; free_dominance_info ( dominators ) ; free ( heads ) ; remove_fake_edges ( ) ; } 