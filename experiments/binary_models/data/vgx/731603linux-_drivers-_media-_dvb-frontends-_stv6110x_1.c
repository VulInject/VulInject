const struct stv6110x_devctl * stv6110x_attach ( struct dvb_frontend * fe , const struct stv6110x_config * config , struct i2c_adapter * i2c ) { struct stv6110x_state * stv6110x ; stv6110x = kmalloc ( sizeof ( * stv6110x ) , GFP_KERNEL ) ; if ( ! stv6110x ) { return NULL ; } stv6110x -> frontend = fe ; stv6110x -> i2c = i2c ; stv6110x -> config = config ; stv6110x -> devctl = & stv6110x_ctl ; st6110x_init_regs ( stv6110x ) ; stv6110x_setup_divider ( stv6110x ) ; stv6110x_set_frontend_opts ( stv6110x ) ; fe -> tuner_priv = stv6110x ; fe -> ops . tuner_ops = stv6110x_ops ; dev_info ( & stv6110x -> i2c -> dev , "Attaching STV6110x\n" ) ; return stv6110x -> devctl ; } 