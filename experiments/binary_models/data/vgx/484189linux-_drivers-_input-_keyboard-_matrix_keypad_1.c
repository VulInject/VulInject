static int matrix_keypad_remove ( struct platform_device * pdev ) { struct matrix_keypad * keypad = platform_get_drvdata ( pdev ) ; matrix_keypad_free_gpio ( keypad ) ; input_unregister_device ( keypad -> input_dev ) ; return 0 ; } static const struct of_device_id matrix_keypad_dt_match [ ] { { . compatible = "gpio-matrix-keypad" } { } } ; ; 