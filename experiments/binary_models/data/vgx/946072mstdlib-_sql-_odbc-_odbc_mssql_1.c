M_sql_error_t mssql_cb_connect_runonce ( M_sql_conn_t * conn , M_sql_driver_connpool_t * dpool , M_bool is_first_in_pool , M_bool is_readonly , char * error , size_t error_size ) { M_sql_error_t err ; M_sql_stmt_t * stmt ; ( void ) dpool ; ( void ) is_first_in_pool ; ( void ) is_readonly ; stmt = M_sql_conn_execute_simple ( conn , "SET ANSI_DEFAULTS ON" , M_FALSE ) ; err = M_sql_stmt_get_error ( stmt ) ; if ( stmt == NULL || err != M_SQL_ERROR_SUCCESS ) { M_snprintf ( error , error_size , "SET ANSI_DEFAULTS ON failed: %s: %s" , M_sql_error_string ( err ) , M_sql_stmt_get_error_string ( stmt ) ) ; return err ; } M_sql_stmt_destroy ( stmt ) ; return M_SQL_ERROR_SUCCESS ; } 