int xvip_enum_frame_size ( struct v4l2_subdev * subdev , struct v4l2_subdev_state * sd_state , struct v4l2_subdev_frame_size_enum * fse ) { struct v4l2_mbus_framefmt * format ; format = v4l2_subdev_get_try_format ( subdev , sd_state , fse -> pad ) ; if ( fse -> index || fse -> code != format -> code ) { return - EINVAL ; } if ( fse -> pad == XVIP_PAD_SINK ) { fse -> min_width = XVIP_MIN_WIDTH ; fse -> max_width = XVIP_MAX_WIDTH ; fse -> min_height = XVIP_MIN_HEIGHT ; fse -> max_height = XVIP_MAX_HEIGHT ; } else { fse -> min_width = format -> width ; fse -> max_width = format -> width ; fse -> min_height = format -> height ; fse -> max_height = format -> height ; } return 0 ; } 