static int sdev_runtime_resume ( struct device * dev ) { struct scsi_device * sdev = to_scsi_device ( dev ) ; const struct dev_pm_ops * pm = dev -> driver ?dev -> driver -> pm : NULL ; int err = 0 ; blk_pre_runtime_resume ( sdev -> request_queue , NULL ) ; if ( pm && pm -> runtime_resume ) { err = pm -> runtime_resume ( dev ) ; } blk_post_runtime_resume ( sdev -> request_queue ) ; return err ; } 