void ec_thread_init ( void ) { pthread_t id = pthread_self ( ) ; int e ; DEBUG_MSG ( "ec_thread_init -- %lu" , PTHREAD_ID ( id ) ) ; INIT_LOCK ; pthread_setcancelstate ( PTHREAD_CANCEL_ENABLE ) ; pthread_setcanceltype ( PTHREAD_CANCEL_ASYNCHRONOUS , NULL ) ; if ( ( e = pthread_cond_signal ( & init_cond ) ) ) { ERROR_MSG ( "raising init_cond: %s" , strerror ( e ) ) ; } INIT_UNLOCK ; DEBUG_MSG ( "ec_thread_init -- (%lu) ready and syncronized" , PTHREAD_ID ( id ) ) ; } 