_cairo_gstate_in_clip ( , , ) { cairo_clip_t * clip = gstate -> clip ; int i ; if ( _cairo_clip_is_all_clipped ( clip ) ) { return FALSE ; } if ( clip == NULL ) { return TRUE ; } _cairo_gstate_user_to_backend ( gstate , & x , & y ) ; if ( x < clip -> extents . x || x >= clip -> extents . x + clip -> extents . width || y < clip -> extents . y || y >= clip -> extents . y + clip -> extents . height ) { return FALSE ; } if ( clip -> num_boxes ) { int fx , fy ; fx = _cairo_fixed_from_double ( x , NULL ) ; fy = _cairo_fixed_from_double ( y ) ; for ( i = 0 ; i < clip -> num_boxes ; i ++ ) { if ( fx >= clip -> boxes [ i ] . p1 . x && fx <= clip -> boxes [ i ] . p2 . x && fy >= clip -> boxes [ i ] . p1 . y && fy <= clip -> boxes [ i ] . p2 . y ) { break ; } } if ( i == clip -> num_boxes ) { return FALSE ; } } if ( clip -> path ) { cairo_clip_path_t * clip_path = clip -> path ; { if ( ! _cairo_path_fixed_in_fill ( & clip_path -> path , clip_path -> fill_rule , clip_path -> tolerance , x , y ) ) { return FALSE ; } } ( clip_path = clip_path -> prev ) != NULL ; } return TRUE ; } 