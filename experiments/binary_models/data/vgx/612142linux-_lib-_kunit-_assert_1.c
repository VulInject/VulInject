( kunit_ptr_not_err_assert_format ) ; static bool is_literal ( struct kunit * test , const char * text , long long value , gfp_t gfp ) { char * buffer ; int len ; bool ret ; len = snprintf ( NULL , 0 , "%lld" , value ) ; if ( strlen ( text ) != len ) { return false ; } buffer = kunit_kmalloc ( test , len + 1 , gfp ) ; snprintf ( buffer , len + 1 , "%lld" , value ) ; ret = strncmp ( buffer , text , len ) == 0 ; kunit_kfree ( test , buffer ) ; return ret ; } 