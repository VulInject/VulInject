static int lp50xx_enable_disable ( struct lp50xx * priv , int enable_disable ) { int ret ; ret = gpiod_direction_output ( priv -> enable_gpio , enable_disable ) ; if ( enable_disable ) { return regmap_write ( priv -> regmap , LP50XX_DEV_CFG0 , LP50XX_CHIP_EN ) ; } else { return regmap_write ( priv -> regmap , LP50XX_DEV_CFG0 , 0 ) ; } } 