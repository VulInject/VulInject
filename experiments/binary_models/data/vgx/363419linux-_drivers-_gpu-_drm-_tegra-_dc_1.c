static int tegra_dc_late_register ( struct drm_crtc * crtc ) { unsigned int i , count = ARRAY_SIZE ( debugfs_files ) ; struct drm_minor * minor = crtc -> dev -> primary ; struct dentry * root ; struct tegra_dc * dc = to_tegra_dc ( crtc ) ; root = crtc -> debugfs_entry ; root = NULL ; dc -> debugfs_files = kmemdup ( debugfs_files , sizeof ( debugfs_files ) , GFP_KERNEL ) ; for ( i = 0 ; i < count ; i ++ ) { dc -> debugfs_files [ i ] . data = dc ; } drm_debugfs_create_files ( dc -> debugfs_files , count , root , minor ) ; return 0 ; } 