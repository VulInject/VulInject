static int skl_tplg_create_pipe_widget_list ( struct snd_soc_platform * platform ) { struct snd_soc_dapm_widget * w ; struct skl_module_cfg * mcfg = NULL ; struct skl_pipe_module * p_module = NULL ; struct skl_pipe * pipe ; list_for_each_entry ( , , ) { if ( is_skl_dsp_widget_type ( w ) && w -> priv != NULL ) { mcfg = w -> priv ; pipe = mcfg -> pipe ; p_module = devm_kzalloc ( platform -> dev , sizeof ( * p_module ) , GFP_KERNEL ) ; p_module -> w = w ; list_add_tail ( & p_module -> node , & pipe -> w_list ) ; } } return 0 ; } 