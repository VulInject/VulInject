static void scan_ds_queue_sync ( dsl_scan_t * scn , dmu_tx_t * tx ) extern int zfs_vdev_async_write_active_min_dirty_percent ; int zfs_scan_strict_mem_lim = B_FALSE ; int zfs_top_maxinflight = 32 ; unsigned int zfs_resilver_delay = 2 ; unsigned int zfs_scrub_delay = 4 ; unsigned int zfs_scan_idle = 50 ; unsigned long zfs_scan_vdev_limit = 4 << 20 ; int zfs_scan_issue_strategy = 0 ; int zfs_scan_legacy = B_FALSE ; uint64_t zfs_scan_max_ext_gap = 2 << 20 ; unsigned int zfs_scan_checkpoint_intval = 7200 ; uint64_t zfs_scan_fill_weight = 3 ; static uint64_t fill_weight ; uint64_t zfs_scan_mem_lim_min = 16 << 20 ; uint64_t zfs_scan_mem_lim_soft_max = 128 << 20 ; int zfs_scan_mem_lim_fact = 20 ; int zfs_scan_mem_lim_soft_fact = 20 ; unsigned int zfs_scrub_min_time_ms = 1000 ; int zfs_free_min_time_ms = 1000 ; unsigned int zfs_obsolete_min_time_ms = 500 ; unsigned int zfs_resilver_min_time_ms = 3000 ; int zfs_scan_suspend_progress = 0 ; boolean_t zfs_no_scrub_io = B_FALSE ; boolean_t zfs_no_scrub_prefetch = B_FALSE ; enum ddt_class zfs_scrub_ddt_class_max = DDT_CLASS_DUPLICATE ; uint64_t zfs_async_block_max_blocks = UINT64_MAX ; int zfs_resilver_disable_defer = 0 ; ( ( scn ) -> scn_phys . scn_func == POOL_SCAN_SCRUB || ( scn ) -> scn_phys . scn_func == POOL_SCAN_RESILVER ) extern int zfs_txg_timeout ; boolean_t zfs_free_bpobj_enabled = B_TRUE ; static scan_cb_t * scan_funcs [ POOL_SCAN_FUNCS ] { NULL dsl_scan_scrub_cb dsl_scan_scrub_cb } ; ; 