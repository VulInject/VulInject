static void parallel_ioport_eppdata_write_hw2 ( void * opaque , uint32_t addr , uint32_t val ) { ParallelState * s = opaque ; uint16_t eppdata = cpu_to_le16 ( val ) ; int err ; struct ParallelIOArg ioarg = { . buffer = & eppdata . count = ( eppdata ) } ; trace_parallel_ioport_write ( "EPP" , addr , val ) ; if ( ( s -> control & ( PARA_CTR_DIR | PARA_CTR_SIGNAL ) ) != PARA_CTR_INIT ) { pdebug ( "we%04x s\n" , val ) ; return ; } err = qemu_chr_fe_ioctl ( & s -> chr , CHR_IOCTL_PP_EPP_WRITE , & ioarg ) ; if ( err ) { pdebug ( "we%04x t\n" , val ) ; } else { pdebug ( "we%04x\n" , val ) ; } } 