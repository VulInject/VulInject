static int calculate_actual_width ( MENU * menu , bool name ) { int width ; int check = 0 ; ITEM * * items ; assert ( menu && menu -> items ) ; if ( menu -> items != 0 ) { for ( items = menu -> items ; * items ; items ++ ) { if ( name ) { check = _nc_Calculate_Text_Width ( & ( ( * items ) -> name ) ) ; } else { check = _nc_Calculate_Text_Width ( & ( ( * items ) -> description ) ) ; } if ( check > width ) { width = check ; } } } else { width = ( name ?menu -> namelen : menu -> desclen ) ; } T ( ( "calculate_actual_width %s = %d/%d" , name ?"name" : "desc" , width , name ?menu -> namelen : menu -> desclen ) ) ; return width ; } 