static int is_dev_possibly_bootable ( int dev_no , int sch_no ) { bool is_virtio ; Schib schib ; int r ; blk_schid . sch_no = sch_no ; r = stsch_err ( blk_schid , & schib ) ; if ( ! schib . pmcw . dnv ) { return false ; } enable_subchannel ( blk_schid ) ; cutype = cu_type ( blk_schid ) ; is_virtio = virtio_is_supported ( blk_schid ) ; if ( dev_no < 0 ) { switch ( cutype ) { case CU_TYPE_VIRTIO : if ( is_virtio ) { if ( virtio_get_device_type ( ) != VIRTIO_ID_NET ) { return true ; } } return false ; case CU_TYPE_DASD_3990 : case CU_TYPE_DASD_2107 : return true ; default : return false ; } } if ( schib . pmcw . dev == dev_no ) { return true ; } return false ; } 