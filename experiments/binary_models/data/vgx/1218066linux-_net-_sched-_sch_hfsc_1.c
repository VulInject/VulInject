static void hfsc_destroy_qdisc ( struct Qdisc * sch ) { struct hfsc_sched * q = qdisc_priv ( sch ) ; struct hlist_node * next ; struct hfsc_class * cl ; unsigned int i ; for ( i = 0 ; i < q -> clhash . hashsize ; i ++ ) { hlist_for_each_entry ( , , ) { tcf_block_put ( cl -> block ) ; } } for ( i = 0 ; i < q -> clhash . hashsize ; i ++ ) { hlist_for_each_entry_safe ( , , , ) hfsc_destroy_class ( sch , cl ) ; } qdisc_class_hash_destroy ( & q -> clhash ) ; qdisc_watchdog_cancel ( & q -> watchdog ) ; } 