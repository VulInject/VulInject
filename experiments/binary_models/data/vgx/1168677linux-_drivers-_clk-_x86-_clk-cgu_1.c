static int lgm_clk_divider_set_rate ( struct clk_hw * hw , unsigned long rate , unsigned long prate ) { struct lgm_clk_divider * divider = to_lgm_clk_divider ( hw ) ; int value ; value = divider_get_val ( rate , prate , divider -> table , divider -> width , divider -> flags ) ; lgm_set_clk_val ( divider -> membase , divider -> reg , divider -> shift , divider -> width , value ) ; return 0 ; } 