static int FUN1(VAR1 *VAR2, void *VAR3,
int *VAR4, VAR5 *VAR6)
{
const VAR7 *VAR8 = VAR6->VAR3;
int VAR9 = VAR6->VAR10;
VAR11 *VAR12 = VAR2->VAR13;
VAR14 *VAR15 = VAR3;
GetByteContext VAR16, VAR17;
int VAR18;
int VAR19 = 0;
uint32_t VAR20, VAR21, VAR22, VAR23;
int VAR24, VAR25;
int VAR26;
int VAR27;

if (VAR9 < 12) {
FUN2(VAR2, VAR28,
"",
VAR9);
return VAR29;
}

FUN3(&VAR16, VAR8, VAR9);

VAR18 = FUN4(&VAR16);
if ((VAR18 & ~0xF) != FUN5('', '', '', '') ||
(VAR18 & 0xF) < 2 || (VAR18 & 0xF) > 5) {
FUN2(VAR2, VAR28, "", VAR18);
return VAR29;
}

VAR12->VAR30 = VAR18 == FUN5('', '', '', '');

while (FUN6(&VAR16) > 5) {
VAR20  = FUN7(&VAR16) - 1;
VAR24  = FUN8(&VAR16);
VAR25 = FUN9(&VAR16);
if (VAR20 > FUN6(&VAR16)) {
FUN2(VAR2, VAR28, ""VAR31"",
VAR20, VAR24);
break;
}
switch (VAR24) {
case VAR32:
VAR12->VAR19 = 0;
if (VAR20 < 21) {
FUN2(VAR2, VAR28, ""VAR31"",
VAR20);
break;
}
VAR12->VAR33  = FUN4(&VAR16);
VAR12->VAR34 = FUN4(&VAR16);
if (VAR12->VAR33 < 16 || VAR12->VAR34 < 16) {
FUN2(VAR2, VAR28,
"",
VAR12->VAR33, VAR12->VAR34);
VAR27 = VAR29;
goto VAR35;
}
if (VAR12->VAR33 != VAR2->VAR33 || VAR12->VAR34 != VAR2->VAR34) {
VAR27 = FUN10(VAR2, VAR12->VAR33, VAR12->VAR34);
if (VAR27 < 0)
return VAR27;
}
VAR12->VAR36 = FUN4(&VAR16);
if (VAR12->VAR36 != 2 && VAR12->VAR36 != 3) {
FUN11(VAR2, "",
VAR12->VAR36);
return VAR37;
}
VAR12->VAR38  = FUN4(&VAR16);
VAR12->VAR39 = FUN4(&VAR16);
if (!VAR12->VAR38 || !VAR12->VAR39 ||
((VAR12->VAR38 | VAR12->VAR39) & 0xF)) {
FUN2(VAR2, VAR28,
"",
VAR12->VAR38, VAR12->VAR39);
VAR27 = VAR29;
goto VAR35;
}
VAR12->VAR40 = (VAR12->VAR33  + VAR12->VAR38  - 1) / VAR12->VAR38;
VAR12->VAR41 = (VAR12->VAR34 + VAR12->VAR39 - 1) / VAR12->VAR39;
VAR12->VAR42     = FUN8(&VAR16);
if (VAR12->VAR42 == 32) {
if (FUN6(&VAR16) < 16 ||
(VAR20 - 21) < 16) {
FUN2(VAR2, VAR28,
"");
return VAR29;
}
VAR21 = FUN4(&VAR16);
VAR22 = FUN4(&VAR16);
VAR23 = FUN4(&VAR16);
if (VAR21 != 0xFF0000 || VAR22 != 0xFF00 || VAR23 != 0xFF) {
FUN11(VAR2,
""VAR43""VAR43""VAR43,
VAR21, VAR22, VAR23);
return VAR37;
}
} else {
FUN12(VAR2, "", VAR12->VAR42);
return VAR37;
}
if (FUN13(VAR12)) {
VAR27 = FUN14(VAR44);
goto VAR35;
}
VAR19 = 1;
break;
case VAR45:
if (!VAR12->VAR40 || !VAR12->VAR41) {
FUN2(VAR2, VAR46,
"");
break;
}
if (VAR20 < 2) {
FUN2(VAR2, VAR28, ""VAR31"",
VAR20);
break;
}
VAR12->VAR47 = FUN8(&VAR16);
VAR12->VAR48 = FUN8(&VAR16);
if (VAR12->VAR47 >= VAR12->VAR40 || VAR12->VAR48 >= VAR12->VAR41) {
FUN2(VAR2, VAR28,
"",
VAR12->VAR47, VAR12->VAR48, VAR12->VAR40, VAR12->VAR41);
break;
}
VAR27 = 0;
switch (VAR12->VAR36) {
case VAR49:
VAR27 = FUN15(VAR12, VAR12->VAR47, VAR12->VAR48,
VAR8 + FUN9(&VAR16),
VAR20 - 2, VAR2);
break;
case VAR50:
VAR27 = FUN16(VAR12, VAR12->VAR47, VAR12->VAR48,
VAR8 + FUN9(&VAR16),
VAR20 - 2);
break;
}
if (VAR27 && VAR12->VAR51)
FUN2(VAR2, VAR28, "",
VAR12->VAR47, VAR12->VAR48);
break;
case VAR52:
if (VAR20 < 5) {
FUN2(VAR2, VAR28, ""VAR31"",
VAR20);
break;
}
VAR12->VAR53 = FUN17(&VAR16);
VAR12->VAR54 = FUN17(&VAR16);
break;
case VAR55:
if (VAR20 < 8) {
FUN2(VAR2, VAR28, ""VAR31"",
VAR20);
break;
}
FUN3(&VAR17, VAR8 + FUN9(&VAR16),
VAR20 - 4);
FUN18(VAR2, VAR12, &VAR17);
break;
case VAR56:
case VAR57:
break;
default:
FUN2(VAR2, VAR46, "",
VAR24);
}


FUN19(&VAR16, VAR25 + VAR20 - FUN9(&VAR16));
}
if (VAR19)
VAR12->VAR19 = 1;

if (VAR12->VAR33 && VAR12->VAR34) {
if ((VAR27 = FUN20(VAR2, VAR15, 0)) < 0) {
FUN2(VAR2, VAR28, "");
return VAR27;
}

VAR15->VAR58 = VAR19;
VAR15->VAR59 = VAR19 ? VAR60 : VAR61;

for (VAR26 = 0; VAR26 < VAR2->VAR34; VAR26++)
memcpy(VAR15->VAR3[0] + VAR26 * VAR15->VAR62[0],
VAR12->VAR51 + VAR26 * VAR12->VAR63,
VAR12->VAR33 * 3);
FUN21(VAR12, VAR15->VAR3[0], VAR15->VAR62[0]);

*VAR4 = 1;
}

return VAR9;

VAR35:
VAR12->VAR33   =
VAR12->VAR34  = 0;
VAR12->VAR40 =
VAR12->VAR41 = 0;
return VAR27;
}