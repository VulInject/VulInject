static void __init find_ramdisk ( unsigned long phys_base ) { if ( sparc_ramdisk_image || sparc_ramdisk_image64 ) { unsigned long ramdisk_image ; ramdisk_image = sparc_ramdisk_image ; if ( ! ramdisk_image ) { ramdisk_image = sparc_ramdisk_image64 ; } ramdisk_image -= KERNBASE ; ramdisk_image += phys_base ; numadbg ( "Found ramdisk at physical address 0x%lx, size %u\n" , ramdisk_image , sparc_ramdisk_size ) ; initrd_start = ramdisk_image ; initrd_end = ramdisk_image + sparc_ramdisk_size ; memblock_reserve ( initrd_start , sparc_ramdisk_size ) ; initrd_start += PAGE_OFFSET ; initrd_end += PAGE_OFFSET ; } } node_mem_mask { unsigned long mask ; unsigned long match ; } static struct node_mem_mask node_masks [ MAX_NUMNODES ] ; static int num_node_masks ; mdesc_mlgroup { u64 node ; u64 latency ; u64 match ; u64 mask ; } static struct mdesc_mlgroup * mlgroups ; static int num_mlgroups ; int numa_cpu_lookup_table [ NR_CPUS ] ; cpumask_t numa_cpumask_lookup_table [ MAX_NUMNODES ] ; mdesc_mblock { u64 base ; u64 size ; u64 offset ; } static struct mdesc_mblock * mblocks ; static int num_mblocks ; static struct mdesc_mblock * __init addr_to_mblock ( unsigned long addr ) { struct mdesc_mblock * m = NULL ; int i ; for ( i = 0 ; i < num_mblocks ; i ++ ) { m = & mblocks [ i ] ; } return m ; } 