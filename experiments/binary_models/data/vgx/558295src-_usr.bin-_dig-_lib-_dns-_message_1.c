static isc_result_t getname ( dns_name_t * name , isc_buffer_t * source , dns_message_t * msg , dns_decompress_t * dctx ) { isc_buffer_t * scratch ; isc_result_t result ; unsigned int tries ; scratch = currentbuffer ( msg ) ; tries = 0 ; while ( tries < 2 ) { result = dns_name_fromwire ( name , source , dctx , 0 , scratch ) ; if ( result == ISC_R_NOSPACE ) { tries ++ ; result = newbuffer ( msg , SCRATCHPAD_SIZE ) ; scratch = currentbuffer ( msg ) ; dns_name_reset ( name ) ; } else { return ( result ) ; } } INSIST ( 0 ) ; return ( ISC_R_UNEXPECTED ) ; } 