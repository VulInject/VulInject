static void update_recvframe_attrib ( struct adapter * padapter , union recv_frame * precvframe , struct recv_stat * prxstat ) { struct rx_pkt_attrib * pattrib ; struct recv_stat report ; struct rxreport_8723b * prxreport = ( rxreport_8723b * ) & report ; report . rxdw0 = prxstat -> rxdw0 ; report . rxdw1 = prxstat -> rxdw1 ; report . rxdw2 = prxstat -> rxdw2 ; report . rxdw3 = prxstat -> rxdw3 ; report . rxdw4 = prxstat -> rxdw4 ; report . rxdw5 = prxstat -> rxdw5 ; pattrib = & precvframe -> u . hdr . attrib ; pattrib -> pkt_rpt_type = prxreport -> c2h_ind ?C2H_PACKET : NORMAL_RX ; if ( pattrib -> pkt_rpt_type == NORMAL_RX ) { pattrib -> pkt_len = ( u16 ) prxreport -> pktlen ; pattrib -> drvinfo_sz = ( u8 ) ( prxreport -> drvinfosize << 3 ) ; pattrib -> physt = ( u8 ) prxreport -> physt ; pattrib -> crc_err = ( u8 ) prxreport -> crc32 ; pattrib -> icv_err = ( u8 ) prxreport -> icverr ; pattrib -> bdecrypted = ( u8 ) ( prxreport -> swdec ?0 : 1 ) ; pattrib -> encrypt = ( u8 ) prxreport -> security ; pattrib -> qos = ( u8 ) prxreport -> qos ; pattrib -> priority = ( u8 ) prxreport -> tid ; pattrib -> amsdu = ( u8 ) prxreport -> amsdu ; pattrib -> seq_num = ( u16 ) prxreport -> seq ; pattrib -> frag_num = ( u8 ) prxreport -> frag ; pattrib -> mfrag = ( u8 ) prxreport -> mf ; pattrib -> mdata = ( u8 ) prxreport -> md ; pattrib -> data_rate = ( u8 ) prxreport -> rx_rate ; } else { pattrib -> pkt_len = ( u16 ) prxreport -> pktlen ; } } 