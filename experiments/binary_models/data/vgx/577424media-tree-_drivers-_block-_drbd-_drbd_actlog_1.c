bool drbd_al_begin_io_fastpath ( struct drbd_device * device , struct drbd_interval * i ) { unsigned first = i -> sector >> ( AL_EXTENT_SHIFT - 9 ) ; unsigned last = i -> size == 0 ?first : ( i -> sector + ( i -> size >> 9 ) - 1 ) >> ( AL_EXTENT_SHIFT - 9 ) ; D_ASSERT ( device , first <= last ) ; D_ASSERT ( device , atomic_read ( & device -> local_cnt ) > 0 ) ; return _al_get ( device , first , true ) ; } 