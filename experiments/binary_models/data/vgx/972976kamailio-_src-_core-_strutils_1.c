int cmp_str_params ( str * s1 , str * s2 ) { param_t * pl1 ; param_hooks_t phooks1 ; param_t * pit1 = NULL ; param_t * pl2 = NULL ; param_hooks_t phooks2 ; param_t * pit2 = NULL ; if ( parse_params ( s1 , CLASS_ANY , & phooks1 , & pl1 ) < 0 ) { return - 1 ; } if ( parse_params ( s2 , CLASS_ANY , & phooks2 , & pl2 ) < 0 ) { return - 1 ; } for ( pit1 = pl1 ; pit1 ; pit1 = pit1 -> next ) { for ( pit2 = pl2 ; pit2 ; pit2 = pit2 -> next ) { if ( pit1 -> name . len == pit2 -> name . len && strncasecmp ( pit1 -> name . s , pit2 -> name . s , pit2 -> name . len ) == 0 ) { if ( pit1 -> body . len != pit2 -> body . len || strncasecmp ( pit1 -> body . s , pit2 -> body . s , pit2 -> body . len ) != 0 ) { return 1 ; } } } } return 0 ; } 