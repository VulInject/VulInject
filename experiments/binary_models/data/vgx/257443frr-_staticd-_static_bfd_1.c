static void static_bfd_show_json ( struct vty * vty ) { struct json_object * jo , * jo_path , * jo_afi_safi ; struct vrf * vrf ; jo = json_object_new_object ( ) ; jo_path = json_object_new_object ( ) ; json_object_object_add ( jo , "path-list" , jo_path ) ; RB_FOREACH ( , , ) { const struct static_vrf * svrf = vrf -> info ; struct route_table * rt ; jo_afi_safi = json_object_new_array ( ) ; json_object_object_add ( jo_path , "ipv4-unicast" , jo_afi_safi ) ; rt = svrf -> stable [ AFI_IP ] [ SAFI_UNICAST ] ; if ( rt ) { static_bfd_show_path_json ( vty , jo_afi_safi , rt ) ; } jo_afi_safi = json_object_new_array ( ) ; json_object_object_add ( jo_path , "ipv4-multicast" , jo_afi_safi ) ; rt = svrf -> stable [ AFI_IP ] [ SAFI_MULTICAST ] ; if ( rt ) { static_bfd_show_path_json ( vty , jo_afi_safi , rt ) ; } jo_afi_safi = json_object_new_array ( ) ; json_object_object_add ( jo_path , "ipv6-unicast" , jo_afi_safi ) ; rt = svrf -> stable [ AFI_IP6 ] [ SAFI_UNICAST ] ; if ( rt ) { static_bfd_show_path_json ( vty , jo_afi_safi , rt ) ; } } vty_out ( vty , "%s\n" , json_object_to_json_string_ext ( jo , 0 ) ) ; } 