static void tio_conveyor_set ( nasid_t nasid , int enable_flag ) { u64 ice_frz ; u64 disable_cb = ( 1ull << 61 ) ; ice_frz = REMOTE_HUB_L ( nasid , TIO_ICE_FRZ_CFG ) ; if ( enable_flag ) { if ( ! ( ice_frz & disable_cb ) ) { return ; } ice_frz &= ~ disable_cb ; } else { if ( ice_frz & disable_cb ) { return ; } ice_frz |= disable_cb ; } DBG ( KERN_ALERT "TIO_ICE_FRZ_CFG= 0x%lx\n" , ice_frz ) ; REMOTE_HUB_S ( nasid , TIO_ICE_FRZ_CFG , ice_frz ) ; } 