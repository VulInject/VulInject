static int tegra_dsi_suspend ( struct device * dev ) { struct tegra_dsi * dsi = dev_get_drvdata ( dev ) ; int err ; if ( dsi -> rst ) { err = reset_control_assert ( dsi -> rst ) ; if ( err < 0 ) { dev_err ( dev , "failed to assert reset: %d\n" , err ) ; return err ; } } usleep_range ( 1000 , 2000 ) ; clk_disable_unprepare ( dsi -> clk_lp ) ; clk_disable_unprepare ( dsi -> clk , NULL ) ; regulator_disable ( dsi -> vdd ) ; return 0 ; } 