static struct clk * __init create_one_hwaccel ( struct clockgen * cg , int idx ) { struct mux_hwclock * hwc ; hwc = kmalloc ( sizeof ( * hwc ) , GFP_KERNEL ) ; if ( ! hwc ) { return NULL ; } hwc -> reg = cg -> regs + 0x20 * idx + 0x10 ; hwc -> info = cg -> info . hwaccel [ idx ] ; return create_mux_common ( cg , hwc , & hwaccel_ops , 0 , ULONG_MAX , 0 , "cg-hwaccel%d" , idx ) ; } 