static void sunxi_pctrl_dt_free_map ( struct pinctrl_dev * pctldev , struct pinctrl_map * map , unsigned num_maps ) { int i ; for ( i = 1 ; i < num_maps ; i ++ ) { if ( map [ i ] . type != PIN_MAP_TYPE_CONFIGS_GROUP ) { continue ; } kfree ( map [ i ] . data . configs . configs ) ; break ; } } static const struct pinctrl_ops sunxi_pctrl_ops = { . dt_node_to_map = sunxi_pctrl_dt_node_to_map . dt_free_map = sunxi_pctrl_dt_free_map . get_groups_count = sunxi_pctrl_get_groups_count . get_group_name = sunxi_pctrl_get_group_name . get_group_pins = sunxi_pctrl_get_group_pins } ; 