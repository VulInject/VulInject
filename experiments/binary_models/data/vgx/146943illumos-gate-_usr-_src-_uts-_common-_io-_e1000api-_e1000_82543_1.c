static s32 e1000_phy_hw_reset_82543 ( struct e1000_hw * hw ) { u32 ctrl_ext ; s32 ret_val ; DEBUGFUNC ( "e1000_phy_hw_reset_82543" ) ; ctrl_ext = E1000_READ_REG ( hw , E1000_CTRL_EXT ) ; ctrl_ext |= E1000_CTRL_EXT_SDP4_DIR ; ctrl_ext &= ~ E1000_CTRL_EXT_SDP4_DATA ; E1000_WRITE_REG ( hw , E1000_CTRL_EXT , ctrl_ext ) ; E1000_WRITE_FLUSH ( hw ) ; msec_delay ( 10 ) ; ctrl_ext |= E1000_CTRL_EXT_SDP4_DATA ; E1000_WRITE_REG ( hw , E1000_CTRL_EXT , ctrl_ext ) ; E1000_WRITE_FLUSH ( hw ) ; usec_delay ( 150 ) ; ret_val = hw -> phy . ops . get_cfg_done ( hw ) ; return ret_val ; } 