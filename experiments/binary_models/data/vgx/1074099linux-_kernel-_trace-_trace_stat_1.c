static int init_stat_file ( struct stat_session * session ) { int ret ; if ( ! stat_dir && ( ret = tracing_stat_init ( ) ) ) { return ret ; } session -> file = tracefs_create_file ( session -> ts -> name , TRACE_MODE_WRITE , stat_dir , session , & tracing_stat_fops ) ; return 0 ; } 