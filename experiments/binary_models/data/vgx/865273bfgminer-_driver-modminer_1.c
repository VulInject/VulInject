const char * modminer_tui_handle_choice ( struct cgpu_info * cgpu , int input ) { static char buf [ 0x100 ] ; switch ( input ) { case 'c' : case 'C' : { int val ; char * intvar ; sprintf ( buf , "Set clock speed (range %d-%d, multiple of 2)" , MODMINER_MIN_CLOCK , MODMINER_MAX_CLOCK ) ; intvar = curses_input ( buf ) ; if ( ! intvar ) { return "Invalid clock speed\n" ; } val = atoi ( intvar ) ; if ( val ( MODMINER_MIN_CLOCK || val ) MODMINER_MAX_CLOCK || ( val & 1 ) != 0 ) { return "Invalid clock speed\n" ; } if ( unlikely ( ! modminer_user_set_clock ( cgpu , val ) ) ) { return "Set clock failed\n" ; } return "Clock speed changed\n" ; } } return NULL ; } 