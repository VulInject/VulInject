static void xfs_symlink_write_verify ( struct xfs_buf * bp ) { struct xfs_mount * mp = bp -> b_mount ; struct xfs_buf_log_item * bip = bp -> b_log_item ; xfs_failaddr_t fa ; fa = xfs_symlink_verify ( bp ) ; if ( fa ) { xfs_verifier_error ( bp , - EFSCORRUPTED , fa ) ; return ; } if ( bip ) { struct xfs_dsymlink_hdr * dsl = bp -> b_addr ; dsl -> sl_lsn = cpu_to_be64 ( bip -> bli_item . li_lsn ) ; } xfs_buf_update_cksum ( bp , XFS_SYMLINK_CRC_OFF ) ; } 