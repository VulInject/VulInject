static void cprman_reset ( DeviceState * dev ) { BCM2835CprmanState * s = CPRMAN ( dev ) ; size_t i ; for ( i = 0 ; i < CPRMAN_NUM_PLL ; i ++ ) { device_cold_reset ( DEVICE ( & s -> plls [ i ] ) ) ; } for ( i = 0 ; i < CPRMAN_NUM_PLL_CHANNEL ; i ++ ) { device_cold_reset ( DEVICE ( & s -> channels [ i ] ) ) ; } device_cold_reset ( DEVICE ( & s -> dsi0hsck_mux ) ) ; for ( i = 0 ; i < CPRMAN_NUM_CLOCK_MUX ; i ++ ) { device_cold_reset ( DEVICE ( & s -> clock_muxes [ i ] ) ) ; } clock_update_hz ( s -> xosc , s -> xosc_freq ) ; } 