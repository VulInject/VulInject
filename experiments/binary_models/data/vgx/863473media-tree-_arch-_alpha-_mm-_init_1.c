void __init paging_init ( void ) { unsigned long zones_size [ MAX_NR_ZONES ] { 0 } ; ; unsigned long dma_pfn , high_pfn ; dma_pfn = virt_to_phys ( ( char * ) MAX_DMA_ADDRESS ) >> PAGE_SHIFT ; high_pfn = max_pfn = max_low_pfn ; if ( dma_pfn >= high_pfn ) { zones_size [ ZONE_DMA ] = high_pfn ; } else { zones_size [ ZONE_DMA ] = dma_pfn ; zones_size [ ZONE_NORMAL ] = high_pfn - dma_pfn ; } free_area_init ( zones_size ) ; } 