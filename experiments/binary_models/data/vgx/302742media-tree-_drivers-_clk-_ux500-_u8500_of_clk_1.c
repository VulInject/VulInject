static struct clk * prcc_pclk [ ( PRCC_NUM_PERIPH_CLUSTERS + 1 ) * PRCC_PERIPHS_PER_CLUSTER ] ; static struct clk * prcc_kclk [ ( PRCC_NUM_PERIPH_CLUSTERS + 1 ) * PRCC_PERIPHS_PER_CLUSTER ] ; clk [ ( base * PRCC_PERIPHS_PER_CLUSTER ) + bit ] prcc_pclk [ ( base * PRCC_PERIPHS_PER_CLUSTER ) + bit ] clk prcc_kclk [ ( base * PRCC_PERIPHS_PER_CLUSTER ) + bit ] = clk static clk * ux500_twocell_get ( , ) { clk * * clk_data = data unsigned int base bit base = clkspec -> args [ 0 ] } ; ; bit = clkspec -> args [ 1 ] ; if ( base != 1 && base != 2 && base != 3 && base != 5 && base != 6 ) { pr_err ( "%s: invalid PRCC base %d\n" , __func__ , base ) ; return ERR_PTR ( - EINVAL ) ; } return PRCC_SHOW ( clk_data , base , bit ) ; 