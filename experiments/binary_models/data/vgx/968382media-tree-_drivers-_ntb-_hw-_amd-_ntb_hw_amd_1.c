static int amd_ntb_mw_get_range ( struct ntb_dev * ntb , int idx , phys_addr_t * base , resource_size_t * size , resource_size_t * align , resource_size_t * align_size ) { struct amd_ntb_dev * ndev = ntb_ndev ( ntb ) ; int bar ; bar = ndev_mw_to_bar ( ndev , idx ) ; if ( base ) { * base = pci_resource_start ( ndev -> ntb . pdev , bar ) ; } if ( size ) { * size = pci_resource_len ( ndev -> ntb . pdev , bar ) ; } if ( align ) { * align = SZ_4K ; } if ( align_size ) { * align_size = 1 ; } return 0 ; } 