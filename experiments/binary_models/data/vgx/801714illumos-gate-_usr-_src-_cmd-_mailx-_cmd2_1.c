int unigfield ( char * list [ ] ) { char * * ap , field [ BUFSIZ ] ; register int h , count = 0 ; register struct ignore * ig1 , * ig2 ; if ( argcount ( list ) == 0 ) { for ( h = 0 ; h < HSHSIZE ; h ++ ) { ig1 = ignore [ h ] ; while ( ig1 ) { ig2 = ig1 -> i_link ; free ( ( char * ) ig1 ) ; ig1 = ig2 ; count ++ ; } ignore [ h ] = NULL ; } if ( count == 0 ) { printf ( gettext ( "No fields currently being ignored.\n" ) ) ; } return ( 0 ) ; } for ( ap = list ; * ap ; ap ++ ) { istrcpy ( field , sizeof ( field ) , * ap ) ; h = hash ( field ) ; for ( ig1 = ignore [ h ] ; ig1 ; ig2 = ig1 , ig1 = ig1 -> i_link ) { if ( strcmp ( ig1 -> i_field , field ) == 0 ) { if ( ig1 == ignore [ h ] ) { ignore [ h ] = ig1 -> i_link ; } else { ig2 -> i_link = ig1 -> i_link ; } free ( ig1 -> i_field ) ; free ( ( char * ) ig1 ) ; break ; } } } return ( 0 ) ; } 