int cs46xx_dsp_enable_adc_capture ( struct snd_cs46xx * chip ) { struct dsp_spos_instance * ins = chip -> dsp_spos_instance ; if ( snd_BUG_ON ( ! ins -> codec_in_scb ) ) { return - EINVAL ; } mutex_lock ( & chip -> spos_mutex ) ; ins -> adc_input = cs46xx_add_record_source ( chip , ins -> codec_in_scb , PCMSERIALIN_SCB_ADDR , "PCMSerialInput_ADC" ) ; mutex_unlock ( & chip -> spos_mutex ) ; return 0 ; } 