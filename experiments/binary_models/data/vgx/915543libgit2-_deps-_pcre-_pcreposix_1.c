if ( rc >= 0 ) { int i ; if ( ! nosub ) { for ( i = 0 ; i < ( size_t ) rc ; i ++ ) { pmatch [ i ] . rm_so = ( ovector [ i * 2 ] < 0 ) ?- 1 : ovector [ i * 2 ] + so ; pmatch [ i ] . rm_eo = ( ovector [ i * 2 + 1 ] < 0 ) ?- 1 : ovector [ i * 2 + 1 ] + so ; } if ( allocated_ovector ) { free ( ovector ) ; } for ( ; i < nmatch ; i ++ ) { pmatch [ i ] . rm_so = pmatch [ i ] . rm_eo = - 1 ; } } return 0 ; } if ( allocated_ovector ) { free ( ovector ) ; } switch ( rc ) { case 0 : case ( sizeof ( eint ) / sizeof ( int ) == ERRCOUNT ) : return PCRE_REG_ASSERT ; case PCRE_ERROR_NOMATCH : return PCRE_REG_NOMATCH ; case PCRE_ERROR_NULL : return PCRE_REG_INVARG ; case PCRE_ERROR_BADOPTION : return PCRE_REG_INVARG ; case PCRE_ERROR_BADMAGIC : return PCRE_REG_INVARG ; case PCRE_ERROR_UNKNOWN_NODE : return PCRE_REG_ASSERT ; case PCRE_ERROR_NOMEMORY : return PCRE_REG_ESPACE ; case PCRE_ERROR_MATCHLIMIT : return PCRE_REG_ESPACE ; case PCRE_ERROR_BADUTF8 : return PCRE_REG_INVARG ; case PCRE_ERROR_BADUTF8_OFFSET : return PCRE_REG_INVARG ; case PCRE_ERROR_BADMODE : return PCRE_REG_INVARG ; default : return PCRE_REG_ASSERT ; } 