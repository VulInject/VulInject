unsigned int compute_derated_DDR2_CAS_latency ( unsigned int mclk_ps ) { const unsigned int num_speed_bins = ARRAY_SIZE ( ddr2_speed_bins ) ; unsigned int lowest_tCKmin_found = 0 ; unsigned int lowest_tCKmin_CL = 0 ; unsigned int i ; debug ( "mclk_ps = %u\n" , mclk_ps ) ; for ( i = 0 ; i < num_speed_bins ; i ++ ) { int x = ddr2_speed_bins [ i ] ; debug ( "i=%u, x = %u, lowest_tCKmin_found = %u\n" , i , x , lowest_tCKmin_found ) ; if ( x && x <= mclk_ps && x >= lowest_tCKmin_found ) { lowest_tCKmin_found = x ; lowest_tCKmin_CL = i + 2 ; } } debug ( "lowest_tCKmin_CL = %u\n" , lowest_tCKmin_CL ) ; return lowest_tCKmin_CL ; } 