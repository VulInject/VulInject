handle_t * __ext4_journal_start_sb ( struct inode * inode , struct super_block * sb , unsigned int line , int type , int blocks , int rsv_blocks , int revoke_creds ) { journal_t * journal ; int err ; if ( inode ) { trace_ext4_journal_start_inode ( inode , blocks , rsv_blocks , revoke_creds , type , _RET_IP_ ) ; } else { trace_ext4_journal_start_sb ( sb , blocks , rsv_blocks , revoke_creds , type , _RET_IP_ ) ; } err = ext4_journal_check_start ( sb ) ; if ( err < 0 ) { return ERR_PTR ( err ) ; } journal = EXT4_SB ( sb ) -> s_journal ; return jbd2__journal_start ( journal , blocks , rsv_blocks , revoke_creds , GFP_NOFS , type , line ) ; } 