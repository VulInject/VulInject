static bool HandleSymbolsDef ( SymbolsInfo * info , SymbolsDef * stmt ) { KeyInfo keyi ; keyi = info -> default_key ; darray_init ( keyi . groups , NULL ) ; darray_copy ( keyi . groups , info -> default_key . groups ) ; for ( xkb_layout_index_t i = 0 ; i < darray_size ( keyi . groups ) ; i ++ ) { CopyGroupInfo ( & darray_item ( keyi . groups , i ) , & darray_item ( info -> default_key . groups , i ) ) ; } keyi . merge = stmt -> merge ; keyi . name = stmt -> keyName ; if ( ! HandleSymbolsBody ( info , stmt -> symbols , & keyi ) ) { info -> errorCount ++ ; return false ; } if ( ! SetExplicitGroup ( info , & keyi ) ) { info -> errorCount ++ ; return false ; } if ( ! AddKeySymbols ( info , & keyi , true ) ) { info -> errorCount ++ ; return false ; } return true ; } 