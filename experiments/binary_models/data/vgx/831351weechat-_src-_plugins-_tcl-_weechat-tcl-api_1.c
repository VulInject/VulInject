API_FUNC ( ) { Tcl_Obj * objp ; char * signal , * function , * data ; const char * result ; int i ; API_INIT_FUNC ( 1 , "hook_signal" , API_RETURN_EMPTY ) ; if ( objc < 4 ) { API_WRONG_ARGS ( API_RETURN_EMPTY ) ; } signal = Tcl_GetStringFromObj ( objv [ 1 ] , & i ) ; function = Tcl_GetStringFromObj ( objv [ 2 ] , & i ) ; data = Tcl_GetStringFromObj ( objv [ 3 ] , & i ) ; result = API_PTR2STR ( plugin_script_api_hook_signal ( weechat_tcl_plugin , tcl_current_script , signal , & weechat_tcl_api_hook_signal_cb , function , data ) ) ; API_RETURN_STRING ( result , NULL ) ; } 