static bool pmu_irq_matches ( struct arm_pmu * pmu , int irq ) { struct pmu_hw_events __percpu * hw_events = pmu -> hw_events ; int cpu ; for_each_cpu ( , ) { int other_irq = per_cpu ( hw_events -> irq , cpu ) ; if ( ! other_irq ) { continue ; } if ( irq == other_irq ) { continue ; } if ( ! irq_is_percpu_devid ( irq ) && ! irq_is_percpu_devid ( other_irq ) ) { continue ; } pr_warn ( "mismatched PPIs detected\n" ) ; return false ; } return true ; } 