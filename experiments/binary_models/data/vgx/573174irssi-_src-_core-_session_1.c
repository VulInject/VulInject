static void session_restore_server_channels ( SERVER_REC * server , CONFIG_NODE * node ) { GSList * tmp ; node = config_node_section ( NULL , node , "channels" , - 1 ) ; if ( node != NULL && node -> type == NODE_TYPE_LIST ) { tmp = config_node_first ( node -> value , NULL ) ; for ( ; tmp != NULL ; tmp = config_node_next ( tmp ) ) { session_restore_channel ( server , tmp -> data ) ; } } } 