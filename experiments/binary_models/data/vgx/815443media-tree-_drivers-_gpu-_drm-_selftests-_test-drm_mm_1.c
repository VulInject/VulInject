static int igt_debug ( void * ignored ) { struct drm_mm mm ; struct drm_mm_node nodes [ 2 ] ; int ret ; drm_mm_init ( & mm , 0 , 4096 ) ; nodes [ 0 ] . start = 512 ; nodes [ 0 ] . size = 1024 ; ret = drm_mm_reserve_node ( & mm , & nodes [ 0 ] ) ; if ( ret ) { pr_err ( "failed to reserve node[0] {start=%lld, size=%lld)\n" , nodes [ 0 ] . start , nodes [ 0 ] . size ) ; return ret ; } nodes [ 1 ] . size = 1024 ; nodes [ 1 ] . start = 4096 - 512 - nodes [ 1 ] . size ; ret = drm_mm_reserve_node ( & mm , & nodes [ 1 ] ) ; if ( ret ) { pr_err ( "failed to reserve node[1] {start=%lld, size=%lld)\n" , nodes [ 1 ] . start , nodes [ 1 ] . size ) ; return ret ; } show_mm ( & mm ) ; return 0 ; } 