fnmatch_no_wildcards ( , , ) { if ( ! ( options & FNM_LEADING_DIR ) ) { return ( ( options & FNM_CASEFOLD ) ?mbscasecmp ( pattern , f ) : strcmp ( pattern , f ) ) ; } if ( ! ( options & FNM_CASEFOLD ) ) { size_t patlen = strlen ( pattern ) ; int r = strncmp ( pattern , f , patlen ) ; if ( ! r ) { r = f [ patlen ] ; if ( r == '/' ) { r = 0 ; } } return r ; } else { char * fcopy = xstrdup ( f ) ; char * p ; int r ; for ( p = fcopy ; ; * p ++ = '/' ) { p = strchr ( p , '/' ) ; if ( p ) { * p = '\0' ; } r = mbscasecmp ( pattern , fcopy ) ; if ( ! p || r <= 0 ) { break ; } } return r ; } } 