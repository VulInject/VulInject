static void bsd_comp_stats ( void * state , struct compstat * stats ) { struct bsd_db * db = ( bsd_db * ) state ; stats -> unc_bytes = db -> uncomp_bytes ; stats -> unc_packets = db -> uncomp_count ; stats -> comp_bytes = db -> comp_bytes ; stats -> comp_packets = db -> comp_count ; stats -> inc_bytes = db -> incomp_bytes ; stats -> inc_packets = db -> incomp_count ; stats -> in_count = db -> in_count ; stats -> bytes_out = db -> bytes_out ; } static void bsd_reset ( void * state ) { struct bsd_db * db = ( bsd_db * ) state ; bsd_clear ( db ) ; db -> seqno = 0 ; db -> clear_count = 0 ; } static void bsd_free ( void * state ) { struct bsd_db * db = state ; if ( ! db ) { return ; } vfree ( db -> dict ) ; vfree ( db -> lens ) ; db -> lens = NULL ; kfree ( db ) ; } 