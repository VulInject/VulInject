BOOL wlf_keyboard_modifiers ( freerdp * instance , const UwacKeyboardModifiersEvent * ev ) { rdpInput * input ; UINT16 syncFlags ; wlfContext * wlf ; if ( ! instance || ! ev ) { return FALSE ; } wlf = ( wlfContext * ) instance -> context ; WINPR_ASSERT ( wlf ) ; input = instance -> context -> input ; WINPR_ASSERT ( input ) ; syncFlags = 0 ; if ( ev -> modifiers & UWAC_MOD_CAPS_MASK ) { syncFlags |= KBD_SYNC_CAPS_LOCK ; } if ( ev -> modifiers & UWAC_MOD_NUM_MASK ) { syncFlags |= KBD_SYNC_NUM_LOCK ; } ( ( wlfContext * ) instance -> context ) -> focusing = FALSE ; return freerdp_input_send_focus_in_event ( input , syncFlags ) && freerdp_client_send_button_event ( & wlf -> common , FALSE , PTR_FLAGS_MOVE , 0 , 0 ) ; } 