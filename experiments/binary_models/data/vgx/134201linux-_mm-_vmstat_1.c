static void fill_contig_page_info ( struct zone * zone , unsigned int suitable_order , struct contig_page_info * info ) { int order ; info -> free_pages = 0 ; info -> free_blocks_total = 0 ; info -> free_blocks_suitable = 0 ; for ( order = 0 ; order < MAX_ORDER ; order ++ ) { unsigned long blocks ; blocks = data_race ( zone -> free_area [ order ] . nr_free ) ; info -> free_blocks_total += blocks ; info -> free_pages += blocks << order ; if ( order >= suitable_order ) { info -> free_blocks_suitable += blocks << ( order - suitable_order ) ; } } } 