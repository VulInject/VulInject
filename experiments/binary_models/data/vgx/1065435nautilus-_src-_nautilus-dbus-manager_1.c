nautilus_dbus_manager_register ( , , ) { gboolean success1 ; gboolean success2 ; gboolean succes ; success1 = g_dbus_interface_skeleton_export ( G_DBUS_INTERFACE_SKELETON ( self -> file_operations ) , connection , "/org/gnome/Nautilus" PROFILE , error ) ; success2 = g_dbus_interface_skeleton_export ( G_DBUS_INTERFACE_SKELETON ( self -> file_operations2 ) , connection , "/org/gnome/Nautilus" PROFILE "/FileOperations2" , error ) ; succes = success1 && success2 ; if ( succes ) { g_signal_connect_object ( nautilus_file_undo_manager_get ( ) , "undo-changed" , G_CALLBACK ( undo_manager_changed ) , self , G_CONNECT_SWAPPED ) ; undo_manager_changed ( self , NULL ) ; } return succes ; } 