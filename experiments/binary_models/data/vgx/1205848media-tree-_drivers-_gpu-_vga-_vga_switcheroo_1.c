( vga_switcheroo_lock_ddc ) ; int vga_switcheroo_unlock_ddc ( struct pci_dev * pdev ) { enum vga_switcheroo_client_id id ; int ret = vgasr_priv . old_ddc_owner ; if ( vgasr_priv . old_ddc_owner >= 0 ) { id = vgasr_priv . handler -> get_client_id ( pdev ) ; if ( vgasr_priv . old_ddc_owner != id ) { ret = vgasr_priv . handler -> switch_ddc ( vgasr_priv . old_ddc_owner ) ; } } mutex_unlock ( & vgasr_priv . mux_hw_lock ) ; return ret ; } 