void cn23xx_vf_ask_pf_to_do_flr ( struct octeon_device * oct ) { struct octeon_mbox_cmd mbox_cmd ; mbox_cmd . msg . u64 = 0 ; mbox_cmd . msg . s . type = OCTEON_MBOX_REQUEST ; mbox_cmd . msg . s . resp_needed = 0 ; mbox_cmd . msg . s . cmd = OCTEON_VF_FLR_REQUEST ; mbox_cmd . msg . s . len = 1 ; mbox_cmd . q_no = 0 ; mbox_cmd . recv_len = 0 ; mbox_cmd . recv_status = 0 ; mbox_cmd . fn_arg = 0 ; octeon_mbox_write ( oct , & mbox_cmd ) ; } 