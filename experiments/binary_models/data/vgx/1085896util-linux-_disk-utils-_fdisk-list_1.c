static int fieldname_to_id ( const char * name , size_t namesz ) { const struct fdisk_field * fl ; char buf [ namesz + 1 ] ; assert ( namesz ) ; assert ( fields_label ) ; memcpy ( buf , name , namesz ) ; buf [ namesz ] = '\0' ; fl = fdisk_label_get_field_by_name ( fields_label , buf ) ; if ( ! fl ) { warnx ( _ ( "%s unknown column: %s" ) , fdisk_label_get_name ( fields_label ) , buf ) ; return - 1 ; } return fdisk_field_get_id ( fl ) ; } 