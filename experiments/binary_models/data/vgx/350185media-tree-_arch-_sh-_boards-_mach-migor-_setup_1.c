static int __init migor_devices_setup ( void ) { sh_mobile_register_self_refresh ( SUSP_SH_STANDBY | SUSP_SH_SF , & migor_sdram_enter_start , & migor_sdram_enter_end , & migor_sdram_leave_start , & migor_sdram_leave_end ) ; regulator_register_always_on ( 0 , "fixed-3.3V" , fixed3v3_power_consumers , ARRAY_SIZE ( fixed3v3_power_consumers ) , 3300000 ) ; gpio_request ( GPIO_FN_STATUS0 , NULL ) ; gpio_request ( GPIO_FN_PDSTATUS , NULL ) ; gpio_request ( GPIO_FN_IRQ0 , NULL ) ; __raw_writel ( 0x00003400 , BSC_CS4BCR ) ; __raw_writel ( 0x00110080 , BSC_CS4WCR ) ; gpio_request ( GPIO_FN_KEYOUT0 , NULL ) ; gpio_request ( GPIO_FN_KEYOUT1 , NULL ) ; gpio_request ( GPIO_FN_KEYOUT2 , NULL ) ; gpio_request ( GPIO_FN_KEYOUT3 , NULL ) ; gpio_request ( GPIO_FN_KEYOUT4_IN6 , NULL ) ; gpio_request ( GPIO_FN_KEYIN1 , NULL ) ; gpio_request ( GPIO_FN_KEYIN2 , NULL ) ; gpio_request ( GPIO_FN_KEYIN3 , NULL ) ; gpio_request ( GPIO_FN_KEYIN4 , NULL ) ; gpio_request ( GPIO_FN_KEYOUT5_IN5 , NULL ) ; gpio_request ( GPIO_FN_CS6A_CE2B , NULL ) ; __raw_writel ( ( __raw_readl ( BSC_CS6ABCR ) & ~ 0x0600 ) | 0x0200 , BSC_CS6ABCR ) ; gpio_request ( GPIO_PTA1 , NULL ) ; gpio_direction_input ( GPIO_PTA1 ) ; gpio_request ( GPIO_FN_SDHICD , NULL ) ; gpio_request ( GPIO_FN_SDHIWP , NULL ) ; gpio_request ( GPIO_FN_SDHID3 ) ; gpio_request ( GPIO_FN_SDHID2 , NULL ) ; gpio_request ( GPIO_FN_SDHID1 , NULL ) ; gpio_request ( GPIO_FN_SDHID0 , NULL ) ; gpio_request ( GPIO_FN_SDHICMD , NULL ) ; gpio_request ( GPIO_FN_SDHICLK , NULL ) ; gpio_request ( GPIO_FN_IRQ6 , NULL ) ; gpio_request ( GPIO_FN_LCDD17 , NULL ) ; gpio_request ( GPIO_FN_LCDD16 , NULL ) ; gpio_request ( GPIO_FN_LCDD15 , NULL ) ; gpio_request ( GPIO_FN_LCDD14 , NULL ) ; gpio_request ( GPIO_FN_LCDD13 , NULL ) ; gpio_request ( GPIO_FN_LCDD12 , NULL ) ; gpio_request ( GPIO_FN_LCDD11 , NULL ) ; gpio_request ( GPIO_FN_LCDD10 , NULL ) ; gpio_request ( GPIO_FN_LCDD8 , NULL ) ; gpio_request ( GPIO_FN_LCDD7 , NULL ) ; gpio_request ( GPIO_FN_LCDD6 , NULL ) ; gpio_request ( GPIO_FN_LCDD5 , NULL ) ; gpio_request ( GPIO_FN_LCDD4 , NULL ) ; gpio_request ( GPIO_FN_LCDD3 , NULL ) ; gpio_request ( GPIO_FN_LCDD2 , NULL ) ; gpio_request ( GPIO_FN_LCDD1 , NULL ) ; gpio_request ( GPIO_FN_LCDRS , NULL ) ; gpio_request ( GPIO_FN_LCDCS , NULL ) ; gpio_request ( GPIO_FN_LCDRD , NULL ) ; gpio_request ( GPIO_FN_LCDWR , NULL ) ; gpio_request ( GPIO_PTH2 , NULL ) ; gpio_direction_output ( GPIO_PTH2 , 1 ) ; gpio_request ( GPIO_FN_LCDD15 , NULL ) ; gpio_request ( GPIO_FN_LCDD14 , NULL ) ; gpio_request ( GPIO_FN_LCDD13 , NULL ) ; gpio_request ( GPIO_FN_LCDD12 , NULL ) ; gpio_request ( GPIO_FN_LCDD11 , NULL ) ; gpio_request ( GPIO_FN_LCDD10 , NULL ) ; gpio_request ( GPIO_FN_LCDD9 , NULL ) ; gpio_request ( GPIO_FN_LCDD8 , NULL ) ; gpio_request ( GPIO_FN_LCDD7 , NULL ) ; gpio_request ( GPIO_FN_LCDD6 , NULL ) ; gpio_request ( GPIO_FN_LCDD5 , NULL ) ; gpio_request ( GPIO_FN_LCDD4 , NULL ) ; gpio_request ( GPIO_FN_LCDD3 , NULL ) ; gpio_request ( GPIO_FN_LCDD2 , NULL ) ; gpio_request ( GPIO_FN_LCDD1 , NULL ) ; gpio_request ( GPIO_FN_LCDD0 , NULL ) ; gpio_request ( GPIO_FN_LCDLCLK , NULL ) ; gpio_request ( GPIO_FN_LCDDCK , NULL ) ; gpio_request ( GPIO_FN_LCDVEPWC , NULL ) ; gpio_request ( GPIO_FN_LCDVCPWC , NULL ) ; gpio_request ( GPIO_FN_LCDVSYN , NULL ) ; gpio_request ( GPIO_FN_LCDHSYN , NULL ) ; gpio_request ( GPIO_FN_LCDDISP , NULL ) ; gpio_request ( GPIO_FN_LCDDON , NULL ) ; gpio_request ( GPIO_FN_VIO_CLK2 , NULL ) ; gpio_request ( GPIO_FN_VIO_VD2 , NULL ) ; gpio_request ( GPIO_FN_VIO_HD2 , NULL ) ; gpio_request ( GPIO_FN_VIO_FLD , NULL ) ; gpio_request ( GPIO_FN_VIO_CKO , NULL ) ; gpio_request ( GPIO_FN_VIO_D15 , NULL ) ; gpio_request ( GPIO_FN_VIO_D14 , NULL ) ; gpio_request ( GPIO_FN_VIO_D13 , NULL ) ; gpio_request ( GPIO_FN_VIO_D12 , NULL ) ; gpio_request ( GPIO_FN_VIO_D11 , NULL ) ; gpio_request ( GPIO_FN_VIO_D10 , NULL ) ; gpio_request ( GPIO_FN_VIO_D9 , NULL ) ; gpio_request ( GPIO_FN_VIO_D8 , NULL ) ; gpio_request ( GPIO_PTT3 , NULL ) ; gpio_direction_output ( GPIO_PTT3 , 0 ) ; gpio_request ( GPIO_PTT2 , NULL ) ; gpio_direction_output ( GPIO_PTT2 , 1 ) ; gpio_request ( GPIO_PTT0 , NULL ) ; gpio_direction_output ( GPIO_PTT0 , 0 ) ; gpio_direction_output ( GPIO_PTT0 , 1 ) ; __raw_writew ( __raw_readw ( PORT_MSELCRB ) | 0x2000 , PORT_MSELCRB ) ; platform_resource_setup_memory ( & migor_ceu_device , "ceu" , 4 << 20 ) ; gpio_request ( GPIO_FN_SIUBOLR , NULL ) ; gpio_request ( GPIO_FN_SIUBOBT , NULL ) ; gpio_request ( GPIO_FN_SIUBISLD , NULL ) ; gpio_request ( GPIO_FN_SIUBOSLD , NULL ) ; gpio_request ( GPIO_FN_SIUMCKB , NULL ) ; __raw_writew ( __raw_readw ( PORT_MSELCRA ) | 1 , PORT_MSELCRA ) ; i2c_register_board_info ( 0 , migor_i2c_devices , ARRAY_SIZE ( migor_i2c_devices ) ) ; return platform_add_devices ( migor_devices , ARRAY_SIZE ( migor_devices ) ) ; } 