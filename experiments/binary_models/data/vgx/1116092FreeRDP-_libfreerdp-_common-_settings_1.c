void freerdp_device_collection_free ( rdpSettings * settings ) { UINT32 index ; WINPR_ASSERT ( settings ) ; if ( settings -> DeviceArray ) { for ( index = 0 ; index < settings -> DeviceArraySize ; index ++ ) { freerdp_settings_set_pointer_array ( settings , FreeRDP_DeviceArray , index , NULL ) ; } } freerdp_settings_set_pointer ( settings , FreeRDP_DeviceArray , NULL ) ; freerdp_settings_set_uint32 ( settings , FreeRDP_DeviceArraySize , 0 ) ; freerdp_settings_set_uint32 ( settings , FreeRDP_DeviceCount , 0 ) ; } 