void modules_deinit ( void ) { GSList * list ; list = NULL ; g_hash_table_foreach ( idlookup , ( GHFunc ) uniq_get_modules , & list ) ; g_hash_table_foreach ( stridlookup , ( GHFunc ) uniq_get_modules , & list ) ; while ( list != NULL ) { void * tmp = list -> data ; module_uniq_destroy ( list -> data ) ; list = g_slist_remove ( list , list -> data ) ; g_free ( tmp ) ; } g_hash_table_destroy ( idlookup ) ; g_hash_table_destroy ( stridlookup ) ; g_hash_table_destroy ( uniqstrids ) ; } 