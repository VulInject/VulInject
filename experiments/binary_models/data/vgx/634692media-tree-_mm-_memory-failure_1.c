int get_hwpoison_page ( struct page * page ) { struct page * head = compound_head ( page ) ; if ( ! PageHuge ( head ) && PageTransHuge ( head ) ) { if ( ! PageAnon ( head ) ) { pr_err ( "Memory failure: %#lx: non anonymous thp\n" , page_to_pfn ( page ) ) ; return 0 ; } } if ( get_page_unless_zero ( head ) ) { pr_info ( "Memory failure: %#lx cannot catch tail\n" , page_to_pfn ( page ) ) ; put_page ( head ) ; } return 0 ; } 