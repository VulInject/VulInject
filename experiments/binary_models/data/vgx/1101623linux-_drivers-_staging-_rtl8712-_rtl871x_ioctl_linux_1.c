static int r871x_wx_set_mlme ( struct net_device * dev , struct iw_request_info * info , union iwreq_data * wrqu , char * extra ) { int ret = 0 ; struct _adapter * padapter = netdev_priv ( dev ) ; struct iw_mlme * mlme = ( iw_mlme * ) extra ; switch ( mlme -> cmd ) { case IW_MLME_DEAUTH : if ( ! r8712_set_802_11_disassociate ( padapter ) ) { ret = - 1 ; } break ; case IW_MLME_DISASSOC : if ( ! r8712_set_802_11_disassociate ( padapter ) ) { ret = - 1 ; } break ; default : return - EOPNOTSUPP ; } return ret ; } 