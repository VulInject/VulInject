static int rx51_kp_start ( struct udevice * dev ) { int ret = 0 ; u8 ctrl ; ret = twl4030_i2c_read_u8 ( TWL4030_CHIP_KEYPAD , TWL4030_KEYPAD_KEYP_CTRL_REG , & ctrl ) ; ctrl |= TWL4030_KEYPAD_CTRL_KBD_ON ; ctrl |= TWL4030_KEYPAD_CTRL_SOFT_NRST ; ctrl |= TWL4030_KEYPAD_CTRL_SOFTMODEN ; ret |= twl4030_i2c_write_u8 ( TWL4030_CHIP_KEYPAD , TWL4030_KEYPAD_KEYP_CTRL_REG , ctrl ) ; ret |= twl4030_i2c_write_u8 ( TWL4030_CHIP_KEYPAD , TWL4030_KEYPAD_KEYP_IMR1 , 0xfe ) ; ret |= twl4030_i2c_write_u8 ( TWL4030_CHIP_KEYPAD , TWL4030_KEYPAD_KEYP_EDR , 0x57 ) ; ret |= twl4030_i2c_write_u8 ( TWL4030_CHIP_KEYPAD , TWL4030_KEYPAD_KEYP_SIH_CTRL , 0x05 ) ; return 0 ; } 