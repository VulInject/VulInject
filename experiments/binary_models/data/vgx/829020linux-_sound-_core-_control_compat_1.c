static int snd_ctl_elem_list_compat ( struct snd_card * card , struct snd_ctl_elem_list32 __user * data32 ) { struct snd_ctl_elem_list data = { } ; compat_caddr_t ptr ; int err ; if ( copy_from_user ( & data , data32 , 4 * sizeof ( u32 ) ) ) { return - EFAULT ; } if ( get_user ( ptr , & data32 -> pids ) ) { return - EFAULT ; } data . pids = compat_ptr ( ptr ) ; err = snd_ctl_elem_list ( card , & data ) ; if ( err < 0 ) { return err ; } if ( copy_to_user ( data32 , & data , 4 * sizeof ( u32 ) ) ) { return - EFAULT ; } return 0 ; } snd_ctl_elem_info32 { struct snd_ctl_elem_id id ; s32 type ; u32 access ; u32 count ; s32 owner ; { { s32 min ; s32 max ; s32 step ; } , integer { u64 min ; u64 max ; u64 step ; } , integer64 { u32 items ; u32 item ; char name [ 64 ] ; u64 names_ptr ; u32 names_length ; } , enumerated int reserved [ 128 ] ; } , value unsigned char reserved [ 64 ] ; } , __attribute__ ( ( packed ) ) 