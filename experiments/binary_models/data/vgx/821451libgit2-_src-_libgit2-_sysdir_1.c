static int find_win32_dirs ( git_str * out , const wchar_t * tmpl [ ] ) { git_win32_path path16 ; git_str buf = GIT_STR_INIT ; for ( ; * tmpl != NULL ; tmpl ++ ) { if ( ! expand_win32_path ( path16 , * tmpl ) && path16 [ 0 ] != L '%' && ! _waccess ( path16 , F_OK ) ) { win32_path_to_utf8 ( & buf , path16 ) ; if ( buf . size ) { git_str_join ( out , GIT_PATH_LIST_SEPARATOR , out -> ptr , buf . ptr ) ; } } } git_str_dispose ( & buf ) ; return ( git_str_oom ( out ) ?- 1 : 0 ) ; } 