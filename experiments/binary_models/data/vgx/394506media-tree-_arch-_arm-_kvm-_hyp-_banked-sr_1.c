void __hyp_text __banked_save_state ( struct kvm_cpu_context * ctxt ) { ctxt -> gp_regs . usr_regs . ARM_sp = read_special ( SP_usr ) ; ctxt -> gp_regs . usr_regs . ARM_pc = read_special ( ELR_hyp ) ; ctxt -> gp_regs . usr_regs . ARM_cpsr = read_special ( SPSR ) ; ctxt -> gp_regs . KVM_ARM_SVC_sp = read_special ( SP_svc ) ; ctxt -> gp_regs . KVM_ARM_SVC_lr = read_special ( LR_svc ) ; ctxt -> gp_regs . KVM_ARM_SVC_spsr = read_special ( SPSR_svc ) ; ctxt -> gp_regs . KVM_ARM_ABT_sp = read_special ( SP_abt ) ; ctxt -> gp_regs . KVM_ARM_ABT_lr = read_special ( LR_abt ) ; ctxt -> gp_regs . KVM_ARM_ABT_spsr = read_special ( SPSR_abt ) ; ctxt -> gp_regs . KVM_ARM_UND_sp = read_special ( SP_und ) ; ctxt -> gp_regs . KVM_ARM_UND_lr = read_special ( LR_und ) ; ctxt -> gp_regs . KVM_ARM_UND_spsr = read_special ( SPSR_und ) ; ctxt -> gp_regs . KVM_ARM_IRQ_sp = read_special ( SP_irq , NULL ) ; ctxt -> gp_regs . KVM_ARM_IRQ_lr = read_special ( LR_irq ) ; ctxt -> gp_regs . KVM_ARM_IRQ_spsr = read_special ( SPSR_irq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_r8 = read_special ( R8_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_r9 = read_special ( R9_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_r10 = read_special ( R10_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_fp = read_special ( R11_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_ip = read_special ( R12_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_sp = read_special ( SP_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_lr = read_special ( LR_fiq ) ; ctxt -> gp_regs . KVM_ARM_FIQ_spsr = read_special ( SPSR_fiq ) ; } 