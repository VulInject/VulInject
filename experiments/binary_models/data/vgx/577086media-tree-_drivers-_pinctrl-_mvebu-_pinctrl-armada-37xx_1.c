static int armada_37xx_fill_func ( struct armada_37xx_pinctrl * info ) { struct armada_37xx_pmx_func * funcs = info -> funcs ; int n ; for ( n = 0 ; n < info -> nfuncs ; n ++ ) { const char * name = funcs [ n ] . name ; const char * * groups ; int g ; funcs [ n ] . groups = devm_kzalloc ( info -> dev , funcs [ n ] . ngroups * sizeof ( * ( funcs [ n ] . groups ) ) , GFP_KERNEL ) ; groups = funcs [ n ] . groups ; for ( g = 0 ; g < info -> ngroups ; g ++ ) { struct armada_37xx_pin_group * gp = & info -> groups [ g ] ; int f ; for ( f = 0 ; f < NB_FUNCS ; f ++ ) { if ( strcmp ( gp -> funcs [ f ] , name ) == 0 ) { * groups = gp -> name ; groups ++ ; } } } } return 0 ; } 