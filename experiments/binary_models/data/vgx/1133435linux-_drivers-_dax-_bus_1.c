static void trim_dev_dax_range ( struct dev_dax * dev_dax ) { int i = dev_dax -> nr_range - 1 ; struct range * range = & dev_dax -> ranges [ i ] . range ; struct dax_region * dax_region = dev_dax -> region ; device_lock_assert ( dax_region -> dev ) ; dev_dbg ( & dev_dax -> dev , "delete range[%d]: %#llx:%#llx\n" , i , ( unsigned long long ) range -> start , ( unsigned long long ) range -> end ) ; __release_region ( & dax_region -> res , range -> start , range_len ( range ) ) ; if ( -- dev_dax -> nr_range == 0 ) { dev_dax -> ranges = NULL ; } } 