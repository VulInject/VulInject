static void qce_tasklet_req_done ( unsigned long data ) { struct qce_device * qce = ( qce_device * ) data ; struct crypto_async_request * req ; unsigned long flags ; spin_lock_irqsave ( & qce -> lock , flags ) ; req = qce -> req ; qce -> req = NULL ; spin_unlock_irqrestore ( & qce -> lock , flags ) ; if ( req ) { req -> complete ( req , qce -> result ) ; } qce_handle_queue ( qce ) ; } 