int uwsgi_master_check_spoolers_deadline ( ) { int ret = 0 ; struct uwsgi_spooler * uspool = uwsgi . spoolers ; while ( uspool ) { if ( uspool -> harakiri > 0 && uspool -> harakiri < ( time_t ) uwsgi . current_time ) { uwsgi_log ( "*** HARAKIRI ON THE SPOOLER (pid: %d) ***\n" , uspool -> pid ) ; kill ( uspool -> pid , SIGKILL ) ; ret = 1 ; } if ( uspool -> user_harakiri > 0 && uspool -> user_harakiri < ( time_t ) uwsgi . current_time ) { uwsgi_log ( "*** HARAKIRI ON THE SPOOLER (pid: %d) ***\n" , uspool -> pid ) ; kill ( uspool -> pid , SIGKILL ) ; uspool -> user_harakiri = 0 ; ret = 1 ; } uspool = uspool -> next ; } return ret ; } 