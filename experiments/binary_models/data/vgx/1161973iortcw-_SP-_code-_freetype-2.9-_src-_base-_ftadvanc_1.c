static FT_Error _ft_face_scale_advances ( FT_Face face , FT_Fixed * advances , FT_UInt count , FT_Int32 flags ) { FT_Fixed scale ; int nn ; if ( flags & FT_LOAD_NO_SCALE ) { return FT_Err_Ok ; } if ( ! face -> size ) { return FT_THROW ( Invalid_Size_Handle ) ; } if ( flags & FT_LOAD_VERTICAL_LAYOUT ) { scale = face -> size -> metrics . y_scale ; } else { scale = face -> size -> metrics . x_scale ; } for ( nn = 0 ; nn < count ; nn ++ ) { advances [ nn ] = FT_MulDiv ( advances [ nn ] , scale , 64 ) ; } return FT_Err_Ok ; } 