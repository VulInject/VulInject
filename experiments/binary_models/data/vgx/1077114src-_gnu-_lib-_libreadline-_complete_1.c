get_y_or_n ( ) int for_pager ; { int c ; for ( ; ; ) { RL_SETSTATE ( RL_STATE_MOREINPUT , NULL ) ; c = rl_read_key ( ) ; RL_UNSETSTATE ( RL_STATE_MOREINPUT ) ; if ( c == 'y' || c == 'Y' || c == ' ' ) { return ( 1 ) ; } if ( c == 'n' || c == 'N' || c == RUBOUT ) { return ( 0 ) ; } if ( c == ABORT_CHAR ) { _rl_abort_internal ( ) ; } if ( for_pager && ( c == NEWLINE || c == RETURN ) ) { return ( 2 ) ; } if ( for_pager && ( c == 'q' || c == 'Q' ) ) { return ( 0 ) ; } rl_ding ( ) ; } } 