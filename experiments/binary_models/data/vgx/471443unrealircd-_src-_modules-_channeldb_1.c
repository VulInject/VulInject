int channeldb_config_run ( ConfigFile * cf , ConfigEntry * ce , int type ) EVENT ( write_channeldb_evt ) ; int write_channeldb ( void ) int write_channel_entry ( UnrealDB * db , const char * tmpfname , Channel * channel ) int read_channeldb ( void ) static uint32_t channeldb_version = CHANNELDB_VERSION ; static struct cfgstruct cfg ; static struct cfgstruct test ; static long channeldb_next_event = 0 ; MOD_TEST ( ) { memset ( & test , 0 , sizeof ( test ) ) ; setcfg ( & test ) ; HookAdd ( modinfo -> handle , HOOKTYPE_CONFIGTEST , 0 , channeldb_config_test ) ; HookAdd ( modinfo -> handle , HOOKTYPE_CONFIGPOSTTEST , 0 , channeldb_config_posttest ) ; return MOD_SUCCESS ; } 