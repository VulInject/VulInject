static int _terminate_job_step ( const job_step_info_t * step , const resource_allocation_response_msg_t * allocation ) { signal_tasks_msg_t rpc ; int rc = SLURM_SUCCESS ; memcpy ( & rpc . step_id , & step -> step_id , sizeof ( rpc . step_id ) ) ; rpc . signal = ( uint16_t ) - 1 ; rc = _local_send_recv_rc_msgs ( allocation -> node_list , REQUEST_TERMINATE_TASKS , & rpc ) ; if ( ( rc == - 1 ) && ( errno == ESLURM_ALREADY_DONE ) ) { rc = 0 ; errno = 0 ; } return rc ; } 