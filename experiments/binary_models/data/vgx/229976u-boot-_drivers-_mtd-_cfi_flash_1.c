ulong FUN1 ( phys_addr_t VAR1 , int VAR2 ) { VAR3 * VAR4 = & VAR5 [ VAR2 ] ; int VAR6 , VAR7 ; flash_sect_t VAR8 ; phys_addr_t VAR9 ; unsigned long VAR10 ; int VAR11 ; uchar VAR12 ; int VAR13 ; int VAR14 ; struct cfi_qry VAR15 ; unsigned long VAR16 ; VAR4 -> VAR17 = 0 ; VAR4 -> VAR18 = 0 ; VAR4 -> VAR19 = 0 ; VAR4 -> VAR20 [ 0 ] = ( VAR21 ) FUN2 ( VAR1 , VAR4 -> VAR22 , VAR23 ) ; if ( FUN3 ( VAR4 , & VAR15 ) ) { VAR4 -> VAR24 = FUN4 ( FUN5 ( & VAR15 . VAR25 ) ) ; VAR4 -> VAR17 = FUN4 ( FUN5 ( & VAR15 . VAR26 ) ) ; VAR12 = VAR15 . VAR12 ; if ( VAR4 -> VAR17 ) { VAR4 -> VAR18 = ( VAR27 ) FUN6 ( VAR4 , VAR4 -> VAR17 + 3 ) << 8 ; VAR4 -> VAR18 |= ( VAR27 ) FUN6 ( VAR4 , VAR4 -> VAR17 + 4 ) ; } FUN7 ( & VAR15 ) ; switch ( VAR4 -> VAR24 ) { case VAR28 : case VAR29 : case VAR30 : FUN8 ( VAR4 , & VAR15 ) ; break ; case VAR31 : case VAR32 : FUN9 ( VAR4 , & VAR15 ) ; break ; default : FUN10 ( "" , VAR4 -> VAR24 ) ; FUN11 ( VAR4 , 0 , 0 , VAR33 ) ; return 0 ; } switch ( VAR4 -> VAR34 ) { case 0x0001 : case 0x0037 : FUN12 ( VAR4 , & VAR15 ) ; break ; case 0x001f : FUN13 ( VAR4 , & VAR15 ) ; break ; case 0x0020 : FUN14 ( VAR4 , & VAR15 ) ; break ; case 0x00bf : FUN15 ( VAR4 , & VAR15 ) ; break ; case 0x0089 : FUN16 ( VAR4 , & VAR15 ) ; break ; } FUN17 ( "" , VAR4 -> VAR24 ) ; FUN17 ( "" , VAR4 -> VAR34 ) ; FUN17 ( "" , VAR4 -> VAR35 ) ; FUN17 ( "" , VAR4 -> VAR36 ) ; FUN17 ( "" , VAR4 -> VAR18 ) ; VAR11 = VAR4 -> VAR22 / VAR4 -> VAR37 ; if ( VAR4 -> VAR38 == VAR39 && VAR4 -> VAR37 == VAR40 ) { VAR11 >>= 1 ; } FUN17 ( "" , VAR11 , VAR4 -> VAR22 << VAR41 , VAR4 -> VAR37 << VAR41 ) ; VAR4 -> VAR42 = 1 << VAR15 . VAR43 ; VAR4 -> VAR42 *= VAR11 ; VAR16 = FUN18 ( VAR2 ) ; if ( VAR16 && VAR4 -> VAR42 > VAR16 ) { FUN17 ( "" , VAR4 -> VAR42 >> 20 ) ; VAR4 -> VAR42 = VAR16 ; } FUN17 ( "" , VAR12 ) ; VAR8 = 0 ; VAR9 = VAR1 ; for ( VAR6 = 0 ; VAR6 < VAR12 ; VAR6 ++ ) { if ( VAR6 > VAR44 ) { FUN10 ( "" , VAR12 , VAR44 ) ; break ; } VAR10 = FUN19 ( FUN5 ( & VAR15 . VAR45 [ VAR6 ] ) ) ; FUN17 ( "" , VAR6 , VAR10 ) ; VAR14 = ( VAR10 & 0xffff ) + 1 ; VAR10 >>= 16 ; VAR13 = ( VAR10 & 0xffff ) ?( ( VAR10 & 0xffff ) * 256 ) : 128 ; FUN17 ( "" , VAR14 ) ; FUN17 ( "" , VAR13 ) ; for ( VAR7 = 0 ; VAR7 < VAR14 ; VAR7 ++ ) { if ( VAR9 - VAR1 >= VAR4 -> VAR42 ) { break ; } if ( VAR8 >= VAR46 ) { FUN10 ( "" ) ; break ; } VAR4 -> VAR20 [ VAR8 ] = ( VAR21 ) FUN2 ( VAR9 , VAR4 -> VAR22 , VAR23 ) ; VAR9 += ( VAR13 * VAR11 ) ; switch ( VAR4 -> VAR24 ) { case VAR28 : case VAR30 : case VAR29 : FUN11 ( VAR4 , VAR8 , 0 , VAR47 ) ; VAR4 -> VAR48 [ VAR8 ] = FUN20 ( VAR4 , VAR8 , VAR49 , VAR50 ) ; FUN11 ( VAR4 , VAR8 , 0 , VAR33 ) ; break ; case VAR32 : case VAR31 : if ( ! VAR4 -> VAR19 ) { VAR4 -> VAR48 [ VAR8 ] = 0 ; break ; } FUN11 ( VAR4 , 0 , 0 , VAR4 -> VAR51 ) ; FUN21 ( VAR4 , 0 ) ; FUN11 ( VAR4 , 0 , VAR4 -> VAR52 , VAR53 ) ; VAR4 -> VAR48 [ VAR8 ] = ! FUN20 ( VAR4 , VAR8 , 0 , 0x01 ) ; FUN11 ( VAR4 , 0 , 0 , VAR4 -> VAR51 ) ; break ; default : VAR4 -> VAR48 [ VAR8 ] = 0 ; } VAR8 ++ ; } } VAR4 -> VAR54 = VAR8 ; VAR4 -> VAR55 = 1 << FUN4 ( VAR15 . VAR56 ) ; VAR10 = 1 << VAR15 . VAR57 ; VAR4 -> VAR58 = VAR10 * ( 1 << VAR15 . VAR59 ) ; VAR10 = ( 1 << VAR15 . VAR60 ) * ( 1 << VAR15 . VAR61 ) ; VAR4 -> VAR62 = ( VAR10 + 999 ) / 1000 ; VAR10 = ( 1 << VAR15 . VAR63 ) * ( 1 << VAR15 . VAR64 ) ; VAR4 -> VAR65 = ( VAR10 + 999 ) / 1000 ; VAR4 -> VAR66 = VAR67 ; if ( VAR4 -> VAR38 == VAR39 && VAR4 -> VAR37 == VAR40 ) { VAR4 -> VAR22 >>= 1 ; } FUN11 ( VAR4 , 0 , 0 , VAR4 -> VAR51 ) ; } return ( VAR4 -> VAR42 ) ; }