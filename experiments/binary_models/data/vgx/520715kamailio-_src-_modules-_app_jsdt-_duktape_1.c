DUK_LOCAL void duk__handle_label ( duk_hthread * thr , duk_small_uint_t lj_type ) { duk_activation * act ; duk_catcher * cat ; DUK_ASSERT ( thr -> callstack_top >= 1 ) ; act = thr -> callstack_curr ; DUK_ASSERT ( act != NULL ) ; DUK_ASSERT ( DUK_ACT_GET_FUNC ( act ) != NULL ) ; DUK_ASSERT ( DUK_HOBJECT_HAS_COMPFUNC ( DUK_ACT_GET_FUNC ( act ) ) ) ; cat = act -> cat ; DUK_ASSERT ( cat != NULL ) ; DUK_ASSERT ( DUK_CAT_GET_TYPE ( cat ) == DUK_CAT_TYPE_LABEL ) ; act -> curr_pc = cat -> pc_base + ( lj_type == DUK_LJ_TYPE_CONTINUE ?1 : 0 ) ; DUK_ASSERT ( thr -> callstack_top >= 1 ) ; DUK_ASSERT ( act == thr -> callstack_curr ) ; DUK_ASSERT ( act != NULL ) ; DUK_ASSERT ( ( duk_size_t ) ( thr -> valstack_top - thr -> valstack_bottom ) == ( duk_size_t ) ( ( duk_hcompfunc * ) DUK_ACT_GET_FUNC ( act ) ) -> nregs ) ; } 