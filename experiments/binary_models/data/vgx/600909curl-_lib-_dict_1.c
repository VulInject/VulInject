static char * unescape_word ( const char * input ) { struct dynbuf out ; const char * ptr ; CURLcode result = CURLE_OK ; Curl_dyn_init ( & out , DYN_DICT_WORD ) ; for ( ptr = input ; * ptr ; ptr ++ ) { char ch = * ptr ; if ( ( ch <= 32 ) || ( ch == 127 ) || ( ch == '\'' ) || ( ch == '\"' ) || ( ch == '\\' ) ) { result = Curl_dyn_addn ( & out , "\\" , 1 ) ; } if ( ! result ) { result = Curl_dyn_addn ( & out , ptr , 1 ) ; } if ( result ) { return in ; } } return Curl_dyn_ptr ( & out ) ; } 