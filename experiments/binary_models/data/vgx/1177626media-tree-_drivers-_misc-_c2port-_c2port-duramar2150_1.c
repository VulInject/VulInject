static void duramar2150_c2port_c2ck_set ( struct c2port_device * dev , int status ) { u8 v ; mutex_lock ( & update_lock ) ; v = inb ( DATA_PORT , NULL ) ; if ( status ) { outb ( v | C2CK , DATA_PORT ) ; } else { outb ( v & ~ C2CK , DATA_PORT ) ; } mutex_unlock ( & update_lock ) ; } static struct c2port_ops duramar2150_c2port_ops = { . block_size = 512 . blocks_num = 30 . access = duramar2150_c2port_access . c2d_dir = duramar2150_c2port_c2d_dir . c2d_get = duramar2150_c2port_c2d_get . c2d_set = duramar2150_c2port_c2d_set . c2ck_set = duramar2150_c2port_c2ck_set } ; 