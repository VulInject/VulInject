static int acpi_thermal_get_info ( struct acpi_thermal * tz ) { int result ; if ( ! tz ) { return - EINVAL ; } acpi_thermal_aml_dependency_fix ( tz , NULL ) ; result = acpi_thermal_get_trip_points ( tz ) ; if ( result ) { return result ; } result = acpi_thermal_get_temperature ( tz ) ; if ( result ) { return result ; } result = acpi_thermal_set_cooling_mode ( tz , ACPI_THERMAL_MODE_ACTIVE ) ; if ( ! result ) { tz -> flags . cooling_mode = 1 ; } if ( tzp ) { tz -> polling_frequency = tzp ; } else { acpi_thermal_get_polling_frequency ( tz ) ; } return 0 ; } 