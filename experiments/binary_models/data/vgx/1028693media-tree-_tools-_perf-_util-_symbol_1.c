static struct symbol * symbols__find_by_name ( struct rb_root * symbols , const char * name , enum symbol_tag_include includes ) { struct rb_node * n ; struct symbol_name_rb_node * s = NULL ; n = symbols -> rb_node ; while ( n ) { int cmp ; s = rb_entry ( n , symbol_name_rb_node , rb_node ) ; cmp = symbol__match_symbol_name ( s -> sym . name , name , includes ) ; if ( cmp > 0 ) { n = n -> rb_left ; } if ( cmp < 0 ) { n = n -> rb_right ; } else { break ; } } if ( n == NULL ) { return NULL ; } if ( includes != SYMBOL_TAG_INCLUDE__DEFAULT_ONLY ) { for ( n = rb_prev ( n ) ; n ; n = rb_prev ( n ) ) { struct symbol_name_rb_node * tmp ; tmp = rb_entry ( n , symbol_name_rb_node , rb_node ) ; if ( arch__compare_symbol_names ( tmp -> sym . name , s -> sym . name ) ) { break ; } s = tmp ; } } return & s -> sym ; } 