static int pcc_parse_subspace_db_reg ( struct pcc_chan_info * pchan , struct acpi_subtable_header * pcct_entry ) { int ret = 0 ; if ( pcct_entry -> type <= ACPI_PCCT_TYPE_HW_REDUCED_SUBSPACE_TYPE2 ) { struct acpi_pcct_subspace * pcct_ss ; pcct_ss = ( acpi_pcct_subspace * ) pcct_entry ; ret = pcc_chan_reg_init ( & pchan -> db , & pcct_ss -> doorbell_register , pcct_ss -> preserve_mask , pcct_ss -> write_mask , 0 , "Doorbell" ) ; } else { struct acpi_pcct_ext_pcc_master * pcct_ext ; pcct_ext = ( acpi_pcct_ext_pcc_master * ) pcct_entry ; ret = pcc_chan_reg_init ( & pchan -> db , & pcct_ext -> doorbell_register , pcct_ext -> preserve_mask , pcct_ext -> write_mask , 0 , "Doorbell" ) ; ret = pcc_chan_reg_init ( & pchan -> cmd_complete , & pcct_ext -> cmd_complete_register , 0 , 0 , pcct_ext -> cmd_complete_mask , "Command Complete Check" ) ; if ( ret ) { return ret ; } ret = pcc_chan_reg_init ( & pchan -> cmd_update , & pcct_ext -> cmd_update_register , pcct_ext -> cmd_update_preserve_mask , pcct_ext -> cmd_update_set_mask , 0 , "Command Complete Update" ) ; if ( ret ) { return ret ; } ret = pcc_chan_reg_init ( & pchan -> error , & pcct_ext -> error_status_register , 0 , 0 , pcct_ext -> error_status_mask , "Error Status" ) ; } return ret ; } 