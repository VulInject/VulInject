void smbios_prepare_measurement ( const struct smbios_entry * entry , struct smbios_header * smbios_copy ) { u32 i , j ; struct smbios_header * header ; for ( i = 0 ; i < ARRAY_SIZE ( smbios_filter_tables ) ; i ++ ) { header = smbios_copy ; for ( j = 0 ; j < entry -> struct_count ; j ++ ) { if ( header -> type == smbios_filter_tables [ i ] . type ) { break ; } header = get_next_header ( header ) ; } clear_smbios_table ( header , smbios_filter_tables [ i ] . params , smbios_filter_tables [ i ] . count ) ; } } 