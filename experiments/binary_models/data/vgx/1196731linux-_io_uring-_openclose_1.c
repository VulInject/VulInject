int io_close_prep ( struct io_kiocb * req , const struct io_uring_sqe * sqe ) { struct io_close * close = io_kiocb_to_cmd ( req , io_close ) ; if ( sqe -> off || sqe -> addr || sqe -> len || sqe -> rw_flags || sqe -> buf_index ) { return - EINVAL ; } close -> fd = READ_ONCE ( sqe -> fd ) ; close -> file_slot = READ_ONCE ( sqe -> file_index ) ; if ( close -> file_slot && close -> fd ) { return - EINVAL ; } return 0 ; } 