START_TEST ( ) { pbs_attribute attr ; pbs_attribute otherattr ; fail_unless ( decode_c ( & attr , NULL , NULL , "Hello" , 0 ) == 0 ) ; fail_unless ( ( attr . at_flags & ATR_VFLAG_MODIFY ) != 0 ) ; fail_unless ( attr . at_val . at_char == 'H' ) ; memset ( & attr , 0 , sizeof ( attr ) ) ; fail_unless ( decode_c ( & attr , NULL , NULL , NULL , 0 ) == 0 ) ; fail_unless ( ( attr . at_flags & ATR_VFLAG_MODIFY ) != 0 ) ; fail_unless ( attr . at_val . at_char == '\0' ) ; memset ( & attr , 0 , sizeof ( attr ) ) ; memset ( & otherattr , 0 , sizeof ( attr ) ) ; decode_c ( & attr , NULL , NULL , "Hello" , 0 ) ; decode_c ( & otherattr , NULL , NULL , "Jello" , 0 ) ; fail_unless ( set_c ( & attr , & otherattr , SET ) == 0 ) ; fail_unless ( attr . at_val . at_char == 'J' ) ; } 