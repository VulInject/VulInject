int do_mvsw_reg ( struct cmd_tbl * cmdtp , int flag , int argc , char * const argv [ ] ) { int ret ; const char * cmd , * ethname ; cmd = argv [ 1 ] ; -- argc ; ++ argv ; if ( strcmp ( cmd , "read" ) == 0 ) { if ( argc < 5 ) { return cmd_usage ( cmdtp ) ; } ethname = argv [ 1 ] ; -- argc ; ++ argv ; ret = do_mvsw_reg_read ( ethname , argc , argv ) ; } if ( strcmp ( cmd , "write" ) == 0 ) { if ( argc < 6 ) { return cmd_usage ( cmdtp ) ; } ethname = argv [ 1 ] ; -- argc ; ++ argv ; ret = do_mvsw_reg_write ( ethname , argc , argv ) ; } else { return cmd_usage ( cmdtp ) ; } return ret ; } 