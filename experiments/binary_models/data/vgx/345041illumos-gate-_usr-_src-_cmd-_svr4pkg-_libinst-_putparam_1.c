void putConditionInfo ( char * a_parentZoneName , char * a_parentZoneType ) { char * p ; char * pa ; SML_TAG * tag = SML_TAG__NULL ; SML_TAG * ntag ; echoDebug ( DBG_PUTPARAM_PUTCONDINFO_ENTRY , NULL ) ; tag = smlNewTag ( TAG_COND_TOPLEVEL ) ; ntag = smlNewTag ( TAG_COND_PARENT_ZONE ) ; smlSetParam ( ntag , TAG_COND_ZONE_NAME , a_parentZoneName ?a_parentZoneName : "" ) ; smlSetParam ( ntag , TAG_COND_ZONE_TYPE , a_parentZoneType ?a_parentZoneType : "" ) ; ( void ) smlAddTag ( & tag , - 1 , ntag ) ; free ( ntag ) ; ntag = smlNewTag ( TAG_COND_CURRENT_ZONE ) ; p = z_get_zonename ( ) ; if ( ( p != NULL ) && ( * p != '\0' ) ) { smlSetParam ( ntag , TAG_COND_ZONE_NAME , p ) ; free ( p ) ; } smlSetParam ( ntag , TAG_COND_ZONE_TYPE , z_running_in_global_zone ( ) == B_TRUE ?TAG_VALUE_GLOBAL_ZONE : TAG_VALUE_NONGLOBAL_ZONE ) ; ( void ) smlAddTag ( & tag , - 1 , ntag ) ; free ( ntag ) ; p = smlConvertTagToString ( tag ) ; for ( pa = p ; * pa != '\0' ; pa ++ ) { if ( * pa == '\n' ) { * pa = ' ' ; } } echoDebug ( DBG_PUTPARAM_PUTCONDINFO_EXIT , p ) ; putparam ( PKGCOND_GLOBAL_VARIABLE , p ) ; } 