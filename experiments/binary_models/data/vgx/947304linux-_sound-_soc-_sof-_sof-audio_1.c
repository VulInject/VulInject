static int sof_dai_get_clk ( struct snd_soc_pcm_runtime * rtd , int clk_type ) { struct snd_soc_component * component = snd_soc_rtdcom_lookup ( rtd , SOF_AUDIO_PCM_DRV_NAME ) ; struct snd_sof_dai * dai = snd_sof_find_dai ( component , ( char * ) rtd -> dai_link -> name ) ; struct snd_sof_dev * sdev = snd_soc_component_get_drvdata ( component ) ; const struct sof_ipc_tplg_ops * tplg_ops = sof_ipc_get_ops ( sdev , tplg ) ; if ( tplg_ops && tplg_ops -> dai_get_clk ) { return tplg_ops -> dai_get_clk ( sdev , dai , clk_type ) ; } return 0 ; } 