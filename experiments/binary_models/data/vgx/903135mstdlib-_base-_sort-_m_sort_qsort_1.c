* / QSORT_SWAPTYPE ( QSORT_SWAPTYPE_MULTIPLEOF_UINTPTR , QSORT_SWAPTYPE_SIZEOF_UINTPTR , QSORT_SWAPTYPE_UNALIGNED ) ; { int i ; for ( i = 0 ; i < esize / sizeof ( type ) ; i ++ ) { type save = ( ( type * ) elem1 ) [ i ] ; ( ( type * ) elem1 ) [ i ] = ( ( type * ) elem2 ) [ i ] ; ( ( type * ) elem2 ) [ i ] = save ; } } 0 ; static __inline__ void sort_swap ( void * elem1 , void * elem2 , size_t esize , enum QSORT_SWAPTYPE swaptype ) { if ( elem1 == elem2 ) { return ; } switch ( swaptype ) { case QSORT_SWAPTYPE_SIZEOF_UINTPTR : { M_uintptr t = * ( ( M_uintptr * ) elem1 ) ; * ( ( M_uintptr * ) elem1 ) = * ( ( M_uintptr * ) elem2 ) ; * ( ( M_uintptr * ) elem2 ) = t ; } 0 ; break ; case QSORT_SWAPTYPE_MULTIPLEOF_UINTPTR : sort_swap_bytype ( M_uintptr , elem1 , elem2 , esize ) ; break ; case QSORT_SWAPTYPE_UNALIGNED : sort_swap_bytype ( , , , ) break ; } } 