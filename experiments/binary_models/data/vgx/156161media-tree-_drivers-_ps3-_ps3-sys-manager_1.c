static int ps3_sys_manager_send_attr ( struct ps3_system_bus_device * dev , enum ps3_sys_manager_attr attr ) { struct ps3_sys_manager_header header ; { u8 version ; u8 reserved_1 [ 3 ] ; u32 attribute ; } , payload BUILD_BUG_ON ( sizeof ( payload ) != 8 ) ; dev_dbg ( & dev -> core , "%s:%d: %xh\n" , __func__ , __LINE__ , attr ) ; header . version = 1 ; header . size = 16 ; header . payload_size = 16 ; header . service_id = PS3_SM_SERVICE_ID_SET_ATTR ; memset ( & payload , 0 , sizeof ( payload ) ) ; payload . version = 1 ; payload . attribute = attr ; return ps3_sys_manager_write ( dev , & header , & payload ) ; } 