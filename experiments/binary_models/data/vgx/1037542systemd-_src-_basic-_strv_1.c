int strv_extend_front ( char * * * l , const char * value ) { size_t n , m ; char * v , * * c ; assert ( l ) ; if ( ! value ) { return 0 ; } n = strv_length ( * l ) ; m = n + 2 ; if ( m < n ) { return - ENOMEM ; } v = strdup ( value ) ; if ( ! v ) { return - ENOMEM ; } c = reallocarray ( * l , m , sizeof ( char * ) ) ; if ( ! c ) { return - ENOMEM ; } memmove ( c + 1 , c , n * sizeof ( char * ) ) ; c [ 0 ] = v ; c [ n + 1 ] = NULL ; * l = c ; return 0 ; } 