static int __init aica_init ( void ) { int err ; err = platform_driver_register ( & snd_aica_driver ) ; pd = platform_device_register_simple ( SND_AICA_DRIVER , - 1 , aica_memory_space , 2 ) ; if ( IS_ERR ( pd ) ) { platform_driver_unregister ( & snd_aica_driver ) ; return PTR_ERR ( pd ) ; } return load_aica_firmware ( ) ; } 