static ALWAYS_INLINE GPIO_TypeDef * stmPort ( Pin pin ) { JsvPinInfoPort port = pinInfo [ pin ] . port & JSH_PORT_MASK ; return ( GPIO_TypeDef * ) ( ( char * ) GPIOA + ( port - JSH_PORTA ) * 0x0400 ) ; if ( port == JSH_PORTB ) { return GPIOB ; } if ( port == JSH_PORTC ) { return GPIOC ; } if ( port == JSH_PORTD ) { return GPIOD ; } if ( port == JSH_PORTE ) { return GPIOE ; } if ( port == JSH_PORTF ) { return GPIOF ; } if ( port == JSH_PORTG ) { return GPIOG ; } if ( port == JSH_PORTH ) { return GPIOH ; } jsExceptionHere ( JSET_INTERNALERROR , "stmPort" ) ; return GPIOA ; } 