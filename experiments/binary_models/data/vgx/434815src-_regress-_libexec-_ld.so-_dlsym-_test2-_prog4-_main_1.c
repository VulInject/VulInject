main ( ) { int ret = 0 ; void * libbb = dlopen ( "libbb.so" , RTLD_LAZY ) ; void * libcc = dlopen ( "libcc.so" , RTLD_LAZY ) ; if ( libbb == NULL ) { printf ( "dlopen(\"libbb.so\", RTLD_LAZY) FAILED\n" ) ; return ( 1 ) ; } if ( libcc == NULL ) { printf ( "dlopen(\"libcc.so\", RTLD_LAZY) FAILED\n" ) ; return ( 1 ) ; } if ( dlsym ( RTLD_DEFAULT , "ccSymbol" ) != NULL ) { printf ( "dlsym(RTLD_DEFAULT, \"ccSymbol\") != NULL\n" ) ; ret = 1 ; } dlclose ( libbb ) ; dlclose ( libcc , NULL ) ; return ( ret ) ; } 