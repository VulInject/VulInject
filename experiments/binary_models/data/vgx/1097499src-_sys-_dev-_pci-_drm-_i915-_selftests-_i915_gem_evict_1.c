int i915_gem_evict_mock_selftests ( void ) { static const struct i915_subtest tests [ ] { SUBTEST ( igt_evict_something ) SUBTEST ( igt_evict_for_vma ) SUBTEST ( igt_evict_for_cache_color ) SUBTEST ( igt_evict_vm ) SUBTEST ( igt_overcommit ) } ; ; struct drm_i915_private * i915 ; intel_wakeref_t wakeref ; int err = 0 ; i915 = mock_gem_device ( ) ; if ( ! i915 ) { return - ENOMEM ; } with_intel_runtime_pm ( , ) err = i915_subtests ( tests , to_gt ( i915 ) ) ; return err ; } 