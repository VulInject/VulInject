MpSaveSerialInfo ( , , ) { ACPI_SERIAL_INFO * Info ; UINT16 Address ; UINT32 Speed ; if ( Resource -> DescriptorType != ACPI_RESOURCE_NAME_SERIAL_BUS ) { return ; } switch ( Resource -> CommonSerialBus . Type ) { case AML_RESOURCE_I2C_SERIALBUSTYPE : Address = Resource -> I2cSerialBus . SlaveAddress ; Speed = Resource -> I2cSerialBus . ConnectionSpeed ; break ; case AML_RESOURCE_SPI_SERIALBUSTYPE : Address = Resource -> SpiSerialBus . DeviceSelection ; Speed = Resource -> SpiSerialBus . ConnectionSpeed ; break ; case AML_RESOURCE_UART_SERIALBUSTYPE : Address = 0 ; Speed = Resource -> UartSerialBus . DefaultBaudRate ; break ; default : return ; } Info = MpCreateSerialInfo ( DeviceName , Address ) ; Info -> Op = Op ; Info -> DeviceName = DeviceName ; Info -> Resource = Resource ; Info -> Address = Address ; Info -> Speed = Speed ; } 