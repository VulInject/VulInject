gimp_user_units_free ( ) { GList * list ; for ( list = gimp -> user_units ; list ; list = g_list_next ( list ) ) { GimpUnitDef * user_unit = list -> data ; g_free ( user_unit -> identifier ) ; g_free ( user_unit -> abbreviation ) ; g_free ( user_unit -> singular ) ; g_free ( user_unit -> plural ) ; g_slice_free ( GimpUnitDef , user_unit ) ; } g_list_free ( gimp -> user_units ) ; gimp -> user_units = NULL ; gimp -> n_user_units = 0 ; } 