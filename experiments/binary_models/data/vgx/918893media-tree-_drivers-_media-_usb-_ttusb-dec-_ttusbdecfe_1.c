struct dvb_frontend * ttusbdecfe_dvbs_attach ( const struct ttusbdecfe_config * config ) { struct ttusbdecfe_state * state = NULL ; state = kmalloc ( sizeof ( ttusbdecfe_state ) , GFP_KERNEL ) ; state -> config = config ; state -> voltage = 0 ; state -> hi_band = 0 ; memcpy ( & state -> frontend . ops , & ttusbdecfe_dvbs_ops , sizeof ( dvb_frontend_ops ) ) ; state -> frontend . demodulator_priv = state ; return & state -> frontend ; } 