static inline void perf_callchain ( struct perf_callchain_entry_ctx * entry , struct pt_regs * regs ) { struct KBacktraceIterator kbt ; unsigned int i ; unsigned long handle_syscall_pc = handle_syscall_link_address ( ) ; KBacktraceIterator_init ( & kbt , regs ) ; kbt . profile = 1 ; if ( KBacktraceIterator_end ( & kbt ) ) { return ; } KBacktraceIterator_next ( & kbt ) ; for ( i = 0 ; i < 16 ; ++ i ) { unsigned long pc ; if ( KBacktraceIterator_end ( & kbt ) ) { break ; } pc = kbt . it . pc ; if ( pc != handle_syscall_pc ) { perf_callchain_store ( entry , pc ) ; } KBacktraceIterator_next ( & kbt ) ; } } 