static int sfxge_tx_mapping_ctor ( void * buf , void * arg , int kmflags ) { sfxge_tx_mapping_t * stmp = buf ; sfxge_t * sp = arg ; dev_info_t * dip = sp -> s_dip ; int rc ; bzero ( buf , sizeof ( sfxge_tx_mapping_t ) ) ; stmp -> stm_sp = sp ; rc = ddi_dma_alloc_handle ( dip , & sfxge_tx_mapping_dma_attr , ( kmflags == KM_SLEEP ) ?DDI_DMA_SLEEP : DDI_DMA_DONTWAIT , NULL , & ( stmp -> stm_dma_handle ) ) ; if ( rc != DDI_SUCCESS ) { fail1 } return ( 0 ) ; fail1 DTRACE_PROBE1 ( fail1 , int , rc ) ; SFXGE_OBJ_CHECK ( stmp , sfxge_tx_mapping_t ) ; return ( - 1 ) ; } 