static int pie_init ( struct Qdisc * sch , struct nlattr * opt ) { struct pie_sched_data * q = qdisc_priv ( sch ) ; pie_params_init ( & q -> params ) ; pie_vars_init ( & q -> vars ) ; sch -> limit = q -> params . limit ; setup_timer ( & q -> adapt_timer , pie_timer , ( unsigned long ) sch ) ; if ( opt ) { int err = pie_change ( sch , opt ) ; } mod_timer ( & q -> adapt_timer , jiffies + HZ / 2 ) ; return 0 ; } 