static int sort_type_syntax_by_mime_type ( const void * a , const void * b ) { int rc ; const char * mime_type_a = ( ( type_syntax * ) a ) -> mime_type ; const char * mime_type_b = ( ( type_syntax * ) b ) -> mime_type ; if ( ! mime_type_a || ! mime_type_b ) { return ( mime_type_a ) ?1 : - 1 ; } rc = strcmp ( mime_type_a , mime_type_b ) ; if ( rc ) { return rc ; } return ( ( type_syntax * ) b ) -> q - ( ( type_syntax * ) a ) -> q ; } 