static void func_invite ( struct cell * t , struct sip_msg * msg , int code , void * param ) { int i ; if ( ! check_transaction_quadruple ( msg ) ) { return ; } i = encode_contact ( msg , "enc_prefix" , "193.175.135.38" ) ; fprintf ( stdout , "decode/encode = returned %d\n" , i ) ; fflush ( stdout , NULL ) ; if ( t -> is_invite ) { if ( msg -> buf != NULL ) { fprintf ( stdout , "INVITE:received \n%s\n" , msg -> buf ) ; fflush ( stdout ) ; i = sdp_mangle_port ( msg , "1000" , NULL ) ; fprintf ( stdout , "sdp_mangle_port returned %d\n" , i ) ; fflush ( stdout ) ; i = sdp_mangle_ip ( msg , "10.0.0.0/16" , "123.124.125.126" ) ; fprintf ( stdout , "sdp_mangle_ip returned %d\n" , i ) ; fflush ( stdout ) ; } else { fprintf ( stdout , "INVITE:received NULL\n" ) ; } fflush ( stdout ) ; } else { fprintf ( stdout , "NOT INVITE(REGISTER?) received \n%s\n" , msg -> buf ) ; fflush ( stdout ) ; } fflush ( stdout ) ; } 