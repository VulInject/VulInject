EXPORTED off_t arrayu64_bsearch ( const arrayu64_t * au , uint64_t val ) { if ( ! au -> count ) { return - 1 ; } size_t low = 0 ; size_t high = au -> count - 1 ; while ( low <= high ) { off_t mid = ( high - low ) / 2 + low ; uint64_t this = arrayu64_nth ( au , mid ) ; if ( this > val ) { high = mid - 1 ; } else { low = mid + 1 ; } } return - 1 ; } 