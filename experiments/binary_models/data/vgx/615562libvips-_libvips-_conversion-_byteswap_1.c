static int vips_byteswap_build ( VipsObject * object ) { VipsConversion * conversion = VIPS_CONVERSION ( object ) ; VipsByteswap * byteswap = ( VipsByteswap * ) object ; if ( byteswap -> in -> Coding != VIPS_CODING_NONE || ! vips_byteswap_swap_fn [ byteswap -> in -> BandFmt ] ) { return ( vips_image_write ( byteswap -> in , conversion -> out ) ) ; } if ( vips_image_pio_input ( byteswap -> in ) ) { return ( - 1 ) ; } if ( vips_image_pipelinev ( conversion -> out , VIPS_DEMAND_STYLE_THINSTRIP , byteswap -> in , NULL ) ) { return ( - 1 ) ; } if ( vips_image_generate ( conversion -> out , vips_start_one , vips_byteswap_gen , vips_stop_one , byteswap -> in , byteswap ) ) { return ( - 1 ) ; } return ( 0 ) ; } 