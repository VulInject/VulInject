int snd_vx_resume ( struct vx_core * chip ) { int i , err ; chip -> chip_status &= ~ VX_STAT_CHIP_INIT ; for ( i = 0 ; i < 4 ; i ++ ) { err = chip -> ops -> load_dsp ( chip , i , chip -> firmware [ i ] ) ; if ( err < 0 ) { snd_printk ( KERN_ERR "vx: firmware resume error at DSP %d\n" , i ) ; return - EIO ; } } chip -> chip_status |= VX_STAT_CHIP_INIT ; chip -> chip_status &= ~ VX_STAT_IN_SUSPEND ; snd_power_change_state ( chip -> card , SNDRV_CTL_POWER_D0 ) ; return 0 ; } 