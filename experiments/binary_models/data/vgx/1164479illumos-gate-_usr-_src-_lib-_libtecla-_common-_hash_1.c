static HashBucket * _find_HashBucket ( HashTable * hash , const char * name ) static int _ht_lower_strcmp ( const char * node_key , const char * look_key ) static int _ht_strcmp ( const char * node_key , const char * look_key ) HashMemory * _new_HashMemory ( int hash_count , int node_count ) { HashMemory * mem ; mem = ( HashMemory * ) malloc ( sizeof ( HashMemory ) ) ; if ( ! mem ) { errno = ENOMEM ; return NULL ; } mem -> hash_memory = NULL ; mem -> node_memory = NULL ; mem -> string_memory = NULL ; mem -> hash_memory = _new_FreeList ( sizeof ( HashTable ) , hash_count ) ; mem -> node_memory = _new_FreeList ( sizeof ( HashNode ) , node_count ) ; if ( ! mem -> node_memory ) { return _del_HashMemory ( mem , 1 ) ; } mem -> string_memory = _new_StringMem ( 64 ) ; if ( ! mem -> string_memory ) { return _del_HashMemory ( mem , 1 ) ; } return mem ; } 