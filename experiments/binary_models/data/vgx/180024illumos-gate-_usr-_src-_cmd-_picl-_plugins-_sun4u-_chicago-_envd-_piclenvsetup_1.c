static int get_disk_temp ( ptree_rarg_t * parg , void * buf ) { tempr_t temp ; picl_prophdl_t proph ; disk_node_t * dnodep ; int i ; proph = parg -> proph ; for ( i = 0 ; i < N_DISK_NODES ; i ++ ) { dnodep = & disk_nodes [ i ] ; if ( disk_temperature ( dnodep -> diskp , & temp ) < 0 ) { break ; } ( void ) memcpy ( buf , ( caddr_t ) & temp , sizeof ( tempr_t ) ) ; return ( PICL_SUCCESS ) ; } return ( PICL_FAILURE ) ; } 