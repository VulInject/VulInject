void debug_dma_mapping_error ( struct device * dev , dma_addr_t dma_addr ) { struct dma_debug_entry ref ; struct dma_debug_entry * entry ; struct hash_bucket * bucket ; unsigned long flags ; ref . dev = dev ; ref . dev_addr = dma_addr ; bucket = get_hash_bucket ( & ref , & flags ) ; list_for_each_entry ( , , ) { if ( ! exact_match ( & ref , entry ) ) { continue ; } if ( entry -> map_err_type == MAP_ERR_NOT_CHECKED ) { entry -> map_err_type = MAP_ERR_CHECKED ; break ; } } put_hash_bucket ( bucket , flags ) ; } 