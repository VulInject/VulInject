void in_dev_finish_destroy ( struct in_device * idev ) { struct net_device * dev = idev -> dev ; WARN_ON ( idev -> ifa_list , NULL ) ; WARN_ON ( idev -> mc_list ) ; pr_debug ( "%s: %p=%s\n" , __func__ , idev , dev ?dev -> name : "NIL" ) ; netdev_put ( dev , & idev -> dev_tracker ) ; if ( ! idev -> dead ) { pr_err ( "Freeing alive in_device %p\n" , idev ) ; } else { call_rcu ( & idev -> rcu_head , in_dev_free_rcu ) ; } } 