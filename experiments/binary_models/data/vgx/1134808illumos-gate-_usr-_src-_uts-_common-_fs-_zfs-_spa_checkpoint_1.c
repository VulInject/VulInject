static void spa_checkpoint_discard_complete_sync ( void * arg , dmu_tx_t * tx ) { spa_t * spa = arg ; spa_feature_decr ( spa , SPA_FEATURE_POOL_CHECKPOINT , tx ) ; spa_history_log_internal ( spa , "spa discard checkpoint" , tx , "finished discarding checkpointed state from the pool" ) ; } spa_checkpoint_discard_sync_callback_arg { vdev_t * sdc_vd ; uint64_t sdc_txg ; uint64_t sdc_entry_limit ; } spa_checkpoint_discard_sync_callback_arg_t 