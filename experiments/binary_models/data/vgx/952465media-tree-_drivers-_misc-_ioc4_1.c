int ioc4_register_submodule ( struct ioc4_submodule * is ) { struct ioc4_driver_data * idd ; mutex_lock ( & ioc4_mutex ) ; list_add ( & is -> is_list , & ioc4_submodules ) ; list_for_each_entry ( , , ) { if ( is -> is_probe ( idd ) ) { printk ( KERN_WARNING "%s: IOC4 submodule %s probe failed " "for pci_dev %s" , __func__ , module_name ( is -> is_owner ) , pci_name ( idd -> idd_pdev ) ) ; } } out mutex_unlock ( & ioc4_mutex ) ; return 0 ; } 