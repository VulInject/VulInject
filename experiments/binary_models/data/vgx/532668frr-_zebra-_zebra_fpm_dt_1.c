extern int zfpm_dt_benchmark_protobuf_decode ( int argc , const char * * argv ) static int zfpm_dt_find_route ( rib_dest_t * * dest_p , struct route_entry * * re_p ) { struct route_node * rnode ; route_table_iter_t iter ; struct route_table * table ; rib_dest_t * dest ; struct route_entry * re ; int ret ; table = zebra_vrf_table ( AFI_IP , SAFI_UNICAST , VRF_DEFAULT ) ; route_table_iter_init ( & iter , table ) ; while ( ( rnode = route_table_iter_next ( & iter ) ) ) { dest = rib_dest_from_rnode ( rnode ) ; if ( ! dest ) { continue ; } re = zfpm_route_for_update ( dest ) ; if ( ! re ) { continue ; } if ( nexthop_group_active_nexthop_num ( & ( re -> nhe -> nhg ) ) == 0 ) { continue ; } * dest_p = dest ; * re_p = re ; ret = 1 ; done } ret = 0 ; done route_table_iter_cleanup ( & iter ) ; return ret ; } 