static int pcm_capture_trigger ( struct snd_pcm_substream * substream , int cmd ) { struct snd_bebob * bebob = substream -> private_data ; switch ( cmd ) { case SNDRV_PCM_TRIGGER_START : amdtp_stream_pcm_trigger ( & bebob -> tx_stream , substream ) ; break ; case SNDRV_PCM_TRIGGER_STOP : amdtp_stream_pcm_trigger ( & bebob -> tx_stream ) ; break ; default : return - EINVAL ; } return 0 ; } 