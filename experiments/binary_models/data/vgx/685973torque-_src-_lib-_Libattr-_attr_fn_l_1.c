int encode_l ( pbs_attribute * attr , tlist_head * phead , const char * atname , const char * rsname , int UNUSED ( mode ) , int UNUSED ( perm ) ) { size_t ct ; char cvnbuf [ ENCODE_L_BUF_SIZE ] ; svrattrl * pal ; if ( ! ( attr -> at_flags & ATR_VFLAG_SET ) ) { return ( 0 ) ; } sprintf ( cvnbuf , "%ld" , attr -> at_val . at_long ) ; ct = strlen ( cvnbuf ) ; pal = attrlist_create ( atname , rsname , ct + 1 ) ; if ( pal == ( svrattrl * ) 0 ) { return ( - 1 ) ; } memcpy ( pal -> al_value , cvnbuf , ct ) ; pal -> al_flags = attr -> at_flags ; append_link ( phead , & pal -> al_link , pal ) ; return ( 1 ) ; } , int set_l ( pbs_attribute * attr , pbs_attribute * new_attr , batch_op op ) 