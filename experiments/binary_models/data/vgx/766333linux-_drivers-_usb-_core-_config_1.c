static bool config_endpoint_is_duplicate ( struct usb_host_config * config , int inum , int asnum , struct usb_endpoint_descriptor * d ) { struct usb_endpoint_descriptor * epd ; struct usb_interface_cache * intfc ; struct usb_host_interface * alt ; int i , j , k ; for ( i = 0 ; i < config -> desc . bNumInterfaces ; ++ i ) { intfc = config -> intf_cache [ i ] ; for ( j = 0 ; j < intfc -> num_altsetting ; ++ j ) { alt = & intfc -> altsetting [ j ] ; for ( k = 0 ; k < alt -> desc . bNumEndpoints ; ++ k ) { epd = & alt -> endpoint [ k ] . desc ; if ( endpoint_is_duplicate ( epd , d ) ) { return true ; } } } } return false ; } 