static void show_queues ( struct Scsi_Host * shpnt ) { Scsi_Cmnd * ptr ; unsigned long flags ; DO_LOCK ( flags ) ; printk ( KERN_DEBUG "\nqueue status:\nissue_SC:\n" ) ; for ( ptr = ISSUE_SC ; ptr ; ptr = SCNEXT ( ptr ) ) { show_command ( ptr ) ; } DO_UNLOCK ( flags ) ; printk ( KERN_DEBUG "current_SC:\n" ) ; if ( CURRENT_SC ) { show_command ( CURRENT_SC ) ; } else { printk ( KERN_DEBUG "none\n" ) ; } printk ( KERN_DEBUG "disconnected_SC:\n" ) ; for ( ptr = DISCONNECTED_SC ; ptr ; ptr = SCDATA ( ptr ) ?SCNEXT ( ptr ) : NULL ) { show_command ( ptr ) ; } disp_enintr ( shpnt , NULL ) ; } 