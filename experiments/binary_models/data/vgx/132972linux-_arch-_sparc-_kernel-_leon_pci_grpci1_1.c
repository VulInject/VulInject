static int grpci1_write_config ( struct pci_bus * bus , unsigned int devfn , int where , int size , u32 val ) { struct grpci1_priv * priv = grpci1priv ; int busno = bus -> number ; if ( PCI_SLOT ( devfn ) > 15 || busno > 15 ) { return 0 ; } printk ( KERN_INFO "grpci1_write_config: [%02x:%02x:%x] ofs=%d size=%d val=%x\n" , busno , PCI_SLOT ( devfn ) , PCI_FUNC ( devfn ) , where , size , val ) ; switch ( size ) { default : return - EINVAL ; case 1 : return grpci1_cfg_w8 ( priv , busno , devfn , where , val ) ; case 2 : return grpci1_cfg_w16 ( priv , busno , devfn , where , val ) ; case 4 : return grpci1_cfg_w32 ( priv , busno , devfn , where , val ) ; } } 