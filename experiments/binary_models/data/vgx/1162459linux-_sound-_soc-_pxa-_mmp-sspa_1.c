static int mmp_sspa_set_dai_pll ( struct snd_soc_dai * cpu_dai , int pll_id , int source , unsigned int freq_in , unsigned int freq_out ) { struct sspa_priv * sspa = snd_soc_dai_get_drvdata ( cpu_dai ) ; struct device * dev = cpu_dai -> component -> dev ; int ret = 0 ; switch ( pll_id ) { case MMP_SYSCLK : ret = clk_set_rate ( sspa -> sysclk , freq_out ) ; if ( ret ) { return ret ; } break ; case MMP_SSPA_CLK : ret = clk_set_rate ( sspa -> clk , freq_out ) ; if ( ret ) { return ret ; } break ; default : return - ENODEV ; } return 0 ; } 