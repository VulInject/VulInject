static int ti_dma_xbar_probe ( struct platform_device * pdev ) { const struct of_device_id * match ; int ret ; match = of_match_node ( ti_dma_xbar_match , pdev -> dev . of_node ) ; switch ( * ( u32 * ) match -> data ) { case TI_XBAR_DRA7 : ret = ti_dra7_xbar_probe ( pdev ) ; break ; case TI_XBAR_AM335X : ret = ti_am335x_xbar_probe ( pdev ) ; break ; default : dev_err ( & pdev -> dev , "Unsupported crossbar\n" ) ; ret = - ENODEV ; break ; } return ret ; } 