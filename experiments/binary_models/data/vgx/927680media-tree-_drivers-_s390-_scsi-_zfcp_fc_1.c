int zfcp_fc_gs_setup ( struct zfcp_adapter * adapter ) { struct zfcp_fc_wka_ports * wka_ports ; wka_ports = kzalloc ( sizeof ( zfcp_fc_wka_ports ) , GFP_KERNEL ) ; adapter -> gs = wka_ports ; zfcp_fc_wka_port_init ( & wka_ports -> ms , FC_FID_MGMT_SERV , adapter ) ; zfcp_fc_wka_port_init ( & wka_ports -> ts , FC_FID_TIME_SERV , adapter ) ; zfcp_fc_wka_port_init ( & wka_ports -> ds , FC_FID_DIR_SERV , adapter ) ; zfcp_fc_wka_port_init ( & wka_ports -> as , FC_FID_ALIASES , adapter ) ; return 0 ; } 