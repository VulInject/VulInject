void cx88_vdev_init ( struct cx88_core * core , struct pci_dev * pci , struct video_device * vfd , const struct video_device * template_ , const char * type ) { * vfd = * template_ ; vfd -> v4l2_dev = & core -> v4l2_dev ; vfd -> dev_parent = & pci -> dev ; vfd -> release = video_device_release_empty ; vfd -> lock = & core -> lock ; sprintf ( vfd -> name , "%s %s (%s)" , core -> name , type , core -> board . name ) ; } 