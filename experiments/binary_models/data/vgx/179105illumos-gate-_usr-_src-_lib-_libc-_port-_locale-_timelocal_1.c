struct locdata * __lc_time_load ( const char * name ) { struct locdata * ldata ; struct lc_time * ltime ; int ret ; if ( ( ldata = __locdata_alloc ( name , sizeof ( * ltime ) ) ) == NULL ) { errno = EINVAL ; return ( NULL ) ; } ltime = ldata -> l_data [ 0 ] ; ret = __part_load_locale ( name , ( char * * ) & ldata -> l_data [ 1 ] , "LC_TIME" , LCTIME_SIZE , LCTIME_SIZE , ( const char * * ) ltime ) ; if ( ret != _LDP_LOADED ) { errno = EINVAL ; return ( NULL ) ; } return ( ldata ) ; } 