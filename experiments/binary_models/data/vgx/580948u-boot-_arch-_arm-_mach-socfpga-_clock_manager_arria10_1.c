static int cm_is_pll_ramp_required ( int main0periph1 , struct mainpll_cfg * main_cfg , struct perpll_cfg * per_cfg ) { if ( main0periph1 == 0 ) { if ( main_cfg -> mpuclk_src != CLKMGR_MAINPLL_MPUCLK_SRC_MAIN && main_cfg -> nocclk_src != CLKMGR_MAINPLL_NOCCLK_SRC_MAIN ) { return 0 ; } if ( main_cfg -> nocclk_src == CLKMGR_MAINPLL_NOCCLK_SRC_MAIN && ( cm_calc_handoff_noc_clk_hz ( main_cfg , per_cfg ) > CLKMGR_PLL_RAMP_NOCCLK_THRESHOLD_HZ ) ) { return 2 ; } } if ( main0periph1 == 1 ) { if ( main_cfg -> mpuclk_src != CLKMGR_MAINPLL_MPUCLK_SRC_PERI && main_cfg -> nocclk_src != CLKMGR_MAINPLL_NOCCLK_SRC_PERI ) { return 0 ; } if ( main_cfg -> mpuclk_src == CLKMGR_MAINPLL_MPUCLK_SRC_PERI && ( cm_calc_handoff_mpu_clk_hz ( main_cfg , per_cfg ) > CLKMGR_PLL_RAMP_MPUCLK_THRESHOLD_HZ ) ) { return 1 ; } if ( main_cfg -> nocclk_src == CLKMGR_MAINPLL_NOCCLK_SRC_PERI && ( cm_calc_handoff_noc_clk_hz ( main_cfg , per_cfg ) > CLKMGR_PLL_RAMP_NOCCLK_THRESHOLD_HZ ) ) { return 2 ; } } return 0 ; } 