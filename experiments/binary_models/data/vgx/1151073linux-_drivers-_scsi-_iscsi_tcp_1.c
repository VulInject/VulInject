static void iscsi_sw_tcp_recv_data_work ( struct work_struct * work ) { struct iscsi_conn * conn = container_of ( work , iscsi_conn , recvwork ) ; struct iscsi_tcp_conn * tcp_conn = conn -> dd_data ; struct iscsi_sw_tcp_conn * tcp_sw_conn = tcp_conn -> dd_data ; struct sock * sk = tcp_sw_conn -> sock -> sk ; lock_sock ( sk ) ; iscsi_sw_tcp_recv_data ( conn , NULL ) ; release_sock ( sk ) ; } 