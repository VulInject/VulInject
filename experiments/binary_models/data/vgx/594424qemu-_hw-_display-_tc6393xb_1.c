static void tc6393xb_scr_writeb ( TC6393xbState * s , hwaddr addr , uint32_t value ) { switch ( addr ) { SCR_REG_B ( ISR ) ; SCR_REG_B ( IMR ) ; SCR_REG_B ( IRR ) ; SCR_REG_W ( GPER ) ; SCR_REG_A ( GPI_SR ) ; SCR_REG_A ( GPI_IMR ) ; SCR_REG_A ( GPI_EDER ) ; SCR_REG_A ( GPI_LIR ) ; case SCR_GPO_DSR ( 0 ) : case SCR_GPO_DSR ( 1 ) : case SCR_GPO_DSR ( 2 ) : s -> gpio_level = ( s -> gpio_level & ~ ( 0xff << ( ( addr - SCR_GPO_DSR ( 0 ) ) * 8 ) ) ) | ( ( value & 0xff ) << ( ( addr - SCR_GPO_DSR ( 0 ) ) * 8 ) ) ; tc6393xb_gpio_handler_update ( s ) ; return ; case SCR_GPO_DOECR ( 0 ) : case SCR_GPO_DOECR ( 1 ) : case SCR_GPO_DOECR ( 2 ) : s -> gpio_dir = ( s -> gpio_dir & ~ ( 0xff << ( ( addr - SCR_GPO_DOECR ( 0 ) ) * 8 ) ) ) | ( ( value & 0xff ) << ( ( addr - SCR_GPO_DOECR ( 0 ) ) * 8 ) ) ; tc6393xb_gpio_handler_update ( s ) ; return ; SCR_REG_A ( GP_IARCR , NULL ) ; SCR_REG_A ( GP_IARLCR ) ; SCR_REG_A ( GPI_BCR ) ; SCR_REG_W ( GPA_IARCR ) ; SCR_REG_W ( GPA_IARLCR ) ; SCR_REG_W ( CCR ) ; SCR_REG_W ( PLL2CR ) ; SCR_REG_L ( PLL1CR ) ; SCR_REG_B ( DIARCR ) ; SCR_REG_B ( DBOCR ) ; SCR_REG_B ( FER ) ; SCR_REG_W ( MCR ) ; SCR_REG_B ( CONFIG ) ; SCR_REG_B ( DEBUG ) ; } fprintf ( stderr , "tc6393xb_scr: unhandled write at %08x: %02x\n" , ( uint32_t ) addr , value & 0xff ) ; } 