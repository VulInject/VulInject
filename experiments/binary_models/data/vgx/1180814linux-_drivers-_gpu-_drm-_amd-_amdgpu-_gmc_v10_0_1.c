static void gmc_v10_0_emit_pasid_mapping ( struct amdgpu_ring * ring , unsigned vmid , unsigned pasid ) { struct amdgpu_device * adev = ring -> adev ; uint32_t reg ; if ( ring -> funcs -> vmhub == AMDGPU_GFXHUB_0 ) { reg = SOC15_REG_OFFSET ( OSSSYS , 0 , mmIH_VMID_0_LUT ) + vmid ; } else { reg = SOC15_REG_OFFSET ( OSSSYS , 0 , mmIH_VMID_0_LUT_MM ) + vmid ; } amdgpu_ring_emit_wreg ( ring , reg , pasid ) ; } 