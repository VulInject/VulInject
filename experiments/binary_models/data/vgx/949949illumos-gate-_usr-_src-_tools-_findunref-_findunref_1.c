static int pnset_add ( pnset_t * pnsetp , const char * path ) { char * * newpaths ; unsigned int maxpaths ; if ( pnsetp -> npath == pnsetp -> maxpaths ) { maxpaths = ( pnsetp -> maxpaths == 0 ) ?512 : pnsetp -> maxpaths * 2 ; newpaths = realloc ( pnsetp -> paths , sizeof ( char * ) * maxpaths ) ; pnsetp -> paths = newpaths ; pnsetp -> maxpaths = maxpaths ; } pnsetp -> paths [ pnsetp -> npath ] = strdup ( path ) ; if ( pnsetp -> paths [ pnsetp -> npath ] == NULL ) { return ( 0 ) ; } pnsetp -> npath ++ ; return ( 1 ) ; } 