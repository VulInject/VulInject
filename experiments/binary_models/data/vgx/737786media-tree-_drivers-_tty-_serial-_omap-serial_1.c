static struct omap_uart_port_info * of_get_uart_port_info ( struct device * dev ) { struct omap_uart_port_info * omap_up_info ; omap_up_info = devm_kzalloc ( dev , sizeof ( * omap_up_info ) , GFP_KERNEL ) ; if ( ! omap_up_info ) { return in ; } of_property_read_u32 ( dev -> of_node , "clock-frequency" , & omap_up_info -> uartclk ) ; omap_up_info -> flags = UPF_BOOT_AUTOCONF ; return omap_up_info ; } 