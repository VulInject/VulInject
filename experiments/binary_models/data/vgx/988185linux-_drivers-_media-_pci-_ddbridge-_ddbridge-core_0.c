static VAR1 FUN1(struct VAR2 *VAR3,
__user VAR4 *VAR5, size_t VAR6)
{
struct VAR7 *VAR8 = VAR3->VAR9->VAR8;
u32 VAR10 = VAR6;
u32 VAR11, free, VAR12 = VAR3->VAR13->VAR12;
int VAR14;

VAR11 = (VAR12 >> 11) & 0x1f;

while (VAR10) {
if (VAR3->VAR13->VAR15 == VAR11)
return VAR6 - VAR10;
free = VAR3->VAR13->VAR16 - VAR3->VAR13->VAR17;
if (free > VAR10)
free = VAR10;
if (VAR18)
FUN2(
VAR8->VAR8,
VAR3->VAR13->VAR19[VAR3->VAR13->VAR15],
VAR3->VAR13->VAR16, VAR20);
VAR14 = FUN3(VAR5, VAR3->VAR13->VAR21[VAR3->VAR13->VAR15] +
VAR3->VAR13->VAR17, free);
if (VAR14)
return -VAR22;
VAR3->VAR13->VAR17 += free;
if (VAR3->VAR13->VAR17 == VAR3->VAR13->VAR16) {
VAR3->VAR13->VAR17 = 0;
VAR3->VAR13->VAR15 = (VAR3->VAR13->VAR15 + 1) %
VAR3->VAR13->VAR23;
}
VAR10 -= free;
VAR5 += free;
FUN4(VAR8,
(VAR3->VAR13->VAR15 << 11) | (VAR3->VAR13->VAR17 >> 7),
FUN5(VAR3->VAR13));
}
return VAR6;
}