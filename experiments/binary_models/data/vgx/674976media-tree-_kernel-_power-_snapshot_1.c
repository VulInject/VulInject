static struct page * saveable_highmem_page ( struct zone * zone , unsigned long pfn ) { struct page * page ; if ( ! pfn_valid ( pfn ) ) { return NULL ; } page = pfn_to_page ( pfn ) ; if ( page_zone ( page ) != zone ) { return NULL ; } BUG_ON ( ! PageHighMem ( page ) ) ; if ( swsusp_page_is_forbidden ( page ) || swsusp_page_is_free ( page ) || PageReserved ( page ) ) { return in ; } if ( page_is_guard ( page ) ) { return NULL ; } return page ; } 