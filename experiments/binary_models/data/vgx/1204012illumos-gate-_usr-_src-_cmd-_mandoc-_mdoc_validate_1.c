static void check_toptext ( struct roff_man * mdoc , int ln , int pos , const char * p ) { const char * cp , * cpr ; if ( ( cp = strstr ( p , "OpenBSD" ) ) != NULL ) { mandoc_msg ( MANDOCERR_BX , ln , pos + ( int ) ( cp - p ) , "Ox" ) ; } if ( ( cp = strstr ( p , "NetBSD" ) ) != NULL ) { mandoc_msg ( MANDOCERR_BX , ln , pos + ( int ) ( cp - p ) , "Nx" ) ; } if ( ( cp = strstr ( p , "FreeBSD" ) ) != NULL ) { mandoc_msg ( MANDOCERR_BX , ln , pos + ( int ) ( cp - p ) , "Fx" ) ; } if ( ( cp = strstr ( p , "DragonFly" ) ) != NULL ) { mandoc_msg ( MANDOCERR_BX , ln , pos + ( int ) ( cp - p ) , "Dx" ) ; } cp = p ; while ( ( cp = strstr ( cp + 1 , "()" ) ) != NULL ) { for ( cpr = cp - 1 ; cpr >= p ; cpr -- ) { if ( * cpr != '_' && ! isalnum ( ( unsigned char ) * cpr ) ) { break ; } } if ( ( cpr < p || * cpr == ' ' ) && cpr + 1 < cp ) { cpr ++ ; mandoc_msg ( MANDOCERR_FUNC , ln , pos + ( int ) ( cpr - p ) , "%.*s()" , ( int ) ( cp - cpr ) , cpr ) ; } } } 