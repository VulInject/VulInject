static bool st_sensors_new_samples_available ( struct iio_dev * indio_dev , struct st_sensor_data * sdata ) { int ret , status ; if ( ! indio_dev -> active_scan_mask ) { return false ; } ret = regmap_read ( sdata -> regmap , sdata -> sensor_settings -> drdy_irq . stat_drdy . addr , & status ) ; if ( ret < 0 ) { dev_err ( indio_dev -> dev . parent , "error checking samples available\n" ) ; return false ; } return ! ! ( status & sdata -> sensor_settings -> drdy_irq . stat_drdy . mask ) ; } 