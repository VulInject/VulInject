static inline int WaitUntilBmpLoaded ( struct av7110 * av7110 ) { int ret = wait_event_timeout ( av7110 -> bmpq , av7110 -> bmp_state != BMP_LOADING , 10 * HZ ) ; if ( ret == 0 ) { printk ( "dvb-ttpci: warning: timeout waiting in LoadBitmap: %d, %d\n" , ret , av7110 -> bmp_state ) ; return - ETIMEDOUT ; } return 0 ; } 