reinsert_breakpoint_handler ( ) { struct breakpoint * stop_bp , * orig_bp ; stop_bp = find_breakpoint_at ( stop_pc , NULL ) ; if ( stop_bp == NULL ) { error ( "lost the stopping breakpoint." ) ; } orig_bp = stop_bp -> breakpoint_to_reinsert ; if ( orig_bp == NULL ) { error ( "no breakpoint to reinsert" ) ; } * the_target -> write_memory ( orig_bp -> pc , breakpoint_data , breakpoint_len ) ; orig_bp -> reinserting = 0 ; delete_breakpoint ( stop_bp ) ; } 