time_t clock_ymdhms_to_secs ( struct clock_ymdhms * dt ) { int secs ; int i , year , days ; year = dt -> dt_year ; days = 0 ; for ( i = POSIX_BASE_YEAR ; i < year ; i ++ ) { days += days_in_year ( i ) ; } if ( leapyear ( year ) && dt -> dt_mon > FEBRUARY ) { days ++ ; } for ( i = 1 ; i < dt -> dt_mon ; i ++ ) { days += days_in_month ( i ) ; } days += ( dt -> dt_day - 1 ) ; secs = ( time_t ) ( ( days * 24 + dt -> dt_hour ) * 60 + dt -> dt_min ) * 60 + dt -> dt_sec ; return ( secs ) ; } 