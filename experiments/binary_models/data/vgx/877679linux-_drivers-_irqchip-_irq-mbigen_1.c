MODULE_DEVICE_TABLE ( acpi , mbigen_acpi_match ) ; static int mbigen_acpi_create_domain ( struct platform_device * pdev , struct mbigen_device * mgn_chip ) { struct irq_domain * domain ; u32 num_pins = 0 ; int ret ; ret = device_property_read_u32 ( & pdev -> dev , "num-pins" , & num_pins ) ; domain = platform_msi_create_device_domain ( & pdev -> dev , num_pins , mbigen_write_msg , & mbigen_domain_ops , mgn_chip ) ; if ( ! domain ) { return - ENOMEM ; } return 0 ; } 