native_t unm_niu_disable_gbe_port ( struct unm_adapter_s * adapter ) { native_t port = adapter -> physical_port ; unm_niu_gb_mac_config_0_t mac_cfg0 ; * ( unm_crbword_t * ) & mac_cfg0 = 0 ; mac_cfg0 . soft_reset = 1 ; if ( NX_IS_REVISION_P3 ( adapter -> ahw . revision_id ) ) { adapter -> unm_nic_hw_write_wx ( adapter , UNM_NIU_GB_MAC_CONFIG_0 ( port ) , & mac_cfg0 , 0 ) ; } else { adapter -> unm_nic_hw_write_wx ( adapter , UNM_NIU_GB_MAC_CONFIG_0 ( port ) , & mac_cfg0 , 4 ) ; } return ( 0 ) ; } 