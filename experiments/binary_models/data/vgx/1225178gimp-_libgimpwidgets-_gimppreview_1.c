static void gimp_preview_dispose ( GObject * object ) static void gimp_preview_get_property ( GObject * object , guint property_id , GValue * value , GParamSpec * pspec ) static void gimp_preview_set_property ( GObject * object , guint property_id , const GValue * value , GParamSpec * pspec ) static void gimp_preview_direction_changed ( GtkWidget * widget , GtkTextDirection prev_dir ) static gboolean gimp_preview_popup_menu ( GtkWidget * widget ) static void gimp_preview_area_realize ( GtkWidget * widget , GimpPreview * preview ) static void gimp_preview_area_unrealize ( GtkWidget * widget , GimpPreview * preview ) static void gimp_preview_area_size_allocate ( GtkWidget * widget , GtkAllocation * allocation , GimpPreview * preview ) static void gimp_preview_area_set_cursor ( GimpPreview * preview ) static gboolean gimp_preview_area_event ( GtkWidget * area , GdkEvent * event , GimpPreview * preview ) static void gimp_preview_toggle_callback ( GtkWidget * toggle , GimpPreview * preview ) static void gimp_preview_notify_checks ( GimpPreview * preview ) static gboolean gimp_preview_invalidate_now ( GimpPreview * preview ) static void gimp_preview_real_set_cursor ( GimpPreview * preview ) static void gimp_preview_real_transform ( GimpPreview * preview , gint src_x , gint src_y , gint * dest_x , gint * dest_y ) static void gimp_preview_real_untransform ( GimpPreview * preview , gint src_x , gint src_y , gint * dest_x , gint * dest_y ) G_DEFINE_ABSTRACT_TYPE_WITH_PRIVATE ( , , ) static guint preview_signals [ LAST_SIGNAL ] { 0 } ; ; static void gimp_preview_class_init ( GimpPreviewClass * klass ) { GObjectClass * object_class = G_OBJECT_CLASS ( klass ) ; GtkWidgetClass * widget_class = GTK_WIDGET_CLASS ( klass ) ; parent_class = g_type_class_peek_parent ( klass ) ; preview_signals [ INVALIDATED ] = g_signal_new ( "invalidated" , G_TYPE_FROM_CLASS ( klass ) , G_SIGNAL_RUN_FIRST , G_STRUCT_OFFSET ( GimpPreviewClass , invalidated ) , NULL , NULL , NULL , G_TYPE_NONE , 0 ) ; object_class -> dispose = gimp_preview_dispose ; object_class -> get_property = gimp_preview_get_property ; object_class -> set_property = gimp_preview_set_property ; widget_class -> direction_changed = gimp_preview_direction_changed ; widget_class -> popup_menu = gimp_preview_popup_menu ; klass -> draw_thumb = NULL ; klass -> draw_buffer = NULL ; klass -> set_cursor = gimp_preview_real_set_cursor ; klass -> transform = gimp_preview_real_transform ; klass -> untransform = gimp_preview_real_untransform ; g_object_class_install_property ( object_class , PROP_UPDATE , g_param_spec_boolean ( "update" , "Update" , "Whether the preview should update automatically" , TRUE , GIMP_PARAM_READWRITE | G_PARAM_CONSTRUCT ) ) ; gtk_widget_class_install_style_property ( widget_class , g_param_spec_int ( "size" , "Size" , "The preview's size" , 1 , 1024 , DEFAULT_SIZE , GIMP_PARAM_READABLE ) ) ; } 