static void test_subclass_global_props ( void ) { MyType * mt ; static GlobalProperty props [ ] { { TYPE_STATIC_PROPS "prop1" "101" } { TYPE_SUBCLASS "prop1" "102" } { TYPE_SUBCLASS "prop2" "103" } { TYPE_STATIC_PROPS "prop2" "104" } { } } ; ; register_global_properties ( props ) ; mt = STATIC_TYPE ( object_new ( TYPE_SUBCLASS ) ) ; qdev_realize ( DEVICE ( mt ) , & error_fatal ) ; g_assert_cmpuint ( mt -> prop1 , == , 102 ) ; g_assert_cmpuint ( mt -> prop2 , == , 104 ) ; } 