static void hashmap_report_final ( struct bench_res res [ ] , int res_cnt ) { unsigned int nr_cpus = bpf_num_possible_cpus ( ) ; int i ; for ( i = 0 ; i < nr_cpus ; i ++ ) { u64 time = ctx . skel -> bss -> percpu_time [ i ] ; printf ( "%d:hash_map_full_perf %lld events per sec\n" , i , ctx . skel -> bss -> nr_loops * 1000000000ll / time ) ; } } const struct bench bench_bpf_hashmap_full_update = { . name = "bpf-hashmap-full-update" . validate = validate . setup = setup . producer_thread = producer . consumer_thread = consumer . measure = measure . report_progress = NULL . report_final = hashmap_report_final } ; 