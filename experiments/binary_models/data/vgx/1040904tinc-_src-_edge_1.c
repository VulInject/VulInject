bool dump_edges ( connection_t * c ) { for ( node_t , n , & node_tree ; ) { for ( edge_t , e , & n -> edge_tree ; ) { char * address = sockaddr2hostname ( & e -> address ) ; char * local_address = sockaddr2hostname ( & e -> local_address ) ; send_request ( c , "%d %d %s %s %s %s %x %d" , CONTROL , REQ_DUMP_EDGES , e -> from -> name , e -> to -> name , address , local_address , e -> options , e -> weight ) ; free ( address ) ; } } return send_request ( c , "%d %d" , CONTROL , REQ_DUMP_EDGES ) ; } 