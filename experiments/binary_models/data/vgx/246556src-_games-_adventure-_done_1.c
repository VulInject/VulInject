int score ( void ) { int scor , i ; mxscor = scor = 0 ; for ( i = 50 ; i <= maxtrs ; i ++ ) { k = 12 ; if ( i == chest ) { k = 14 ; } if ( i > chest ) { k = 16 ; } if ( prop [ i ] >= 0 ) { scor += 2 ; } if ( place [ i ] == 3 && prop [ i ] == 0 ) { scor += k - 2 ; } mxscor += k ; } scor += ( maxdie - numdie ) * 10 ; mxscor += maxdie * 10 ; if ( ! ( scorng || gaveup ) ) { scor += 4 ; } mxscor += 4 ; if ( dflag != 0 ) { scor += 25 ; } mxscor += 25 ; if ( closng ) { scor += 25 ; } mxscor += 25 ; if ( closed ) { if ( bonus == 0 ) { scor += 10 ; } if ( bonus == 135 ) { scor += 25 ; } if ( bonus == 134 ) { scor += 30 ; } if ( bonus == 133 ) { scor += 45 ; } } mxscor += 45 ; if ( place [ magzin ] == 108 ) { scor ++ ; } mxscor ++ ; scor += 2 ; mxscor += 2 ; for ( i = 1 ; i <= hntmax ; i ++ ) { if ( hinted [ i ] ) { scor -= hints [ i ] [ 2 ] ; } } return ( scor ) ; } 