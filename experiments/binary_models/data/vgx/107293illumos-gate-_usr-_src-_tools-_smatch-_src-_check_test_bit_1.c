static void match_test_bit ( const char * fn , struct expression * expr , void * data ) { struct expression * arg ; char * macro ; arg = get_argument_from_call_expr ( expr -> args , 0 ) ; arg = strip_expr ( arg ) ; if ( ! arg || arg -> type != EXPR_BINOP ) { return ; } if ( arg -> op != '|' && arg -> op != SPECIAL_LEFTSHIFT ) { return ; } macro = get_macro_name ( arg -> pos ) ; sm_warning ( "test_bit() takes a bit number" ) ; } 