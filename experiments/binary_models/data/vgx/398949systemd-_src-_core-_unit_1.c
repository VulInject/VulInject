int unit_coldplug ( Unit * u ) { int r = 0 , q ; assert ( u ) ; u -> coldplugged = true ; STRV_FOREACH ( , ) { q = bus_unit_track_add_name ( u , * i ) ; if ( q < 0 && r >= 0 ) { r = q ; } } u -> deserialized_refs = strv_free ( u -> deserialized_refs ) ; if ( UNIT_VTABLE ( u ) -> coldplug ) { q = UNIT_VTABLE ( u ) -> coldplug ( u ) ; if ( q < 0 && r >= 0 ) { r = q ; } } if ( u -> job ) { q = job_coldplug ( u -> job ) ; if ( q < 0 && r >= 0 ) { r = q ; } } if ( u -> nop_job ) { q = job_coldplug ( u -> nop_job ) ; if ( q < 0 && r >= 0 ) { r = q ; } } return r ; } 