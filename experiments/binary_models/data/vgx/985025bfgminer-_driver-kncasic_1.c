static void knc_zero_stats ( struct cgpu_info * cgpu ) { int core ; struct knc_state * knc = cgpu -> device_data ; mutex_lock ( & knc -> state_lock ) ; for ( core = 0 ; core < knc -> cores ; core ++ ) { knc -> completed = 0 ; knc -> works = 0 ; knc -> errors = 0 ; knc -> core [ core ] . works = 0 ; knc -> core [ core ] . errors = 0 ; knc -> core [ core ] . shares = 0 ; knc -> core [ core ] . completed = 0 ; } mutex_unlock ( & knc -> state_lock ) ; } 