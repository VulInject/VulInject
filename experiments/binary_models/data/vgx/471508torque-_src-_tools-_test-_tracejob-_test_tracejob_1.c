START_TEST ( ) { struct tm * tm_ptr ; time_t t ; int file_count ; char * filenames [ MAX_LOG_FILES_PER_DAY ] ; const char * prefix_path = "." ; const char * jobid = "625" ; gzFile fp ; struct log_array log = { } ; int i ; t = time ( NULL ) ; tm_ptr = localtime ( & t ) ; ck_assert ( tm_ptr != NULL ) ; tm_ptr -> tm_year = 2016 - 1900 ; tm_ptr -> tm_mon = 10 - 1 ; tm_ptr -> tm_mday = 3 ; file_count = log_path ( ( char * ) prefix_path , 1 , tm_ptr , filenames ) ; ck_assert_int_eq ( file_count , 1 ) ; ck_assert_str_eq ( filenames [ 0 ] , "./server_logs/20161003" ) ; } 