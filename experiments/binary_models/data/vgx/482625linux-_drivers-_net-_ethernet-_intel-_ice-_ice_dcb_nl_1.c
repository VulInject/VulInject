static u8 ice_dcbnl_get_cap ( struct net_device * netdev , int capid , u8 * cap ) { struct ice_pf * pf = ice_netdev_to_pf ( netdev ) ; switch ( capid ) { case DCB_CAP_ATTR_PG : * cap = true ; break ; case DCB_CAP_ATTR_PFC : * cap = true ; break ; case DCB_CAP_ATTR_UP2TC : * cap = false ; break ; case DCB_CAP_ATTR_PG_TCS : * cap = 0x80 ; break ; case DCB_CAP_ATTR_PFC_TCS : * cap = 0x80 ; break ; case DCB_CAP_ATTR_GSP : * cap = false ; break ; case DCB_CAP_ATTR_BCN : * cap = false ; break ; case DCB_CAP_ATTR_DCBX : * cap = pf -> dcbx_cap ; break ; default : * cap = false ; break ; } dev_dbg ( ice_pf_to_dev ( pf ) , "DCBX Get Capability cap=%d capval=0x%x\n" , capid , * cap ) ; return 0 ; } 