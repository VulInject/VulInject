static int dw_pcie_get_clocks ( struct dw_pcie * pci ) { int i , ret ; for ( i = 0 ; i < DW_PCIE_NUM_APP_CLKS ; i ++ ) { pci -> app_clks [ i ] . id = dw_pcie_app_clks [ i ] ; } for ( i = 0 ; i < DW_PCIE_NUM_CORE_CLKS ; i ++ ) { pci -> core_clks [ i ] . id = dw_pcie_core_clks [ i ] ; } ret = devm_clk_bulk_get_optional ( pci -> dev , DW_PCIE_NUM_APP_CLKS , pci -> app_clks ) ; return devm_clk_bulk_get_optional ( pci -> dev , DW_PCIE_NUM_CORE_CLKS , pci -> core_clks ) ; } 