void ld_init_sighandler ( Ofl_desc * ofl ) { struct sigaction nact , oact ; Signals * sigs ; Ofl = ofl ; nact . sa_sigaction = handler ; ( void ) sigemptyset ( & nact . sa_mask ) ; for ( sigs = signals ; sigs -> signo ; sigs ++ ) { if ( ( sigaction ( sigs -> signo , NULL , & oact ) == 0 ) && ( oact . sa_handler != SIG_IGN ) ) { nact . sa_flags = SA_SIGINFO ; if ( sigs -> defhdl == SIG_DFL ) { nact . sa_flags |= ( SA_RESETHAND | SA_NODEFER ) ; } ( void ) sigaction ( sigs -> signo , & nact , NULL ) ; } } } 