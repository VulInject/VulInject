static int sun8i_phy_clk_set_parent ( struct clk_hw * hw , u8 index ) { struct sun8i_phy_clk * priv = hw_to_phy_clk ( hw ) ; regmap_update_bits ( priv -> phy -> regs , SUN8I_HDMI_PHY_PLL_CFG1_REG , SUN8I_HDMI_PHY_PLL_CFG1_CKIN_SEL_MSK , index << SUN8I_HDMI_PHY_PLL_CFG1_CKIN_SEL_SHIFT ) ; return 0 ; } static const struct clk_ops sun8i_phy_clk_ops = { . determine_rate = sun8i_phy_clk_determine_rate . recalc_rate = sun8i_phy_clk_recalc_rate . set_rate = sun8i_phy_clk_set_rate . get_parent = sun8i_phy_clk_get_parent . set_parent = sun8i_phy_clk_set_parent } ; 