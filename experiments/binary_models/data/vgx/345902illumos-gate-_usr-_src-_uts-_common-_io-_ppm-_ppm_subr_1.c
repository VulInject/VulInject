char * ppm_get_ctlstr ( int ctlop , uint_t mask ) { ctlop_cmd { uint_t flags ; int ctlop ; char * str ; } struct ctlop_cmd * ccp ; static struct ctlop_cmd cmds [ ] { FLINTSTR ( D_SETPWR , PMR_SET_POWER ) FLINTSTR ( D_CTLOPS2 , PMR_SUSPEND ) FLINTSTR ( D_CTLOPS2 , PMR_RESUME ) FLINTSTR ( D_CTLOPS2 , PMR_PRE_SET_POWER ) FLINTSTR ( D_CTLOPS2 , PMR_POST_SET_POWER ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_SET_POWER ) FLINTSTR ( 0 , PMR_PPM_ATTACH ) FLINTSTR ( 0 , PMR_PPM_DETACH ) FLINTSTR ( D_CTLOPS1 , PMR_PPM_POWER_CHANGE_NOTIFY ) FLINTSTR ( D_CTLOPS1 , PMR_REPORT_PMCAP ) FLINTSTR ( D_CTLOPS1 , PMR_CHANGED_POWER ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_INIT_CHILD ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_UNINIT_CHILD ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_PRE_PROBE ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_POST_PROBE ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_PRE_ATTACH ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_POST_ATTACH ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_PRE_DETACH ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_POST_DETACH ) FLINTSTR ( D_CTLOPS1 , PMR_PPM_UNMANAGE ) FLINTSTR ( D_CTLOPS2 , PMR_PPM_PRE_RESUME ) FLINTSTR ( D_CTLOPS1 , PMR_PPM_ALL_LOWEST ) FLINTSTR ( D_LOCKS , PMR_PPM_LOCK_POWER ) FLINTSTR ( D_LOCKS , PMR_PPM_UNLOCK_POWER ) FLINTSTR ( D_LOCKS , PMR_PPM_TRY_LOCK_POWER ) FLINTSTR ( D_LOCKS , PMR_PPM_POWER_LOCK_OWNER ) FLINTSTR ( D_CTLOPS1 | D_CTLOPS2 , PMR_PPM_ENTER_SX ) FLINTSTR ( D_CTLOPS1 | D_CTLOPS2 , PMR_UNKNOWN ) } ; ; for ( ccp = cmds ; ccp -> ctlop != PMR_UNKNOWN ; ccp ++ ) { if ( ctlop == ccp -> ctlop ) { break ; } } return ( NULL ) ; } 