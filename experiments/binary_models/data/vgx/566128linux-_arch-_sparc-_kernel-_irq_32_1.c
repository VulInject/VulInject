char * pdma_vaddr ; EXPORT_SYMBOL ( pdma_vaddr ) ; unsigned long pdma_size ; EXPORT_SYMBOL ( pdma_size ) ; volatile int doing_pdma ; EXPORT_SYMBOL ( doing_pdma ) ; char * pdma_base ; EXPORT_SYMBOL ( pdma_base ) ; unsigned long pdma_areasize ; EXPORT_SYMBOL ( pdma_areasize ) ; void sparc_floppy_irq ( int irq , void * dev_id , struct pt_regs * regs ) { struct pt_regs * old_regs ; old_regs = set_irq_regs ( regs ) ; irq_enter ( ) ; generic_handle_irq ( floppy_irq , NULL ) ; irq_exit ( ) ; set_irq_regs ( old_regs ) ; } 