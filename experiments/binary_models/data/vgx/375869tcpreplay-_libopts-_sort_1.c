static tSuccess must_arg ( tOptions * opts , char * arg_txt , tOptState * pOS , char * * opt_txt , uint32_t * opt_idx ) { switch ( pOS -> optType ) { case TOPT_SHORT : if ( * arg_txt != NUL ) { return SUCCESS ; } break ; case TOPT_LONG : if ( pOS -> pzOptArg != NULL ) { return SUCCESS ; } break ; default : return FAILURE ; } opt_txt [ ( * opt_idx ) ++ ] = opts -> origArgVect [ ( opts -> curOptIdx ) ++ ] ; return SUCCESS ; } 