void operclass_delete ( struct operclass * operclass ) { mowgli_node_t * n ; if ( operclass == NULL ) { return ; } if ( operclass -> flags & OPERCLASS_BUILTIN ) { return ; } slog ( LG_DEBUG , "operclass_delete(): %s" , operclass -> name ) ; mowgli_node_delete ( & operclass -> node , & operclasslist ) ; MOWGLI_ITER_FOREACH ( , ) { struct soper * soper = n -> data ; if ( soper -> operclass == operclass ) { soper -> operclass = NULL ; } } sfree ( operclass -> name ) ; mowgli_heap_free ( operclass_heap , operclass ) ; cnt . operclass -- ; } 