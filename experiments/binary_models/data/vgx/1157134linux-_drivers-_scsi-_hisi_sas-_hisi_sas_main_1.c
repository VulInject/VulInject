static void hisi_sas_tmf_aborted ( struct sas_task * task ) { struct hisi_sas_slot * slot = task -> lldd_task ; struct domain_device * device = task -> dev ; struct hisi_sas_device * sas_dev = device -> lldd_dev ; struct hisi_hba * hisi_hba = sas_dev -> hisi_hba ; if ( slot ) { struct hisi_sas_cq * cq = & hisi_hba -> cq [ slot -> dlvry_queue ] ; synchronize_irq ( cq -> irq_no , NULL ) ; slot -> task = NULL ; } } 