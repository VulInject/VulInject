static int FUN1(struct VAR1 *VAR2, struct VAR3 *VAR4)
{
u32 VAR5;
u32 VAR6;
u32 VAR7;
u32 VAR8;
VAR9 *VAR10;
dma_addr_t VAR11;
struct VAR12 *VAR13 = FUN2(VAR4);
struct VAR14 *VAR15;

VAR6 = FUN3(VAR2)->VAR16;
VAR15 = &VAR13->VAR17[VAR13->VAR18];

if (FUN4(VAR13, VAR6)) {
if (!FUN5(VAR4))
FUN6(VAR4);
return VAR19;
}

if (VAR2->VAR20 == VAR21) {
if (VAR13->VAR22 & VAR23) {

VAR15->VAR24 |= 2;
} else if (VAR13->VAR22 & VAR25) {
VAR7 = FUN7(VAR2);
VAR8 = VAR7 + VAR2->VAR26;

VAR15->VAR24 |= 1;
VAR15->VAR27 = (VAR7 << 16) | VAR8;
}
} else if (VAR2->VAR20 == VAR28) {
VAR15->VAR24 |= 2; 
}

VAR15->VAR29 = FUN8(VAR2) | VAR30;
VAR15->VAR31 = FUN9(VAR4->VAR32.VAR33, VAR2->VAR34,
FUN8(VAR2), VAR35);

for (VAR5 = 0; VAR5 < VAR6; VAR5++) {
++VAR13->VAR18;
VAR13->VAR18 %= VAR36;
VAR15 = &VAR13->VAR17[VAR13->VAR18];
VAR10 = &FUN3(VAR2)->VAR37[VAR5];
VAR15->VAR31 = FUN9(VAR4->VAR32.VAR33,
FUN10(VAR10),
FUN11(VAR10),
VAR35);
VAR15->VAR29 = FUN11(VAR10);
}

VAR15->VAR29 |= VAR38;
VAR15->VAR39 = (unsigned long)VAR2;

VAR11 = VAR13->VAR40 + sizeof(*VAR13->VAR17) * VAR13->VAR18;

FUN12(VAR13, VAR41, VAR11);
++VAR13->VAR18;
VAR13->VAR18 %= VAR36;

return VAR42;
}