int irlap_insert_qos_negotiation_params ( struct irlap_cb * self , struct sk_buff * skb ) { int ret ; ret = irda_param_insert ( self , PI_BAUD_RATE , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_MAX_TURN_TIME , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_DATA_SIZE , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_WINDOW_SIZE , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_ADD_BOFS , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_MIN_TURN_TIME , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; ret = irda_param_insert ( self , PI_LINK_DISC , skb_tail_pointer ( skb ) , skb_tailroom ( skb ) , & irlap_param_info ) ; if ( ret < 0 ) { return ret ; } skb_put ( skb , ret ) ; return 0 ; } 