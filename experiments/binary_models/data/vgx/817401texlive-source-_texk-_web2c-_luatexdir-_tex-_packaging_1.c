scaled char_pw ( halfword p , int side ) { internal_font_number f ; int c , w ; if ( side == left_side ) { last_leftmost_char = null ; } else { last_rightmost_char = null ; } if ( p == null ) { return 0 ; } f = font ( p ) ; if ( side == left_side ) { c = get_lp_code ( f , character ( p ) ) ; last_leftmost_char = p ; } else { c = get_rp_code ( f , character ( p ) ) ; last_rightmost_char = p ; } if ( c == 0 ) { return 0 ; } w = quad ( f ) ; return round_xn_over_d ( w , c , 1000 ) ; } 