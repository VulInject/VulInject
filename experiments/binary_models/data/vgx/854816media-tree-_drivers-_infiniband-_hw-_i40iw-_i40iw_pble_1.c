static void i40iw_free_vmalloc_mem ( struct i40iw_hw * hw , struct i40iw_chunk * chunk ) { struct pci_dev * pcidev = ( pci_dev * ) hw -> dev_context ; int i ; if ( ! chunk -> pg_cnt ) { done } for ( i = 0 ; i < chunk -> pg_cnt ; i ++ ) { dma_unmap_page ( & pcidev -> dev , chunk -> dmaaddrs [ i ] , PAGE_SIZE , DMA_BIDIRECTIONAL ) ; } done chunk -> dmaaddrs = NULL ; vfree ( chunk -> vaddr ) ; chunk -> vaddr = NULL ; chunk -> type = 0 ; } 