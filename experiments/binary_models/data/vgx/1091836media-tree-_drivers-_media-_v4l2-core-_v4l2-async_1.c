static LIST_HEAD ( subdev_list ) ; static LIST_HEAD ( notifier_list ) ; static DEFINE_MUTEX ( list_lock ) ; static struct v4l2_async_subdev * v4l2_async_belongs ( struct v4l2_async_notifier * notifier , struct v4l2_subdev * sd ) { bool * match ( struct v4l2_subdev * , struct v4l2_async_subdev * ) struct v4l2_async_subdev * asd ; list_for_each_entry ( , , ) { switch ( asd -> match_type ) { case V4L2_ASYNC_MATCH_CUSTOM : match = match_custom ; break ; case V4L2_ASYNC_MATCH_DEVNAME : match = match_devname ; break ; case V4L2_ASYNC_MATCH_I2C : match = match_i2c ; break ; case V4L2_ASYNC_MATCH_OF : match = match_of ; break ; default : WARN_ON ( true ) ; return NULL ; } } return NULL ; } 