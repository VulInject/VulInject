static int vnic_register ( rcm_handle_t * hd ) { rcm_log_message ( RCM_TRACE1 , "VNIC: register\n" ) ; if ( ! events_registered ) { if ( rcm_register_event ( hd , RCM_RESOURCE_LINK_NEW , 0 , NULL ) != RCM_SUCCESS ) { rcm_log_message ( RCM_ERROR , _ ( "VNIC: failed to register %s\n" ) , RCM_RESOURCE_LINK_NEW ) ; return ( RCM_FAILURE ) ; } else { rcm_log_message ( RCM_DEBUG , "VNIC: registered %s\n" , RCM_RESOURCE_LINK_NEW ) ; events_registered ++ ; } } return ( RCM_SUCCESS ) ; } 