static void rsc_just_underbars ( void * * state ) { char * rsc = NULL ; char * ty = NULL ; guint ms = 0 ; assert_true ( parse_op_key ( "__monitor_1000" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "_" ) ; assert_string_equal ( ty , "monitor" ) ; assert_int_equal ( ms , 1000 ) ; free ( ty ) ; assert_true ( parse_op_key ( "___migrate_from_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "__" ) ; assert_string_equal ( ty , "migrate_from" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; assert_true ( parse_op_key ( "____pre_notify_stop_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "___" ) ; assert_string_equal ( ty , "pre_notify_stop" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; } 