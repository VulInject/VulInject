static int isl7998x_s_std ( struct v4l2_subdev * sd , v4l2_std_id norm ) { struct isl7998x * isl7998x = sd_to_isl7998x ( sd ) ; struct i2c_client * client = v4l2_get_subdevdata ( sd ) ; struct device * dev = & client -> dev ; int ret = 0 ; mutex_lock ( & isl7998x -> lock ) ; if ( isl7998x -> enabled ) { ret = - EBUSY ; mutex_unlock ( & isl7998x -> lock ) ; return ret ; } isl7998x -> norm = norm ; mutex_unlock ( & isl7998x -> lock ) ; ret = isl7998x_set_standard ( isl7998x , norm ) ; pm_runtime_put ( dev ) ; return ret ; } 