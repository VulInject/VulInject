static int get_current_target_temp ( ptree_rarg_t * parg , void * buf ) { picl_prophdl_t proph ; sensor_node_t * snodep ; env_sensor_t * sensorp ; proph = parg -> proph ; ( void ) pthread_rwlock_rdlock ( & envpicl_rwlock ) ; for ( snodep = & sensor_nodes [ 0 ] ; snodep -> sensor_name != NULL ; snodep ++ ) { if ( ( sensorp = snodep -> sensorp ) == NULL ) { break ; } ( void ) memcpy ( buf , ( caddr_t ) & sensorp -> target_temp , sizeof ( sensorp -> target_temp ) ) ; ( void ) pthread_rwlock_unlock ( & envpicl_rwlock ) ; return ( PICL_SUCCESS ) ; } ( void ) pthread_rwlock_unlock ( & envpicl_rwlock ) ; return ( PICL_FAILURE ) ; } 