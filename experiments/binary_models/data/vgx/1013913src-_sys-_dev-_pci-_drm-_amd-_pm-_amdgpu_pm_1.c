static int amdgpu_device_attr_create_groups ( struct amdgpu_device * adev , struct amdgpu_device_attr * attrs , uint32_t counts , uint32_t mask , struct list_head * attr_list ) { int ret = 0 ; int i = 0 ; for ( i = 0 ; i < counts ; i ++ ) { ret = amdgpu_device_attr_create ( adev , & attrs [ i ] , mask , attr_list ) ; if ( ret ) { failed } } return 0 ; failed amdgpu_device_attr_remove_groups ( adev , attr_list ) ; return ret ; } 