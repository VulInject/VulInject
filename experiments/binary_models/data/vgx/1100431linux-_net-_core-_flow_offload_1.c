struct flow_offload_action * offload_action_alloc ( unsigned int num_actions ) { struct flow_offload_action * fl_action ; int i ; fl_action = kzalloc ( struct_size ( fl_action , action . entries , num_actions ) , GFP_KERNEL ) ; if ( ! fl_action ) { return in ; } fl_action -> action . num_entries = num_actions ; for ( i = 0 ; i < num_actions ; i ++ ) { fl_action -> action . entries [ i ] . hw_stats = FLOW_ACTION_HW_STATS_DONT_CARE ; } return fl_action ; } 