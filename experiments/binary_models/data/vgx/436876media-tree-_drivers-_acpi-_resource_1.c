static acpi_status acpi_dev_process_resource ( struct acpi_resource * ares , void * context ) { struct res_proc_context * c = context ; struct resource_win win ; struct resource * res = & win . res ; int i ; if ( c -> preproc ) { int ret ; ret = c -> preproc ( ares , c -> preproc_data ) ; if ( ret < 0 ) { c -> error = ret ; return AE_CTRL_TERMINATE ; } if ( ret > 0 ) { return AE_OK ; } } if ( acpi_dev_resource_memory ( ares , res ) || acpi_dev_resource_io ( ares , res ) || acpi_dev_resource_address_space ( ares , & win ) || acpi_dev_resource_ext_address_space ( ares , & win ) ) { return acpi_dev_new_resource_entry ( & win , c ) ; } for ( i = 0 ; acpi_dev_resource_interrupt ( ares , i , res ) ; i ++ ) { acpi_status status ; status = acpi_dev_new_resource_entry ( & win , c ) ; if ( ACPI_FAILURE ( status ) ) { return status ; } } return AE_OK ; } 