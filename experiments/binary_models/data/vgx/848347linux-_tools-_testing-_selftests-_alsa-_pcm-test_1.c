void run_time_tests ( struct pcm_data * pcm , enum test_class class , snd_config_t * cfg ) { const char * test_name , * test_type ; snd_config_t * pcm_cfg ; snd_config_iterator_t i , next ; cfg = conf_get_subtree ( cfg , "test" , NULL ) ; if ( cfg == NULL ) { return ; } snd_config_for_each ( , , ) { pcm_cfg = snd_config_iterator_entry ( i ) ; if ( snd_config_get_id ( pcm_cfg , & test_name ) < 0 ) { ksft_exit_fail_msg ( "snd_config_get_id\n" ) ; } test_type = conf_get_string ( pcm_cfg , "type" , NULL , "time" ) ; if ( strcmp ( test_type , "time" ) == 0 ) { test_pcm_time ( pcm , class , test_name , pcm_cfg ) ; } else { ksft_exit_fail_msg ( "unknown test type '%s'\n" , test_type ) ; } } } 