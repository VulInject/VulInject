static uint16_t nfs_fscache_inode_get_aux ( const void * cookie_netfs_data , void * buffer , uint16_t bufmax ) { struct nfs_fscache_inode_auxdata auxdata ; const struct nfs_inode * nfsi = cookie_netfs_data ; auxdata . size = nfsi -> vfs_inode . i_size ; auxdata . mtime = nfsi -> vfs_inode . i_mtime ; auxdata . ctime = nfsi -> vfs_inode . i_ctime ; if ( NFS_SERVER ( & nfsi -> vfs_inode ) -> nfs_client -> rpc_ops -> version == 4 ) { auxdata . change_attr = nfsi -> vfs_inode . i_version ; } if ( bufmax > sizeof ( auxdata ) ) { bufmax = sizeof ( auxdata ) ; } memcpy ( buffer , & auxdata , bufmax ) ; return bufmax ; } 