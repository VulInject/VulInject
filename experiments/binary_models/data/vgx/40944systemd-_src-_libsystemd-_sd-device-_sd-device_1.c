static sd_device * device_free ( sd_device * device ) { assert ( device ) ; sd_device_unref ( device -> parent ) ; free ( device -> syspath ) ; free ( device -> sysname ) ; free ( device -> devtype ) ; free ( device -> devname ) ; free ( device -> subsystem ) ; free ( device -> driver_subsystem ) ; free ( device -> driver ) ; free ( device -> device_id ) ; free ( device -> properties_strv ) ; free ( device -> properties_nulstr ) ; ordered_hashmap_free ( device -> properties ) ; ordered_hashmap_free ( device -> properties_db ) ; hashmap_free ( device -> sysattr_values ) ; set_free ( device -> sysattrs ) ; set_free ( device -> current_tags ) ; set_free ( device -> devlinks ) ; hashmap_free ( device -> children ) ; return mfree ( device ) ; } 