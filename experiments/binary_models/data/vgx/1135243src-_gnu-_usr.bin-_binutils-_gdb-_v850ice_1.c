v850ice_store_registers ( ) { long retval ; char cmd [ 100 ] ; unsigned long regval ; char buf [ 256 ] ; struct MessageIO iob ; iob . size = 0 ; iob . buf = buf ; if ( regno == - 1 ) { for ( regno = 0 ; regno < NUM_REGS ; regno ++ ) { v850ice_store_registers ( regno ) ; } return ; } regval = extract_unsigned_integer ( & deprecated_registers [ DEPRECATED_REGISTER_BYTE ( regno ) ] , register_size ( current_gdbarch , regno ) ) ; strcpy ( cmd , "reg " ) ; sprintf ( cmd + strlen ( cmd ) , "=0x%x" , regval ) ; retval = ExeAppReq ( "GDB" , GWRITEREG , cmd , & iob ) ; if ( retval ) { error ( "2: ExeAppReq returned %d: cmd = %s" , retval , cmd ) ; } } 