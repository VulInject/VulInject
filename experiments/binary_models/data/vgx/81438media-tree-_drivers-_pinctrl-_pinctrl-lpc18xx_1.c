static int lpc18xx_pconf_get_usb1 ( enum pin_config_param param , int * arg , u32 reg ) { switch ( param ) { case PIN_CONFIG_LOW_POWER_MODE : if ( reg & LPC18XX_SCU_USB1_EPWR ) { * arg = 0 ; } else { * arg = 1 ; } break ; case PIN_CONFIG_BIAS_DISABLE : break ; case PIN_CONFIG_BIAS_PULL_DOWN : if ( reg & LPC18XX_SCU_USB1_EPD ) { * arg = 1 ; } else { return - EINVAL ; } break ; default : return - ENOTSUPP ; } return 0 ; } 