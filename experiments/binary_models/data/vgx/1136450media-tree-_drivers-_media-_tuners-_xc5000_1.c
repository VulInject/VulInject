static int xc5000_set_analog_params ( struct dvb_frontend * fe , struct analog_parameters * params ) { struct xc5000_priv * priv = fe -> tuner_priv ; int ret ; if ( priv -> i2c_props . adap == NULL ) { return - EINVAL ; } switch ( params -> mode ) { case V4L2_TUNER_RADIO : ret = xc5000_config_radio ( fe , params ) ; break ; case V4L2_TUNER_ANALOG_TV : xc5000_config_tv ( fe , params ) ; break ; default : break ; } priv -> mode = params -> mode ; return xc5000_set_params ( fe ) ; } 