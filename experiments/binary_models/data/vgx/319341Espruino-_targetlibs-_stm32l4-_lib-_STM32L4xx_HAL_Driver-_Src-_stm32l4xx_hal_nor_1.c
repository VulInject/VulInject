HAL_StatusTypeDef HAL_NOR_Init ( NOR_HandleTypeDef * hnor , FMC_NORSRAM_TimingTypeDef * Timing , FMC_NORSRAM_TimingTypeDef * ExtTiming ) { if ( hnor -> State == HAL_NOR_STATE_RESET ) { hnor -> Lock = HAL_UNLOCKED ; HAL_NOR_MspInit ( hnor ) ; } FMC_NORSRAM_Init ( hnor -> Instance , & ( hnor -> Init ) ) ; FMC_NORSRAM_Timing_Init ( hnor -> Instance , Timing , hnor -> Init . NSBank ) ; FMC_NORSRAM_Extended_Timing_Init ( hnor -> Extended , ExtTiming , hnor -> Init . NSBank , hnor -> Init . ExtendedMode ) ; __FMC_NORSRAM_ENABLE ( hnor -> Instance , hnor -> Init . NSBank ) ; if ( hnor -> Init . MemoryDataWidth == FMC_NORSRAM_MEM_BUS_WIDTH_8 ) { uwNORMemoryDataWidth = NOR_MEMORY_8B ; } else { uwNORMemoryDataWidth = NOR_MEMORY_16B ; } hnor -> State = HAL_NOR_STATE_READY ; return HAL_OK ; } 