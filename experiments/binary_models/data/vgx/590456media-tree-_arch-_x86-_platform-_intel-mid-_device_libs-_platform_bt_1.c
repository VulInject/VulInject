static int __init tng_bt_sfi_setup ( struct bt_sfi_data * ddata ) { struct gpiod_lookup_table * table = & tng_bt_sfi_gpio_table ; struct gpiod_lookup * lookup = table -> table ; struct pci_dev * pdev ; pdev = pci_get_domain_bus_and_slot ( 0 , 0 , PCI_DEVFN ( 4 , 1 ) ) ; if ( ! pdev ) { return - ENODEV ; } ddata -> dev = & pdev -> dev ; ddata -> name = table -> dev_id ; lookup [ 0 ] . chip_hwnum = get_gpio_by_name ( TNG_BT_SFI_GPIO_DEVICE_WAKEUP ) ; lookup [ 1 ] . chip_hwnum = get_gpio_by_name ( TNG_BT_SFI_GPIO_SHUTDOWN ) ; lookup [ 2 ] . chip_hwnum = get_gpio_by_name ( TNG_BT_SFI_GPIO_HOST_WAKEUP ) ; gpiod_add_lookup_table ( table , NULL ) ; return 0 ; } 