static int aic31xx_add_widgets ( struct snd_soc_component * component ) { struct snd_soc_dapm_context * dapm = snd_soc_component_get_dapm ( component ) ; struct aic31xx_priv * aic31xx = snd_soc_component_get_drvdata ( component ) ; int ret ; if ( aic31xx -> codec_type & DAC31XX_BIT ) { ret = snd_soc_dapm_new_controls ( dapm , dac31xx_dapm_widgets , ARRAY_SIZE ( dac31xx_dapm_widgets ) ) ; if ( ret ) { return ret ; } ret = snd_soc_dapm_add_routes ( dapm , dac31xx_audio_map , ARRAY_SIZE ( dac31xx_audio_map ) ) ; if ( ret ) { return ret ; } } else { ret = snd_soc_dapm_new_controls ( dapm , aic31xx_dapm_widgets , ARRAY_SIZE ( aic31xx_dapm_widgets ) ) ; if ( ret ) { return ret ; } ret = snd_soc_dapm_add_routes ( dapm , aic31xx_audio_map , ARRAY_SIZE ( aic31xx_audio_map ) ) ; if ( ret ) { return ret ; } } if ( aic31xx -> codec_type & AIC31XX_STEREO_CLASS_D_BIT ) { ret = snd_soc_dapm_new_controls ( dapm , aic311x_dapm_widgets , ARRAY_SIZE ( aic311x_dapm_widgets ) ) ; if ( ret ) { return ret ; } ret = snd_soc_dapm_add_routes ( dapm , aic311x_audio_map , ARRAY_SIZE ( aic311x_audio_map ) ) ; if ( ret ) { return ret ; } } else { ret = snd_soc_dapm_new_controls ( dapm , aic310x_dapm_widgets , ARRAY_SIZE ( aic310x_dapm_widgets ) ) ; if ( ret ) { return ret ; } ret = snd_soc_dapm_add_routes ( dapm , aic310x_audio_map , ARRAY_SIZE ( aic310x_audio_map ) ) ; if ( ret ) { return ret ; } } return 0 ; } 