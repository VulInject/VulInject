static int mmc_sdio_init_uhs_card ( struct mmc_card * card ) { int err ; if ( ! card -> scr . sda_spec3 ) { return 0 ; } if ( card -> host -> caps & MMC_CAP_4_BIT_DATA ) { err = sdio_enable_4bit_bus ( card ) ; } sdio_select_driver_type ( card , NULL ) ; err = sdio_set_bus_speed_mode ( card ) ; if ( err ) { out } if ( ! mmc_host_is_spi ( card -> host ) && ( ( card -> host -> ios . timing == MMC_TIMING_UHS_SDR50 ) || ( card -> host -> ios . timing == MMC_TIMING_UHS_SDR104 ) ) ) { err = mmc_execute_tuning ( card ) ; } out return err ; } 