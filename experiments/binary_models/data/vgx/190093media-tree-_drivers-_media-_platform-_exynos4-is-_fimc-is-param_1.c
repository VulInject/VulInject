unsigned int __get_pending_param_count ( struct fimc_is * is ) { struct chain_config * config = & is -> config [ is -> config_index ] ; cfs_time_t flags ; unsigned int count ; spin_lock_irqsave ( & is -> slock , flags ) ; count = hweight32 ( config -> p_region_index [ 0 ] ) ; count += hweight32 ( config -> p_region_index [ 1 ] ) ; spin_unlock_irqrestore ( & is -> slock , flags ) ; return count ; } 