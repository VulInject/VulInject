boolean_t ppm_none_else_holds_power ( ppm_domain_t * domp ) { ppm_dev_t * ppmd ; ppm_owned_t * owned ; int i = 0 ; if ( PPMD_IS_PCI ( domp -> model ) ) { for ( ppmd = domp -> devlist ; ppmd ; ppmd = ppmd -> next ) { if ( ( domp -> dflags & PPMD_PCI66MHZ ) && ! ( ppmd -> flags & PPMDEV_PCI66_D2 ) ) { return ( B_FALSE ) ; } } } for ( owned = domp -> owned ; owned ; owned = owned -> next ) { if ( pm_noinvol_detached ( owned -> path ) || owned -> initializing ) { i ++ ; } } return ( i == 0 ) ; } 