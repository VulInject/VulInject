const char * timestamp_iso8601 ( time_t v ) { struct tm * tm ; static char buf [ 64 ] ; if ( v == 0 ) { return NULL ; } tm = gmtime ( & v ) ; snprintf ( buf , sizeof ( buf ) , "%04d-%02d-%02dT%02d:%02d:%02d.%03dZ" , tm -> tm_year + 1900 , tm -> tm_mon + 1 , tm -> tm_mday , tm -> tm_hour , tm -> tm_min , tm -> tm_sec , 0 ) ; return buf ; } 