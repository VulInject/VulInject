static clusterManagerNode * clusterManagerNodeByName ( const char * name ) { if ( cluster_manager . nodes == NULL ) { return NULL ; } clusterManagerNode * found = NULL ; sds lcname = sdsempty ( ) ; lcname = sdscpy ( lcname , name ) ; sdstolower ( lcname ) ; listIter li ; listNode * ln ; listRewind ( cluster_manager . nodes , & li ) ; while ( ( ln = listNext ( & li ) ) != NULL ) { clusterManagerNode * n = ln -> value ; if ( n -> name && ! sdscmp ( n -> name , lcname ) ) { found = n ; break ; } } return found ; } 