static int acpihpd_init ( void ) { const char * subclass = ESC_DR_REQ ; debug_print ( 2 , "acpihpd_init" ) ; if ( ( s_acpihpd_hdl = sysevent_bind_handle ( acpihpd_event ) ) == NULL ) { debug_print ( 2 , "could not bind to sysevent." ) ; return ( - 1 ) ; } if ( sysevent_subscribe_event ( s_acpihpd_hdl , EC_DR , & subclass , 1 ) != 0 ) { debug_print ( 2 , "could not subscribe an event." ) ; sysevent_unbind_handle ( s_acpihpd_hdl , NULL ) ; s_acpihpd_hdl = NULL ; return ( - 1 ) ; } return ( 0 ) ; } 