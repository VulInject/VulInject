static int veml6030_write_thresh ( struct iio_dev * indio_dev , int val , int val2 , int dir ) { int ret ; struct veml6030_data * data = iio_priv ( indio_dev ) ; if ( dir == IIO_EV_DIR_RISING ) { ret = regmap_write ( data -> regmap , VEML6030_REG_ALS_WH , val ) ; if ( ret ) { dev_err ( & data -> client -> dev , "can't set high threshold %d\n" , ret ) ; } } else { ret = regmap_write ( data -> regmap , VEML6030_REG_ALS_WL , val ) ; if ( ret ) { dev_err ( & data -> client -> dev , "can't set low threshold %d\n" , ret ) ; } } return ret ; } 