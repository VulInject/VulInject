gui_bar_item_init ( ) { char name [ 128 ] ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_PASTE ] , & gui_bar_item_input_paste_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "input_paste_pending" , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_PASTE ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_PROMPT ] , & gui_bar_item_input_prompt_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_localvar_*" , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_PROMPT ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_SEARCH ] , & gui_bar_item_input_search_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;input_search;input_text_changed" , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_SEARCH ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_TEXT ] , & gui_bar_item_input_text_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;input_text_*" , gui_bar_item_names [ GUI_BAR_ITEM_INPUT_TEXT ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_TIME ] , & gui_bar_item_time_cb , NULL , NULL ) ; gui_bar_item_timer = hook_timer ( NULL , 1000 , 1 , 0 , & gui_bar_item_timer_cb , gui_bar_item_names [ GUI_BAR_ITEM_TIME ] , NULL ) ; gui_bar_item_new ( gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_COUNT ] , & gui_bar_item_buffer_count_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "buffer_opened;buffer_closed" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_COUNT ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_LAST_NUMBER ] , & gui_bar_item_buffer_last_number_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "buffer_opened;buffer_closed;buffer_moved;" "buffer_merged;buffer_unmerged" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_LAST_NUMBER ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_PLUGIN ] , & gui_bar_item_buffer_plugin_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_renamed" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_PLUGIN ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NUMBER ] , & gui_bar_item_buffer_number_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_moved;" "buffer_merged;buffer_unmerged;buffer_closed" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NUMBER ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NAME ] , & gui_bar_item_buffer_name_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_renamed;" "buffer_moved" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NAME ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_SHORT_NAME ] , & gui_bar_item_buffer_short_name_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_renamed;" "buffer_moved" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_SHORT_NAME ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_MODES ] , & gui_bar_item_buffer_modes_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_MODES ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_FILTER ] , & gui_bar_item_buffer_filter_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_lines_hidden;" "filters_*" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_FILTER ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_ZOOM ] , & gui_bar_item_buffer_zoom_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "buffer_zoomed;buffer_unzoomed;buffer_switch" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_ZOOM ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT ] , & gui_bar_item_buffer_nicklist_count_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;nicklist_*" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT_GROUPS ] , & gui_bar_item_buffer_nicklist_count_groups_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;nicklist_*" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT_GROUPS ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT_ALL ] , & gui_bar_item_buffer_nicklist_count_all_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;nicklist_*" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST_COUNT_ALL ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_SCROLL ] , & gui_bar_item_scroll_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;window_scrolled" , gui_bar_item_names [ GUI_BAR_ITEM_SCROLL ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_HOTLIST ] , & gui_bar_item_hotlist_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "hotlist_changed;buffer_moved;buffer_closed" , gui_bar_item_names [ GUI_BAR_ITEM_HOTLIST ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_COMPLETION ] , & gui_bar_item_completion_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "partial_completion" , gui_bar_item_names [ GUI_BAR_ITEM_COMPLETION ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_TITLE ] , & gui_bar_item_buffer_title_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;buffer_switch;buffer_title_changed" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_TITLE ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST ] , & gui_bar_item_buffer_nicklist_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "nicklist_*;window_switch;buffer_switch" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST ] ) ; snprintf ( name , sizeof ( name ) , "2000|%s" , gui_bar_item_names [ GUI_BAR_ITEM_BUFFER_NICKLIST ] ) ; hook_focus ( NULL , name , & gui_bar_item_focus_buffer_nicklist_cb , NULL , NULL ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_WINDOW_NUMBER ] , & gui_bar_item_window_number_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "window_switch;window_closed" , gui_bar_item_names [ GUI_BAR_ITEM_WINDOW_NUMBER ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_MOUSE_STATUS ] , & gui_bar_item_mouse_status_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "mouse_enabled;mouse_disabled" , gui_bar_item_names [ GUI_BAR_ITEM_MOUSE_STATUS ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_AWAY ] , & gui_bar_item_away_cb , NULL , NULL ) ; gui_bar_item_hook_signal ( "buffer_localvar_*" , gui_bar_item_names [ GUI_BAR_ITEM_AWAY ] ) ; gui_bar_item_new ( NULL , gui_bar_item_names [ GUI_BAR_ITEM_SPACER ] , & gui_bar_item_spacer_cb , NULL , NULL ) ; } 