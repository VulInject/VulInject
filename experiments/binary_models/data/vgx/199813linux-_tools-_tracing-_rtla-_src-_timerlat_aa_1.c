int timerlat_aa_handler ( struct trace_seq * s , struct tep_record * record , struct tep_event * event , void * context ) { struct timerlat_aa_context * taa_ctx = timerlat_aa_get_ctx ( ) ; struct timerlat_aa_data * taa_data = timerlat_aa_get_data ( taa_ctx , record -> cpu ) ; unsigned long long thread ; tep_get_field_val ( s , event , "context" , record , & thread , 1 ) ; if ( ! thread ) { return timerlat_aa_irq_latency ( taa_data , s , record , event ) ; } else { return timerlat_aa_thread_latency ( taa_data , s , record , event ) ; } } 