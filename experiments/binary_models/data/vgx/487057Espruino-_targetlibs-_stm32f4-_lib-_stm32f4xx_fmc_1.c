void FMC_SDRAMInit ( FMC_SDRAMInitTypeDef * FMC_SDRAMInitStruct ) { int tmpr1 = 0 ; uint32_t tmpr2 = 0 ; uint32_t tmpr3 = 0 ; uint32_t tmpr4 = 0 ; assert_param ( IS_FMC_SDRAM_BANK ( FMC_SDRAMInitStruct -> FMC_Bank ) ) ; assert_param ( IS_FMC_COLUMNBITS_NUMBER ( FMC_SDRAMInitStruct -> FMC_ColumnBitsNumber ) ) ; assert_param ( IS_FMC_ROWBITS_NUMBER ( FMC_SDRAMInitStruct -> FMC_RowBitsNumber ) ) ; assert_param ( IS_FMC_SDMEMORY_WIDTH ( FMC_SDRAMInitStruct -> FMC_SDMemoryDataWidth ) ) ; assert_param ( IS_FMC_INTERNALBANK_NUMBER ( FMC_SDRAMInitStruct -> FMC_InternalBankNumber ) ) ; assert_param ( IS_FMC_CAS_LATENCY ( FMC_SDRAMInitStruct -> FMC_CASLatency ) ) ; assert_param ( IS_FMC_WRITE_PROTECTION ( FMC_SDRAMInitStruct -> FMC_WriteProtection ) ) ; assert_param ( IS_FMC_SDCLOCK_PERIOD ( FMC_SDRAMInitStruct -> FMC_SDClockPeriod ) ) ; assert_param ( IS_FMC_READ_BURST ( FMC_SDRAMInitStruct -> FMC_ReadBurst ) ) ; assert_param ( IS_FMC_READPIPE_DELAY ( FMC_SDRAMInitStruct -> FMC_ReadPipeDelay ) ) ; assert_param ( IS_FMC_LOADTOACTIVE_DELAY ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_LoadToActiveDelay ) ) ; assert_param ( IS_FMC_EXITSELFREFRESH_DELAY ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_ExitSelfRefreshDelay ) ) ; assert_param ( IS_FMC_SELFREFRESH_TIME ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_SelfRefreshTime ) ) ; assert_param ( IS_FMC_ROWCYCLE_DELAY ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RowCycleDelay ) ) ; assert_param ( IS_FMC_WRITE_RECOVERY_TIME ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_WriteRecoveryTime ) ) ; assert_param ( IS_FMC_RP_DELAY ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RPDelay ) ) ; assert_param ( IS_FMC_RCD_DELAY ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RCDDelay ) ) ; tmpr1 = ( uint32_t ) FMC_SDRAMInitStruct -> FMC_ColumnBitsNumber | FMC_SDRAMInitStruct -> FMC_RowBitsNumber | FMC_SDRAMInitStruct -> FMC_SDMemoryDataWidth | FMC_SDRAMInitStruct -> FMC_InternalBankNumber | FMC_SDRAMInitStruct -> FMC_CASLatency | FMC_SDRAMInitStruct -> FMC_WriteProtection | FMC_SDRAMInitStruct -> FMC_SDClockPeriod | FMC_SDRAMInitStruct -> FMC_ReadBurst | FMC_SDRAMInitStruct -> FMC_ReadPipeDelay ; if ( FMC_SDRAMInitStruct -> FMC_Bank == FMC_Bank1_SDRAM ) { FMC_Bank5_6 -> SDCR [ FMC_SDRAMInitStruct -> FMC_Bank ] = tmpr1 ; } else { tmpr3 = ( uint32_t ) FMC_SDRAMInitStruct -> FMC_SDClockPeriod | FMC_SDRAMInitStruct -> FMC_ReadBurst | FMC_SDRAMInitStruct -> FMC_ReadPipeDelay ; FMC_Bank5_6 -> SDCR [ FMC_Bank1_SDRAM ] = tmpr3 ; FMC_Bank5_6 -> SDCR [ FMC_SDRAMInitStruct -> FMC_Bank ] = tmpr1 ; } if ( FMC_SDRAMInitStruct -> FMC_Bank == FMC_Bank1_SDRAM ) { tmpr2 = ( uint32_t ) ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_LoadToActiveDelay ) - 1 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_ExitSelfRefreshDelay ) - 1 ) << 4 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_SelfRefreshTime ) - 1 ) << 8 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RowCycleDelay ) - 1 ) << 12 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_WriteRecoveryTime ) - 1 ) << 16 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RPDelay ) - 1 ) << 20 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RCDDelay ) - 1 ) << 24 ) ; FMC_Bank5_6 -> SDTR [ FMC_SDRAMInitStruct -> FMC_Bank ] = tmpr2 ; } else { tmpr2 = ( uint32_t ) ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_LoadToActiveDelay ) - 1 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_ExitSelfRefreshDelay ) - 1 ) << 4 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_SelfRefreshTime ) - 1 ) << 8 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_WriteRecoveryTime ) - 1 ) << 16 ) ; tmpr4 = ( uint32_t ) ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RowCycleDelay ) - 1 ) << 12 ) | ( ( ( FMC_SDRAMInitStruct -> FMC_SDRAMTimingStruct -> FMC_RPDelay ) - 1 ) << 20 ) ; FMC_Bank5_6 -> SDTR [ FMC_Bank1_SDRAM ] = tmpr4 ; FMC_Bank5_6 -> SDTR [ FMC_SDRAMInitStruct -> FMC_Bank ] = tmpr2 ; } } 