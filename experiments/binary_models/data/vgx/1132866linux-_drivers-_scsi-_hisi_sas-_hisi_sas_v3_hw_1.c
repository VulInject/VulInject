static void config_id_frame_v3_hw ( struct hisi_hba * hisi_hba , int phy_no ) { struct sas_identify_frame identify_frame ; u32 * identify_buffer ; identify_frame . dev_type = SAS_END_DEVICE ; identify_frame . frame_type = 0 ; identify_frame . _un1 = 1 ; identify_frame . initiator_bits = SAS_PROTOCOL_ALL ; identify_frame . target_bits = SAS_PROTOCOL_NONE ; memcpy ( & identify_frame . _un4_11 [ 0 ] , hisi_hba -> sas_addr , SAS_ADDR_SIZE ) ; memcpy ( & identify_frame . sas_addr [ 0 ] , hisi_hba -> sas_addr , SAS_ADDR_SIZE ) ; identify_frame . phy_id = phy_no ; identify_buffer = ( u32 * ) ( & identify_frame ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD0 , __swab32 ( identify_buffer [ 0 ] ) ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD1 , __swab32 ( identify_buffer [ 1 ] ) ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD2 , __swab32 ( identify_buffer [ 2 ] ) ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD3 , __swab32 ( identify_buffer [ 3 ] ) ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD4 , __swab32 ( identify_buffer [ 4 ] ) ) ; hisi_sas_phy_write32 ( hisi_hba , phy_no , TX_ID_DWORD5 , __swab32 ( identify_buffer [ 5 ] ) ) ; } 