static void do_rx_data ( struct cxgbi_device * cdev , struct sk_buff * skb ) { struct cxgbi_sock * csk ; struct cpl_rx_data * cpl = ( cpl_rx_data * ) skb -> data ; unsigned int tid = GET_TID ( cpl ) ; struct cxgb4_lld_info * lldi = cxgbi_cdev_priv ( cdev ) ; struct tid_info * t = lldi -> tids ; csk = lookup_tid ( t , tid ) ; if ( ! csk ) { pr_err ( "can't find connection for tid %u.\n" , tid ) ; } else { pr_err ( "csk 0x%p, tid %u, rcv cpl_rx_data.\n" , csk , tid ) ; spin_lock_bh ( & csk -> lock ) ; send_abort_req ( csk , NULL ) ; spin_unlock_bh ( & csk -> lock ) ; } __kfree_skb ( skb ) ; } 