OPJ_BOOL enqueue_metabins ( query_param_t query_param , metadatalist_param_t * metadatalist , msgqueue_param_t * msgqueue ) { int i ; for ( i = 0 ; i < MAX_NUMOFBOX && query_param . box_type [ i ] [ 0 ] != 0 ; i ++ ) { if ( query_param . box_type [ i ] [ 0 ] == '*' ) { fprintf ( FCGI_stdout , "Status: 501\r\n" ) ; fprintf ( FCGI_stdout , "Reason: metareq with all box-property * not implemented\r\n" ) ; return OPJ_FALSE ; } else { Byte8_t idx = search_metadataidx ( query_param . box_type [ i ] , metadatalist ) ; if ( idx != ( Byte8_t ) - 1 ) { enqueue_metadata ( idx , msgqueue ) ; } else { fprintf ( FCGI_stdout , "Status: 400\r\n" ) ; fprintf ( FCGI_stdout , "Reason: box-type %.4s not found\r\n" , query_param . box_type [ i ] ) ; return OPJ_FALSE ; } } } return OPJ_TRUE ; } 