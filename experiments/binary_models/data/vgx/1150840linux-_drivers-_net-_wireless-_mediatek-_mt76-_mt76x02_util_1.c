( mt76x02_set_rts_threshold ) ; void mt76x02_sta_rate_tbl_update ( struct ieee80211_hw * hw , struct ieee80211_vif * vif , struct ieee80211_sta * sta ) { struct mt76x02_dev * dev = hw -> priv ; struct mt76x02_sta * msta = ( mt76x02_sta * ) sta -> drv_priv ; struct ieee80211_sta_rates * rates = rcu_dereference ( sta -> rates ) ; struct ieee80211_tx_rate rate = { } ; rate . idx = rates -> rate [ 0 ] . idx ; rate . flags = rates -> rate [ 0 ] . flags ; mt76x02_mac_wcid_set_rate ( dev , & msta -> wcid , & rate ) ; } 