static int set_beep_amp ( struct conexant_spec * spec , hda_nid_t nid , int idx , int dir ) { struct snd_kcontrol_new * knew ; int beep_amp = HDA_COMPOSE_AMP_VAL ( nid , 1 , idx , dir ) ; int i ; spec -> gen . beep_nid = nid ; for ( i = 0 ; i < ARRAY_SIZE ( cxt_beep_mixer ) ; i ++ ) { knew = snd_hda_gen_add_kctl ( & spec -> gen , NULL , & cxt_beep_mixer [ i ] ) ; if ( ! knew ) { return - ENOMEM ; } knew -> private_value = beep_amp ; } return 0 ; } 