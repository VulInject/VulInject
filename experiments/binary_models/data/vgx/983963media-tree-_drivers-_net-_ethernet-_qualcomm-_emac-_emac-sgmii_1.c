static int emac_sgmii_link_up ( struct emac_adapter * adpt ) { struct emac_sgmii * sgmii = & adpt -> phy ; int ret ; ret = emac_sgmii_irq_clear ( adpt , 0xff ) ; writel ( SGMII_ISR_MASK , sgmii -> base + EMAC_SGMII_PHY_INTERRUPT_MASK ) ; return 0 ; } 