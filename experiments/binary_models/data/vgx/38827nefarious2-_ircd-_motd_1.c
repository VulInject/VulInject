static int motd_forward ( struct Client * cptr , struct MotdCache * cache ) { int i ; assert ( 0 != cptr ) ; send_reply ( cptr , RPL_MOTDSTART , cli_name ( & me ) ) ; send_reply ( cptr , SND_EXPLICIT | RPL_MOTD , ":- %d-%d-%d %d:%02d" , cache -> modtime . tm_year + 1900 , cache -> modtime . tm_mon + 1 , cache -> modtime . tm_mday , cache -> modtime . tm_hour , cache -> modtime . tm_min ) ; for ( i = 0 ; i < cache -> count ; i ++ ) { send_reply ( cptr , RPL_MOTD , cache -> motd [ i ] ) ; } return send_reply ( cptr , RPL_ENDOFMOTD ) ; } 