static int gbaudio_tplg_create_mixer_ctl ( struct gbaudio_module_info * gb , struct snd_kcontrol_new * kctl , struct gb_audio_control * ctl ) { struct gbaudio_ctl_pvt * ctldata ; ctldata = devm_kzalloc ( gb -> dev , sizeof ( gbaudio_ctl_pvt ) , GFP_KERNEL ) ; ctldata -> ctl_id = ctl -> id ; ctldata -> data_cport = le16_to_cpu ( ctl -> data_cport ) ; ctldata -> access = ctl -> access ; ctldata -> vcount = ctl -> count_values ; ctldata -> info = & ctl -> info ; * kctl = ( snd_kcontrol_new ) SOC_DAPM_MIXER_GB ( ctl -> name , ctl -> count , ctldata ) ; return 0 ; } 