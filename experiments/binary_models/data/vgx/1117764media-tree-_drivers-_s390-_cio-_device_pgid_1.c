void ccw_device_disband_start ( struct ccw_device * cdev ) { struct subchannel * sch = to_subchannel ( cdev -> dev . parent ) ; struct ccw_request * req = & cdev -> private -> req ; u8 fn ; CIO_TRACE_EVENT ( 4 , "disb" ) ; CIO_HEX_EVENT ( 4 , & cdev -> private -> dev_id , sizeof ( cdev -> private -> dev_id ) ) ; req -> timeout = PGID_TIMEOUT ; req -> maxretries = PGID_RETRIES ; req -> lpm = sch -> schib . pmcw . pam & sch -> opm ; req -> singlepath = 1 ; req -> callback = disband_callback ; fn = SPID_FUNC_DISBAND ; if ( cdev -> private -> flags . mpath ) { fn |= SPID_FUNC_MULTI_PATH ; } spid_build_cp ( cdev , fn ) ; ccw_request_start ( cdev ) ; } 