STATIC void libevent_logging_callback ( int severity , const char * msg ) { char buf [ 1024 ] ; size_t n ; n = strlcpy ( buf , msg , sizeof ( buf ) ) ; if ( n && n < sizeof ( buf ) && buf [ n - 1 ] == '\n' ) { buf [ n - 1 ] = '\0' ; } switch ( severity ) { case _EVENT_LOG_DEBUG : log_debug ( LD_NOCB | LD_NET , "Message from libevent: %s" , buf ) ; break ; case _EVENT_LOG_MSG : log_info ( LD_NOCB | LD_NET , "Message from libevent: %s" , buf ) ; break ; case _EVENT_LOG_WARN : log_warn ( LD_NOCB | LD_GENERAL , "Warning from libevent: %s" , buf ) ; break ; case _EVENT_LOG_ERR : log_err ( LD_NOCB | LD_GENERAL , "Error from libevent: %s" , buf ) ; break ; default : log_warn ( LD_NOCB | LD_GENERAL , "Message [%d] from libevent: %s" , severity , buf ) ; break ; } } 