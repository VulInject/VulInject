static void success_message ( struct libmnt_context * cxt ) { unsigned long mflags = 0 ; const char * tgt , * src , * pr = program_invocation_short_name ; mnt_context_get_mflags ( cxt , & mflags ) ; tgt = mnt_context_get_target ( cxt ) ; src = mnt_context_get_source ( cxt ) ; if ( mflags & MS_MOVE ) { printf ( _ ( "%s: %s moved to %s.\n" ) , pr , src , tgt ) ; } if ( mflags & MS_BIND ) { printf ( _ ( "%s: %s bound on %s.\n" ) , pr , src , tgt ) ; } if ( mflags & MS_PROPAGATION ) { if ( src && strcmp ( src , "none" ) != 0 && tgt ) { printf ( _ ( "%s: %s mounted on %s.\n" ) , pr , src , tgt ) ; } printf ( _ ( "%s: %s propagation flags changed.\n" ) , pr , tgt ) ; } else { printf ( _ ( "%s: %s mounted on %s.\n" ) , pr , src , tgt ) ; } } 