static int feh_file_is_raw ( char * filename ) { childpid = fork ( ) ; if ( childpid == - 1 ) { perror ( "fork" ) ; return 0 ; } if ( childpid == 0 ) { int devnull = open ( "/dev/null" , O_WRONLY ) ; dup2 ( devnull , 1 ) ; dup2 ( devnull , 2 ) ; execlp ( "dcraw" , "dcraw" , "-i" , filename ) ; _exit ( 1 ) ; } else { int status ; { waitpid ( childpid , & status , WUNTRACED ) ; if ( WIFEXITED ( status ) ) { return ! WEXITSTATUS ( status ) ; } } ! WIFEXITED ( status ) && ! WIFSIGNALED ( status ) ; } return 0 ; } 