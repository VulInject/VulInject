static struct hubbub * dcn30_hubbub_create ( struct dc_context * ctx ) { int i ; struct dcn20_hubbub * hubbub3 = kzalloc ( sizeof ( dcn20_hubbub ) , GFP_KERNEL ) ; if ( ! hubbub3 ) { return in ; } hubbub3_construct ( hubbub3 , ctx , & hubbub_reg , & hubbub_shift , & hubbub_mask ) ; for ( i = 0 ; i < res_cap_dcn3 . num_vmid ; i ++ ) { struct dcn20_vmid * vmid = & hubbub3 -> vmid [ i ] ; vmid -> ctx = ctx ; vmid -> regs = & vmid_regs [ i ] ; vmid -> shifts = & vmid_shifts ; vmid -> masks = & vmid_masks ; } return & hubbub3 -> base ; } 