static void bcm2835_debugfs_regset ( struct bcm2835_cprman * cprman , u32 base , const struct debugfs_reg32 * regs , size_t nregs , struct dentry * dentry ) { struct debugfs_regset32 * regset ; regset = devm_kzalloc ( cprman -> dev , sizeof ( * regset ) , GFP_KERNEL ) ; regset -> regs = regs ; regset -> nregs = nregs ; regset -> base = cprman -> regs + base ; debugfs_create_regset32 ( "regdump" , S_IRUGO , dentry , regset ) ; } bcm2835_pll_data { const char * name ; u32 cm_ctrl_reg ; u32 a2w_ctrl_reg ; u32 frac_reg ; u32 ana_reg_base ; u32 reference_enable_mask ; u32 lock_mask ; u32 flags ; const struct bcm2835_pll_ana_bits * ana ; unsigned long min_rate ; unsigned long max_rate ; unsigned long max_fb_rate ; } bcm2835_pll_ana_bits { u32 mask0 ; u32 set0 ; u32 mask1 ; u32 set1 ; u32 mask3 ; u32 set3 ; u32 fb_prediv_mask ; } static const struct bcm2835_pll_ana_bits bcm2835_ana_default = { . mask0 = 0 . set0 = 0 . mask1 = A2W_PLL_KI_MASK | A2W_PLL_KP_MASK . set1 = ( 2 << A2W_PLL_KI_SHIFT ) | ( 8 << A2W_PLL_KP_SHIFT ) . mask3 = A2W_PLL_KA_MASK . set3 = ( 2 << A2W_PLL_KA_SHIFT ) . fb_prediv_mask = BIT ( 14 ) } ; static const struct bcm2835_pll_ana_bits bcm2835_ana_pllh = { . mask0 = A2W_PLLH_KA_MASK | A2W_PLLH_KI_LOW_MASK . set0 = ( 2 << A2W_PLLH_KA_SHIFT ) | ( 2 << A2W_PLLH_KI_LOW_SHIFT ) . mask1 = A2W_PLLH_KI_HIGH_MASK | A2W_PLLH_KP_MASK . set1 = ( 6 << A2W_PLLH_KP_SHIFT ) . mask3 = 0 . set3 = 0 . fb_prediv_mask = BIT ( 11 ) } ; bcm2835_pll_divider_data { const char * name ; const char * source_pll ; u32 cm_reg ; u32 a2w_reg ; u32 load_mask ; u32 hold_mask ; u32 fixed_divider ; u32 flags ; } bcm2835_clock_data { const char * name ; const char * const * parents ; int num_mux_parents ; unsigned int set_rate_parent ; u32 ctl_reg ; u32 div_reg ; u32 int_bits ; u32 frac_bits ; u32 flags ; bool is_vpu_clock ; bool is_mash_clock ; bool low_jitter ; u32 tcnt_mux ; bool round_up ; } bcm2835_gate_data { const char * name ; const char * parent ; u32 ctl_reg ; } bcm2835_pll { struct clk_hw hw ; struct bcm2835_cprman * cprman ; const struct bcm2835_pll_data * data ; } 