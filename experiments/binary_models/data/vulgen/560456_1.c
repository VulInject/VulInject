uint32_t authamd_error_action ( cmi_hdl_t hdl , int ismc , int bank , uint64_t status , uint64_t addr , uint64_t misc , void * mslogout ) { authamd_error_disp_t * disp ; uint32_t rv = 0 ; if ( authamd_forgive_pcc ) { rv |= CMS_ERRSCOPE_CURCONTEXT_OK ; } if ( authamd_fake_poison && status & MSR_MC_STATUS_UC ) { rv |= CMS_ERRSCOPE_POISONED ; } if ( rv ) { return ( rv ) ; } disp = authamd_disp_match ( hdl , ismc , bank , status , addr , misc , mslogout ) ; if ( disp == & authamd_gart_disp ) { return ( CMS_ERRSCOPE_IGNORE_ERR ) ; } return ( rv ) ; } 