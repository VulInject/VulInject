static int tsi148_dma_list_empty ( struct vme_dma_list * list ) { struct list_head * pos , * temp ; struct tsi148_dma_entry * entry ; struct vme_bridge * tsi148_bridge = list -> parent -> parent ; list_for_each_safe ( , , ) { list_del ( pos ) ; entry = list_entry ( pos , tsi148_dma_entry , list ) ; dma_unmap_single ( tsi148_bridge -> parent , entry -> dma_handle , sizeof ( tsi148_dma_descriptor ) , DMA_TO_DEVICE ) ; } return 0 ; } 