static int intel_opregion_video_event ( struct notifier_block * nb , unsigned long val , void * data ) { struct acpi_bus_event * event = data ; struct opregion_acpi * acpi ; int ret = NOTIFY_OK ; if ( ! system_opregion ) { return NOTIFY_DONE ; } acpi = system_opregion -> acpi ; if ( event -> type == 0x80 && ( ( acpi -> cevt & 1 ) == 0 ) ) { ret = NOTIFY_BAD ; } acpi -> csts = 0 ; return ret ; } 