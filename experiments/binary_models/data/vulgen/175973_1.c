static inline int send_video_command ( struct pwc_device * pdev , int index , const unsigned char * buf , int buflen ) { int rc ; memcpy ( pdev -> ctrl_buf , buf , buflen ) ; rc = usb_control_msg ( pdev -> udev , usb_sndctrlpipe ( pdev -> udev , 0 ) , SET_EP_STREAM_CTL , USB_DIR_OUT | USB_TYPE_VENDOR | USB_RECIP_DEVICE , VIDEO_OUTPUT_CONTROL_FORMATTER , index , pdev -> ctrl_buf , buflen , USB_CTRL_SET_TIMEOUT ) ; return rc ; } 