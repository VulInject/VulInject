const_v4 ( , , ) { struct sockaddr_in * sin4 ; struct in_addr * addr = ( in_addr * ) data ; a -> ai_family = PF_INET ; a -> ai_addrlen = sizeof ( * sin4 ) ; a -> ai_addr = malloc ( sizeof ( * sin4 ) ) ; if ( a -> ai_addr == NULL ) { return EAI_MEMORY ; } sin4 = ( sockaddr_in * ) a -> ai_addr ; sin4 -> sin_family = AF_INET ; sin4 -> sin_port = port ; sin4 -> sin_addr = * addr ; return 0 ; } 