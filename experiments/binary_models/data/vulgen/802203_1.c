PHP_FUNCTION ( ) { int ret ; zend_long csize ; zval * zstream ; php_stream * stream ; ZEND_PARSE_PARAMETERS_START ( 2 , 2 ) Z_PARAM_RESOURCE ( ) Z_PARAM_LONG ( ) ZEND_PARSE_PARAMETERS_END ( ) ; if ( csize <= 0 ) { zend_argument_value_error ( 2 , "must be greater than 0" ) ; RETURN_THROWS ( ) ; } php_stream_from_zval ( stream , zstream ) ; ret = php_stream_set_option ( stream , PHP_STREAM_OPTION_SET_CHUNK_SIZE , ( int ) csize , NULL ) ; RETURN_LONG ( ret > 0 ?( zend_long ) ret : ( zend_long ) EOF ) ; } 