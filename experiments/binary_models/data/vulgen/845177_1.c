static ssize_t batadv_show_mesh_iface ( struct kobject * kobj , struct attribute * attr , char * buff ) { struct net_device * net_dev = batadv_kobj_to_netdev ( kobj ) ; struct batadv_hard_iface * hard_iface ; ssize_t length ; const char * ifname ; hard_iface = batadv_hardif_get_by_netdev ( net_dev ) ; if ( hard_iface -> if_status == BATADV_IF_NOT_IN_USE ) { ifname = "none" ; } else { ifname = hard_iface -> soft_iface -> name ; } length = sprintf ( buff , "%s\n" , ifname ) ; batadv_hardif_put ( hard_iface ) ; return length ; } 