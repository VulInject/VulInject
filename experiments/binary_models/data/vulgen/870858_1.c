void show_bb ( struct basic_block * bb ) { struct instruction * insn ; printf ( "%s:\n" , show_label ( bb ) ) ; if ( verbose ) { pseudo_t needs , defines ; printf ( "%s:%d\n" , stream_name ( bb -> pos . stream ) , bb -> pos . line ) ; FOR_EACH_PTR ( , ) { struct instruction * def = needs -> def ; if ( def -> opcode != OP_PHI ) { printf ( "  **uses %s (from %s)**\n" , show_pseudo ( needs ) , show_label ( def -> bb ) ) ; } else { pseudo_t phi ; const char * sep = " " ; printf ( "  **uses %s (from" , show_pseudo ( needs ) ) ; FOR_EACH_PTR ( , ) { printf ( "%s(%s:%s)" , sep , show_pseudo ( phi ) , show_label ( phi -> def -> bb ) ) ; sep = ", " ; } END_FOR_EACH_PTR ( phi ) ; printf ( ")**\n" ) ; } } END_FOR_EACH_PTR ( needs ) ; FOR_EACH_PTR ( , ) { printf ( "  **defines %s **\n" , show_pseudo ( defines ) ) ; } END_FOR_EACH_PTR ( defines ) ; if ( bb -> parents ) { struct basic_block * from ; FOR_EACH_PTR ( , ) { printf ( "  **from %s (%s:%d:%d)**\n" , show_label ( from ) , stream_name ( from -> pos . stream ) , from -> pos . line , from -> pos . pos ) ; } END_FOR_EACH_PTR ( from ) ; } if ( bb -> children ) { struct basic_block * to ; FOR_EACH_PTR ( , ) { printf ( "  **to %s (%s:%d:%d)**\n" , show_label ( to ) , stream_name ( to -> pos . stream ) , to -> pos . line , to -> pos . pos ) ; } END_FOR_EACH_PTR ( to ) ; } } FOR_EACH_PTR ( , ) { if ( ! insn -> bb && verbose < 2 ) { continue ; } printf ( "\t%s\n" , show_instruction ( insn ) ) ; } END_FOR_EACH_PTR ( insn ) ; if ( ! bb_terminated ( bb ) ) { printf ( "\tEND\n" ) ; } } 