void qed_ptt_set_win ( struct qed_hwfn * p_hwfn , struct qed_ptt * p_ptt , u32 new_hw_addr ) { u32 prev_hw_addr ; prev_hw_addr = qed_ptt_get_hw_addr ( p_hwfn , p_ptt ) ; DP_VERBOSE ( p_hwfn , NETIF_MSG_HW , "Updating PTT entry %d to offset 0x%x\n" , p_ptt -> idx , new_hw_addr ) ; p_ptt -> pxp . offset = cpu_to_le32 ( new_hw_addr >> 2 ) ; REG_WR ( p_hwfn , qed_ptt_config_addr ( p_ptt ) + offsetof ( pxp_ptt_entry , offset ) , le32_to_cpu ( p_ptt -> pxp . offset ) ) ; } 