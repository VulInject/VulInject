static GList * fail_all_monitor_cmds ( GList * list ) { GList * rm_list = NULL ; remote_ra_cmd_t * cmd = NULL ; GList * gIter = NULL ; for ( gIter = list ; gIter != NULL ; gIter = gIter -> next ) { cmd = gIter -> data ; if ( ( cmd -> interval_ms > 0 ) && pcmk__str_eq ( cmd -> action , "monitor" , pcmk__str_casei ) ) { rm_list = g_list_append ( rm_list , cmd ) ; } } for ( gIter = rm_list ; gIter != NULL ; gIter = gIter -> next ) { cmd = gIter -> data ; pcmk__set_result ( & ( cmd -> result ) , PCMK_OCF_UNKNOWN_ERROR , PCMK_EXEC_ERROR , "Lost connection to remote executor" ) ; crm_trace ( "Pre-emptively failing %s %s (interval=%u, %s)" , cmd -> action , cmd -> rsc_id , cmd -> interval_ms , cmd -> userdata ) ; report_remote_ra_result ( cmd ) ; list = g_list_remove ( list , cmd ) ; free_cmd ( cmd ) ; } return list ; } 