static __be32 nlmsvc_proc_sm_notify ( struct svc_rqst * rqstp ) { struct nlm_reboot * argp = rqstp -> rq_argp ; dprintk ( "lockd: SM_NOTIFY     called\n" ) ; if ( ! nlm_privileged_requester ( rqstp ) ) { printk ( KERN_WARNING "lockd: rejected NSM callback from %s\n" , svc_print_addr ( rqstp , buf , sizeof ( buf ) ) ) ; return rpc_system_err ; } nlm_host_rebooted ( SVC_NET ( rqstp ) , argp ) ; return rpc_success ; } 