gimp_tool_rectangle_update_options ( ) { GimpToolRectanglePrivate * private = rectangle -> private ; gdouble x1 , y1 ; gdouble x2 , y2 ; gimp_tool_rectangle_get_public_rect ( rectangle , & x1 , & y1 , & x2 , & y2 ) ; g_signal_handlers_block_by_func ( options , gimp_tool_rectangle_options_notify , rect_tool ) ; g_object_freeze_notify ( G_OBJECT ( rectangle ) ) ; if ( ! FEQUAL ( private -> x , x1 ) ) { g_object_set ( rectangle , "x" , x1 , NULL ) ; } if ( ! FEQUAL ( private -> y , y1 ) ) { g_object_set ( rectangle , "y" , y1 , NULL ) ; } if ( ! FEQUAL ( private -> width , x2 - x1 ) ) { g_object_set ( rectangle , "width" , x2 - x1 , NULL ) ; } if ( ! FEQUAL ( private -> height , y2 - y1 ) ) { g_object_set ( rectangle , "height" , y2 - y1 , NULL ) ; } g_signal_handlers_unblock_by_func ( options , gimp_tool_rectangle_options_notify , rect_tool ) ; } 