on_update_callback ( , , ) { TrackerSparqlConnection * db ; GError * error ; UpdateData * data ; data = user_data ; error = NULL ; db = TRACKER_SPARQL_CONNECTION ( object ) ; tracker_sparql_connection_update_finish ( db , result , & error ) ; if ( error && error -> code == G_IO_ERROR_CANCELLED ) { g_error_free ( error ) ; } else { g_warning ( "error updating tags: %s" , error -> message ) ; g_task_return_error ( data -> task , error ) ; g_object_unref ( data -> task ) ; } nautilus_file_list_free ( data -> selection ) ; g_free ( data ) ; } 