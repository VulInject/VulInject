static void _update_origin_job_dep ( job_record_t * job_ptr , slurmdb_cluster_rec_t * origin ) { slurm_msg_t req_msg ; xassert ( job_ptr ) ; xassert ( job_ptr -> details ) ; xassert ( job_ptr -> details -> depend_list ) ; xassert ( origin ) ; if ( origin == fed_mgr_cluster_rec ) { error ( "%s: Cannot send dependency update of %pJ to self - were clusters removed then re-added to the federation in a different order?" , __func__ , job_ptr ) ; return ; } dep_update_msg . depend_list = job_ptr -> details -> depend_list ; dep_update_msg . job_id = job_ptr -> job_id ; slurm_msg_t_init ( & req_msg ) ; req_msg . msg_type = REQUEST_UPDATE_ORIGIN_DEP ; req_msg . data = & dep_update_msg ; if ( _queue_rpc ( origin , & req_msg , 0 , false ) ) { error ( "%s: Failed to send dependency update for %pJ" , __func__ , job_ptr ) ; } } 