l_int32 main ( int argc , char * * argv ) { PIX * pix1 ; PIXA * pixa1 , * pixa2 , * pixa3 ; L_STRCODE * strc ; setLeptDebugOK ( 1 ) ; lept_mkdir ( "lept/recog/digits" ) ; pixa1 = MakeBootnum1 ( ) ; pixaWrite ( "/tmp/lept/recog/digits/bootnum1.pa" , pixa1 ) ; pix1 = pixaDisplayTiledWithText ( pixa1 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 100 , 0 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa1 ) ; strc = strcodeCreate ( 101 ) ; strcodeGenerate ( strc , "/tmp/lept/recog/digits/bootnum1.pa" , "PIXA" ) ; strcodeFinalize ( & strc , "/tmp/lept/auto" ) ; lept_free ( strc ) ; pixa1 = l_bootnum_gen1 ( ) ; pix1 = pixaDisplayTiledWithText ( pixa1 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 100 , 0 ) ; pixDestroy ( & pix1 ) ; pixa3 = pixaExtendByMorph ( pixa1 , L_MORPH_ERODE , 2 , NULL , 1 ) ; pix1 = pixaDisplayTiledWithText ( pixa3 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 100 , 0 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa1 ) ; pixaDestroy ( & pixa3 ) ; pixa2 = pixaRead ( "recog/digits/bootnum2.pa" ) ; pixaWrite ( "/tmp/lept/recog/digits/bootnum2.pa" , pixa2 ) ; pix1 = pixaDisplayTiledWithText ( pixa2 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 100 , 700 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa2 ) ; strc = strcodeCreate ( 102 ) ; strcodeGenerate ( strc , "/tmp/lept/recog/digits/bootnum2.pa" , "PIXA" ) ; strcodeFinalize ( & strc , "/tmp/lept/auto" ) ; lept_free ( strc ) ; pixa2 = l_bootnum_gen2 ( ) ; pix1 = pixaDisplayTiledWithText ( pixa2 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 100 , 700 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa2 ) ; pixa1 = pixaRead ( "recog/digits/bootnum3.pa" ) ; pix1 = pixaDisplayTiledWithText ( pixa1 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 1000 , 0 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa1 ) ; strc = strcodeCreate ( 103 ) ; strcodeGenerate ( strc , "recog/digits/bootnum3.pa" , "PIXA" ) ; strcodeFinalize ( & strc , "/tmp/lept/auto" ) ; lept_free ( strc ) ; pixa1 = l_bootnum_gen3 ( ) ; pix1 = pixaDisplayTiledWithText ( pixa1 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 1000 , 0 ) ; pixDestroy ( & pix1 ) ; pixa3 = pixaExtendByMorph ( pixa1 , L_MORPH_ERODE , 2 , NULL , 1 ) ; pix1 = pixaDisplayTiledWithText ( pixa3 , 1500 , 1.0 , 10 , 2 , 6 , 0xff000000 ) ; pixDisplay ( pix1 , 1000 , 0 ) ; pixDestroy ( & pix1 ) ; pixaDestroy ( & pixa1 ) ; pixaDestroy ( & pixa3 ) ; pixa1 = l_bootnum_gen1 ( ) ; pixaWrite ( "/tmp/lept/junk.pa" , pixa1 ) ; pixa2 = pixaRead ( "/tmp/lept/junk.pa" ) ; pixaWrite ( "/tmp/lept/junk1.pa" , pixa2 ) ; pixa3 = pixaRead ( "/tmp/lept/junk1.pa" ) ; n = pixaGetCount ( pixa3 ) ; for ( i = 0 ; i < n ; i ++ ) { pix = pixaGetPix ( pixa3 , i , L_CLONE ) ; lept_stderr ( "i = %d, text = %s\n" , i , pixGetText ( pix ) ) ; pixDestroy ( & pix ) ; } pixaDestroy ( & pixa1 ) ; pixaDestroy ( & pixa2 ) ; pixaDestroy ( & pixa3 ) ; return 0 ; } 