static void vcpu_mem ( unsigned int cpu_index , qemu_plugin_meminfo_t info , uint64_t vaddr , void * udata ) { GString * s ; g_assert ( cpu_index < last_exec -> len ) ; s = g_array_index ( last_exec , GString * , cpu_index ) ; if ( qemu_plugin_mem_is_store ( info ) ) { g_string_append ( s , ", store" ) ; } else { g_string_append ( s , ", load" ) ; } struct qemu_plugin_hwaddr * hwaddr = qemu_plugin_get_hwaddr ( info , vaddr ) ; if ( hwaddr ) { uint64_t addr = qemu_plugin_hwaddr_phys_addr ( hwaddr ) ; g_string_append_printf ( s , ", 0x%08" PRIx64 ", %s" , addr , name ) ; } else { g_string_append_printf ( s , ", 0x%08" PRIx64 , vaddr ) ; } } 