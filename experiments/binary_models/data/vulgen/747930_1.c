static void sxgbe_clear_descriptors ( struct sxgbe_priv_data * priv ) { int i , j ; unsigned int txsize = priv -> dma_tx_size ; unsigned int rxsize = priv -> dma_rx_size ; for ( j = 0 ; j < SXGBE_RX_QUEUES ; j ++ ) { for ( i = 0 ; i < rxsize ; i ++ ) { priv -> hw -> desc -> init_rx_desc ( & priv -> rxq [ j ] -> dma_rx [ i ] , priv -> use_riwt , priv -> mode , ( i == rxsize - 1 ) ) ; } } for ( j = 0 ; j < SXGBE_TX_QUEUES ; j ++ ) { for ( i = 0 ; i < txsize ; i ++ ) { priv -> hw -> desc -> init_tx_desc ( & priv -> txq [ j ] -> dma_tx [ i ] ) ; } } } 