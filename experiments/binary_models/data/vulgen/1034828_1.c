static void transform1 ( const int16_t * a , const int16_t * b , int16_t * dst , int width ) { int s0 = a [ 0 ] + ( b [ 0 ] >> 1 ) ; for ( int i = 0 ; i < width / 2 - 1 ; i ++ ) { dst [ i * 2 ] = s0 ; s0 = a [ i + 1 ] + ( ( b [ i ] + b [ i ] ) >> 1 ) ; dst [ i * 2 + 1 ] = ( ( dst [ i * 2 ] + s0 ) >> 1 ) - 2 * b [ i ] ; } dst [ width - 2 ] = s0 ; dst [ width - 1 ] = a [ width / 2 - 1 ] + ( ( b [ width / 2 - 2 ] - 2 * b [ width / 2 - 1 ] ) >> 2 ) - b [ width / 2 - 1 ] ; } 