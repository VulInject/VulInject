static void sdma_v6_0_emit_copy_buffer ( struct amdgpu_ib * ib , uint64_t src_offset , uint64_t dst_offset , uint32_t byte_count , bool tmz ) { ib -> ptr [ ib -> length_dw ++ ] = SDMA_PKT_COPY_LINEAR_HEADER_OP ( SDMA_OP_COPY ) | SDMA_PKT_COPY_LINEAR_HEADER_SUB_OP ( SDMA_SUBOP_COPY_LINEAR ) | SDMA_PKT_COPY_LINEAR_HEADER_TMZ ( tmz ?1 : 0 ) ; ib -> ptr [ ib -> length_dw ++ ] = 0 ; ib -> ptr [ ib -> length_dw ++ ] = lower_32_bits ( src_offset ) ; ib -> ptr [ ib -> length_dw ++ ] = upper_32_bits ( src_offset ) ; ib -> ptr [ ib -> length_dw ++ ] = lower_32_bits ( dst_offset ) ; ib -> ptr [ ib -> length_dw ++ ] = upper_32_bits ( dst_offset ) ; } 