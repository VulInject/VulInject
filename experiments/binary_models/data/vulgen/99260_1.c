if ( cent -> currentState . modelindex2 ) { if ( ! cent -> lerpFrame . oldFrameTime ) { cent -> centAnim [ 0 ] . name [ 0 ] = 0 ; cent -> centAnim [ 0 ] . firstFrame = 0 ; cent -> centAnim [ 0 ] . numFrames = cent -> currentState . effect3Time ; cent -> centAnim [ 0 ] . loopFrames = cent -> currentState . effect3Time ; cent -> centAnim [ 0 ] . frameLerp = 1000.0f / 15.0f ; cent -> centAnim [ 0 ] . initialLerp = 1000.0f / 15.0f ; cent -> centAnim [ 1 ] . name [ 0 ] = 0 ; cent -> centAnim [ 1 ] . firstFrame = cent -> currentState . effect3Time ; cent -> centAnim [ 1 ] . numFrames = cent -> currentState . density ; cent -> centAnim [ 1 ] . loopFrames = 0 ; cent -> centAnim [ 1 ] . frameLerp = 1000.0f / 15.0f ; cent -> centAnim [ 1 ] . initialLerp = 1000.0f / 15.0f ; CG_NewAnim ( cent , & cent -> lerpFrame , & cent -> centAnim [ 0 ] , s1 -> frame ) ; } CG_RunAnim ( cent , & ent . frame , & ent . oldframe , & ent . backlerp ) ; } VectorCopy ( cent -> lerpOrigin , ent . origin ) ; VectorCopy ( cent -> lerpOrigin , ent . oldorigin ) ; if ( cent -> currentState . time ) { ent . fadeStartTime = cent -> currentState . time ; ent . fadeEndTime = cent -> currentState . time2 ; } AnglesToAxis ( cent -> currentState . angles , ent . axis ) ; ent . renderfx = RF_NOSHADOW ; else { ent . hModel = cgs . gameModels [ s1 -> modelindex ] ; } if ( s1 -> modelindex2 ) { ent . skinNum = 0 ; ent . hModel = cgs . gameModels [ s1 -> modelindex2 ] ; trap_R_AddRefEntityToScene ( & ent ) ; } else { trap_R_AddRefEntityToScene ( & ent ) ; } 