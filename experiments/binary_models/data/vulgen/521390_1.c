gimp_color_editor_color_changed ( , , , ) { if ( editor -> context ) { if ( editor -> edit_bg ) { g_signal_handlers_block_by_func ( editor -> context , gimp_color_editor_bg_changed , editor ) ; gimp_context_set_background ( editor -> context , rgb ) ; g_signal_handlers_unblock_by_func ( editor -> context , gimp_color_editor_bg_changed , editor ) ; } else { g_signal_handlers_block_by_func ( editor -> context , gimp_color_editor_fg_changed , editor ) ; gimp_context_set_foreground ( editor -> context , rgb ) ; g_signal_handlers_unblock_by_func ( editor -> context , gimp_color_editor_fg_changed , editor ) ; } } g_signal_handlers_block_by_func ( editor -> hex_entry , gimp_color_editor_entry_changed , editor ) ; g_signal_handlers_unblock_by_func ( editor -> hex_entry , gimp_color_editor_entry_changed , editor ) ; } 