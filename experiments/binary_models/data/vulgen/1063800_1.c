static void nvmf_log_connect_error ( struct nvme_ctrl * ctrl , int errval , int offset , struct nvme_command * cmd , struct nvmf_connect_data * data ) { int err_sctype = errval & ( ~ NVME_SC_DNR ) ; switch ( err_sctype ) { case ( NVME_SC_CONNECT_INVALID_PARAM ) : if ( offset >> 16 ) { char * inv_data = "Connect Invalid Data Parameter" ; switch ( offset & 0xffff ) { case ( offsetof ( nvmf_connect_data , cntlid ) ) : dev_err ( ctrl -> device , "%s, cntlid: %d\n" , inv_data , data -> cntlid ) ; break ; case ( offsetof ( nvmf_connect_data , hostnqn ) ) : dev_err ( ctrl -> device , "%s, hostnqn \"%s\"\n" , inv_data , data -> hostnqn ) ; break ; case ( offsetof ( nvmf_connect_data , subsysnqn ) ) : dev_err ( ctrl -> device , "%s, subsysnqn \"%s\"\n" , inv_data , data -> subsysnqn ) ; break ; default : dev_err ( ctrl -> device , "%s, starting byte offset: %d\n" , inv_data , offset & 0xffff ) ; break ; } } else { char * inv_sqe = "Connect Invalid SQE Parameter" ; switch ( offset ) { case ( offsetof ( nvmf_connect_command , qid ) ) : dev_err ( ctrl -> device , "%s, qid %d\n" , inv_sqe , cmd -> connect . qid ) ; break ; default : dev_err ( ctrl -> device , "%s, starting byte offset: %d\n" , inv_sqe , offset ) ; } } break ; default : break ; } } 