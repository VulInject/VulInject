static int of_overlay_apply_single_property ( struct of_overlay * ov , struct device_node * target , struct property * prop ) { struct property * propn , * tprop ; tprop = of_find_property ( target , prop -> name , NULL ) ; if ( of_prop_cmp ( prop -> name , "name" ) == 0 || of_prop_cmp ( prop -> name , "phandle" ) == 0 || of_prop_cmp ( prop -> name , "linux,phandle" ) == 0 ) { return 0 ; } propn = __of_prop_dup ( prop , GFP_KERNEL ) ; if ( tprop == NULL ) { return of_changeset_add_property ( & ov -> cset , target , propn ) ; } return of_changeset_update_property ( & ov -> cset , target , propn ) ; } 