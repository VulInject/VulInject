static const struct twl4030_bci_platform_data * twl4030_bci_parse_dt ( struct device * dev ) { struct device_node * np = dev -> of_node ; struct twl4030_bci_platform_data * pdata ; u32 num ; if ( ! np ) { return NULL ; } pdata = devm_kzalloc ( dev , sizeof ( * pdata ) , GFP_KERNEL ) ; if ( of_property_read_u32 ( np , "ti,bb-uvolt" , & num ) == 0 ) { pdata -> bb_uvolt = num ; } if ( of_property_read_u32 ( np , "ti,bb-uamp" , & num ) == 0 ) { pdata -> bb_uamp = num ; } return pdata ; } 