static void dump_reg ( ushort regval , const MII_reg_desc_t * prd ) { ulong i ; ushort mask_in_place ; const MII_field_desc_t * pdesc ; printf ( "%u.     (%04hx)                 -- %s --\n" , prd -> regno , regval , prd -> name ) ; for ( i = 0 ; i < prd -> len ; i ++ ) { pdesc = & prd -> pdesc [ i ] ; mask_in_place = pdesc -> mask << pdesc -> lo ; printf ( "  (%04hx:%04x) %u." , mask_in_place , regval & mask_in_place , prd -> regno ) ; printf ( "\n" ) ; } printf ( "\n" ) ; } 