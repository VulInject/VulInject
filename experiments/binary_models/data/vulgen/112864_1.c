* whatever memory remains RISC_LINESTART , * then the remainder into following addresses * given by the scatter - gather list . * / todo = bpl ; done = ( sg_dma_len ( sg ) - offset ) ; * ( rp ++ ) = cpu_to_le32 ( sg_dma_address ( sg ) + offset ) ; todo -= done ; sg = sg_next ( sg ) ; while ( todo > sg_dma_len ( sg ) ) { * ( rp ++ ) = cpu_to_le32 ( RISC_INLINE | ( done << 12 ) | sg_dma_len ( sg ) ) ; * ( rp ++ ) = cpu_to_le32 ( sg_dma_address ( sg ) ) ; todo -= sg_dma_len ( sg ) ; sg = sg_next ( sg ) ; done += sg_dma_len ( sg ) ; } if ( todo ) { * ( rp ++ ) = cpu_to_le32 ( RISC_INLINE | ( done << 12 ) | todo ) ; * ( rp ++ ) = cpu_to_le32 ( sg_dma_address ( sg ) ) ; } offset = todo ; += padding ; rp ; 