int sig_init ( GS * gp , SCR * sp ) { CL_PRIVATE * clp ; clp = GCLP ( gp ) ; cl_sigint = 0 ; cl_sigterm = 0 ; if ( sp == NULL ) { if ( setsig ( SIGHUP , & clp -> oact [ INDX_HUP ] , h_term ) || setsig ( SIGINT , & clp -> oact [ INDX_INT ] , h_int ) || setsig ( SIGTERM , & clp -> oact [ INDX_TERM ] , h_term ) || setsig ( SIGWINCH , & clp -> oact [ INDX_WINCH ] , h_winch ) ) { err ( 1 , NULL ) ; } } if ( setsig ( SIGHUP , NULL , h_term ) || setsig ( SIGINT , NULL , h_int ) || setsig ( SIGTERM , NULL , h_term ) || setsig ( SIGWINCH , NULL , h_winch ) ) { msgq ( sp , M_SYSERR , "signal-reset" ) ; } return ( 0 ) ; } 