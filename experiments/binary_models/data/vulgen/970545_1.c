static void free_devices ( struct list_head * devices , struct mapped_device * md ) { struct list_head * tmp , * next ; list_for_each_safe ( , , ) { struct dm_dev_internal * dd = list_entry ( tmp , dm_dev_internal , list ) ; DMWARN ( "%s: dm_table_destroy: dm_put_device call missing for %s" , dm_device_name ( md ) , dd -> dm_dev -> name ) ; dm_put_table_device ( md , dd -> dm_dev ) ; } } 