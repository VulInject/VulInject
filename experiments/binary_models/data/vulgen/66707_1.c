static void hycapi_fill_profile ( hysdn_card * card ) { hycapictrl_info * cinfo = NULL ; struct capi_ctr * ctrl = NULL ; cinfo = card -> hyctrlinfo ; if ( ! cinfo ) { return ; } ctrl = & cinfo -> capi_ctrl ; ctrl -> version . majorversion = 2 ; ctrl -> version . minorversion = 0 ; ctrl -> version . majormanuversion = 3 ; ctrl -> version . minormanuversion = 2 ; ctrl -> profile . ncontroller = card -> myid ; ctrl -> profile . nbchannel = card -> bchans ; ctrl -> profile . goptions = GLOBAL_OPTION_INTERNAL_CONTROLLER | GLOBAL_OPTION_B_CHANNEL_OPERATION ; ctrl -> profile . support1 = B1_PROT_64KBIT_HDLC | ( card -> faxchans ?B1_PROT_T30 : 0 ) | B1_PROT_64KBIT_TRANSPARENT ; ctrl -> profile . support2 = B2_PROT_ISO7776 | ( card -> faxchans ?B2_PROT_T30 : 0 ) | B2_PROT_TRANSPARENT ; ctrl -> profile . support3 = B3_PROT_TRANSPARENT | B3_PROT_T90NL | ( card -> faxchans ?B3_PROT_T30 : 0 ) | ( card -> faxchans ?B3_PROT_T30EXT : 0 ) | B3_PROT_ISO8208 ; } 