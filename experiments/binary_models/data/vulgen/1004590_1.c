gimp_gradient_tool_editor_init_stop_gui ( ) { GtkWidget * editor ; GtkWidget * grid ; GtkWidget * label ; GtkWidget * se ; GtkWidget * grid2 ; GtkWidget * button ; GtkWidget * hbox ; GtkWidget * separator ; gint row = 0 ; gradient_tool -> stop_editor = editor = gimp_editor_new ( ) ; gtk_box_pack_start ( GTK_BOX ( gimp_tool_gui_get_vbox ( gradient_tool -> gui ) ) , editor , FALSE , TRUE , 0 ) ; grid = gtk_grid_new ( ) ; gtk_grid_set_row_spacing ( GTK_GRID ( grid ) , 4 ) ; gtk_grid_set_column_spacing ( GTK_GRID ( grid ) , 4 ) ; gtk_box_pack_start ( GTK_BOX ( editor ) , grid , FALSE , TRUE , 0 ) ; gtk_widget_show ( grid ) ; label = gtk_label_new ( _ ( "Position:" ) ) ; gtk_label_set_xalign ( GTK_LABEL ( label ) , 0.0 ) ; gtk_grid_attach ( GTK_GRID ( grid ) , label , 0 , row , 1 , 1 ) ; gtk_widget_show ( label ) ; gradient_tool -> stop_se = se = gimp_size_entry_new ( 1 , GIMP_UNIT_PERCENT , "%a" , FALSE , TRUE , FALSE , 6 , GIMP_SIZE_ENTRY_UPDATE_SIZE ) ; gimp_size_entry_show_unit_menu ( GIMP_SIZE_ENTRY ( se ) , FALSE ) ; gtk_grid_attach ( GTK_GRID ( grid ) , se , 1 , row , 1 , 1 ) ; gtk_widget_show ( se ) ; row ++ ; label = gtk_label_new ( _ ( "Left color:" ) ) ; gtk_label_set_xalign ( GTK_LABEL ( label ) , 0.0 ) ; gtk_grid_attach ( GTK_GRID ( grid ) , label , 0 , row , 1 , 1 ) ; gtk_widget_show ( label ) ; label = gtk_label_new ( _ ( "Right color:" ) ) ; gtk_label_set_xalign ( GTK_LABEL ( label ) , 0.0 ) ; gtk_grid_attach ( GTK_GRID ( grid ) , label , 0 , row + 1 , 1 , 1 ) ; gtk_widget_show ( label ) ; grid2 = gtk_grid_new ( ) ; gtk_grid_set_row_spacing ( GTK_GRID ( grid2 ) , 4 ) ; gtk_grid_set_column_spacing ( GTK_GRID ( grid2 ) , 2 ) ; gtk_grid_attach ( GTK_GRID ( grid ) , grid2 , 1 , row , 1 , 2 ) ; gtk_widget_show ( grid2 ) ; gradient_tool -> stop_chain_button = button = gimp_chain_button_new ( GIMP_CHAIN_RIGHT ) ; gtk_grid_attach ( GTK_GRID ( grid2 ) , button , 1 , 0 , 1 , 2 ) ; gtk_widget_show ( button ) ; hbox = gimp_gradient_tool_editor_color_entry_new ( gradient_tool , _ ( "Change Stop Color" ) , DIRECTION_LEFT , button , & gradient_tool -> stop_left_color_panel , & gradient_tool -> stop_left_type_combo ) ; gtk_grid_attach ( GTK_GRID ( grid2 ) , hbox , 0 , 0 , 1 , 1 ) ; gtk_widget_show ( hbox ) ; hbox = gimp_gradient_tool_editor_color_entry_new ( gradient_tool , _ ( "Change Stop Color" ) , DIRECTION_RIGHT , button , & gradient_tool -> stop_right_color_panel , & gradient_tool -> stop_right_type_combo ) ; gtk_grid_attach ( GTK_GRID ( grid2 ) , hbox , 0 , 1 , 1 , 1 ) ; gtk_widget_show ( hbox ) ; row += 2 ; separator = gtk_separator_new ( GTK_ORIENTATION_HORIZONTAL ) ; gtk_grid_attach ( GTK_GRID ( grid ) , separator , 0 , row , 2 , 1 ) ; gtk_widget_show ( separator ) ; row ++ ; gimp_editor_add_button ( GIMP_EDITOR ( editor ) , GIMP_ICON_EDIT_DELETE , _ ( "Delete stop" ) , NULL , G_CALLBACK ( gimp_gradient_tool_editor_stop_delete_clicked ) , NULL , G_OBJECT ( gradient_tool ) ) ; } 