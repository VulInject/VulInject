static void pci_bridge_init_alias ( PCIBridge * bridge , MemoryRegion * alias , uint8_t type , const char * name , MemoryRegion * space , MemoryRegion * parent_space , bool enabled ) { PCIDevice * bridge_dev = PCI_DEVICE ( bridge ) ; pcibus_t base = pci_bridge_get_base ( bridge_dev , type ) ; pcibus_t limit = pci_bridge_get_limit ( bridge_dev , type ) ; pcibus_t size = enabled && limit >= base ?limit + 1 - base : 0 ; memory_region_init_alias ( alias , OBJECT ( bridge ) , name , space , base , size ) ; } 