void CON_Init ( void ) { struct termios tc ; signal ( SIGTTIN , SIG_IGN ) ; signal ( SIGTTOU , SIG_IGN ) ; signal ( SIGCONT , CON_SigCont ) ; fcntl ( STDIN_FILENO , F_SETFL , fcntl ( STDIN_FILENO , F_GETFL , 0 ) | O_NONBLOCK ) ; Field_Clear ( & TTY_con ) ; tcgetattr ( STDIN_FILENO , & TTY_tc ) ; TTY_erase = TTY_tc . c_cc [ VERASE ] ; TTY_eof = TTY_tc . c_cc [ VEOF ] ; tc = TTY_tc ; tc . c_lflag &= ~ ( ECHO | ICANON ) ; tc . c_iflag &= ~ ( ISTRIP | INPCK ) ; tc . c_cc [ VMIN ] = 1 ; tc . c_cc [ VTIME ] = 0 ; tcsetattr ( STDIN_FILENO , TCSADRAIN , & tc ) ; ttycon_on = qtrue ; ttycon_hide = 1 ; CON_Show ( ) ; } 