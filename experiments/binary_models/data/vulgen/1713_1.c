static int rvin_digital_graph_init ( struct rvin_dev * vin ) { struct v4l2_async_subdev * * subdevs = NULL ; int ret ; ret = rvin_digital_graph_parse ( vin ) ; if ( ret ) { return ret ; } if ( ! vin -> digital . asd . match . of . node ) { vin_dbg ( vin , "No digital subdevice found\n" ) ; return - ENODEV ; } subdevs = devm_kzalloc ( vin -> dev , sizeof ( * subdevs ) , GFP_KERNEL ) ; if ( subdevs == NULL ) { return - ENOMEM ; } subdevs [ 0 ] = & vin -> digital . asd ; vin_dbg ( vin , "Found digital subdevice %s\n" , of_node_full_name ( subdevs [ 0 ] -> match . of . node ) ) ; vin -> notifier . num_subdevs = 1 ; vin -> notifier . subdevs = subdevs ; vin -> notifier . bound = rvin_digital_notify_bound ; vin -> notifier . unbind = rvin_digital_notify_unbind ; vin -> notifier . complete = rvin_digital_notify_complete ; ret = v4l2_async_notifier_register ( & vin -> v4l2_dev , & vin -> notifier ) ; return 0 ; } 