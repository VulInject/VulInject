static int eql_enslave ( struct net_device * dev , slaving_request_t __user * srq ) static int eql_emancipate ( struct net_device * dev , slaving_request_t __user * srq ) static int eql_g_slave_cfg ( struct net_device * dev , slave_config_t __user * sc ) static int eql_s_slave_cfg ( struct net_device * dev , slave_config_t __user * sc ) static int eql_g_master_cfg ( struct net_device * dev , master_config_t __user * mc ) static int eql_s_master_cfg ( struct net_device * dev , master_config_t __user * mc ) static int eql_siocdevprivate ( struct net_device * dev , struct ifreq * ifr , void __user * data , int cmd ) { if ( cmd != EQL_GETMASTRCFG && cmd != EQL_GETSLAVECFG && ! capable ( CAP_NET_ADMIN ) ) { return - EPERM ; } switch ( cmd ) { case EQL_ENSLAVE : return eql_enslave ( dev , data ) ; case EQL_EMANCIPATE : return eql_emancipate ( dev , data ) ; case EQL_GETSLAVECFG : return eql_g_slave_cfg ( dev , data ) ; case EQL_SETSLAVECFG : return eql_s_slave_cfg ( dev , data ) ; case EQL_GETMASTRCFG : return eql_g_master_cfg ( dev , data ) ; case EQL_SETMASTRCFG : return eql_s_master_cfg ( dev , data ) ; default : return - EOPNOTSUPP ; } } 