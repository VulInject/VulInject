gimp_editor_add_button ( , , , , , , ) { GtkWidget * button ; GtkWidget * image ; GtkIconSize button_icon_size ; GtkReliefStyle button_relief ; g_return_val_if_fail ( GIMP_IS_EDITOR ( editor ) , NULL ) ; button_icon_size = gimp_editor_ensure_button_box ( editor , & button_relief ) ; button = gimp_button_new ( ) ; gtk_button_set_relief ( GTK_BUTTON ( button ) , button_relief ) ; gtk_box_pack_start ( GTK_BOX ( editor -> priv -> button_box ) , button , TRUE , TRUE , 0 ) ; gtk_widget_show ( button ) ; if ( tooltip || help_id ) { gimp_help_set_help_data ( button , tooltip , help_id ) ; } if ( callback ) { g_signal_connect_object ( button , "clicked" , callback , callback_data , 0 ) ; } if ( extended_callback ) { g_signal_connect_object ( button , "extended-clicked" , extended_callback , callback_data , 0 ) ; } image = gtk_image_new_from_icon_name ( icon_name , button_icon_size ) ; gtk_container_add ( GTK_CONTAINER ( button ) , image ) ; gtk_widget_show ( image ) ; return button ; } 