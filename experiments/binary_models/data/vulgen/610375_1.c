static int radnode_cleanup ( struct radtree * rt , struct radnode * n ) { while ( n ) { if ( n -> elem ) { return 1 ; } if ( n -> len == 1 && n -> parent ) { return radnode_cleanup_onechild ( rt -> region , n , n -> parent ) ; } if ( n -> len == 0 ) { struct radnode * par = n -> parent ; if ( ! par ) { radnode_delete ( rt -> region , n ) ; rt -> root = NULL ; return 1 ; } n = par ; } else { return 1 ; } } return 1 ; } 