bool test_r_table ( void ) { RTable * t = r_table_new ( "test1" ) ; RTableColumnType * typeString = r_table_type ( "string" ) ; RTableColumnType * typeNumber = r_table_type ( "number" ) ; r_table_add_column ( t , typeString , "name" , 0 ) ; r_table_add_column ( t , typeNumber , "address" , 0 ) ; r_table_add_row ( t , "hello" , "100" , NULL ) ; r_table_add_row ( t , "namings" , "20000" , NULL ) ; r_table_sort ( t , 1 , true ) ; { char * j = r_table_tojson ( t ) ; const char * jOK = "[{\"name\":\"namings\",\"address\":20000},{\"name\":\"hello\",\"address\":100}]" ; mu_assert_streq ( j , jOK , "r_table_get_sections" ) ; free ( j ) ; } mu_end ; } 