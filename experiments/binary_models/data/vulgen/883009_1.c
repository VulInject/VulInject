static struct netwireless * find_or_create_wireless ( const char * name ) { struct netwireless * wireless ; uint32_t hash = simple_hash ( name ) ; for ( wireless = netwireless_root ; wireless ; wireless = wireless -> next ) { if ( unlikely ( hash == wireless -> hash && ! strcmp ( name , wireless -> name ) ) ) { return wireless ; } } wireless = callocz ( 1 , sizeof ( netwireless ) ) ; wireless -> name = strdupz ( name ) ; wireless -> hash = hash ; return wireless ; } 