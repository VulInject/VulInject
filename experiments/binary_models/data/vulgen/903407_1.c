static void fotg210_ep0in ( struct fotg210_udc * fotg210 ) { struct fotg210_ep * ep = fotg210 -> ep [ 0 ] ; if ( ( ! list_empty ( & ep -> queue ) ) && ( ep -> dir_in ) ) { struct fotg210_request * req ; req = list_entry ( ep -> queue . next , fotg210_request , queue ) ; if ( req -> req . length ) { fotg210_start_dma ( ep , req ) ; } if ( ( req -> req . length - req -> req . actual ) < ep -> ep . maxpacket ) { fotg210_set_cxdone ( 0 ) ; } } else { fotg210_set_cxdone ( fotg210 ) ; } } 