HT_PROTOTYPE ( nodefamily_map , nodefamily_t , ht_ent , nodefamily_hash , nodefamily_eq ) ; HT_GENERATE2 ( nodefamily_map , nodefamily_t , ht_ent , nodefamily_hash , node_family_eq , 0.6 , tor_reallocarray_ , tor_free_ ) ; nodefamily_t * nodefamily_parse ( const char * s , const uint8_t * rsa_id_self , unsigned flags ) { smartlist_t * sl = smartlist_new ( ) ; smartlist_split_string ( sl , s , NULL , SPLIT_SKIP_SPACE | SPLIT_IGNORE_BLANK , 0 ) ; nodefamily_t * result = nodefamily_from_members ( sl , rsa_id_self , flags , NULL ) ; SMARTLIST_FOREACH ( sl , char * , cp , tor_free ( cp ) ) ; return result ; } 