static enum hl_asic_type get_asic_type ( struct hl_device * hdev ) { struct pci_dev * pdev = hdev -> pdev ; switch ( pdev -> device ) { case PCI_IDS_GOYA : asic_type = ASIC_GOYA ; break ; case PCI_IDS_GAUDI : asic_type = ASIC_GAUDI ; break ; case PCI_IDS_GAUDI_SEC : asic_type = ASIC_GAUDI_SEC ; break ; case PCI_IDS_GAUDI2 : switch ( pdev -> revision ) { case REV_ID_A : asic_type = ASIC_GAUDI2 ; break ; case REV_ID_B : asic_type = ASIC_GAUDI2B ; break ; default : break ; } break ; default : break ; } return asic_type ; } 