static int saphir_card_msg ( struct IsdnCardState * cs , int mt , void * arg ) { u_long flags ; switch ( mt ) { case CARD_RESET : spin_lock_irqsave ( & cs -> lock , flags ) ; saphir_reset ( cs ) ; spin_unlock_irqrestore ( & cs -> lock , flags ) ; return ( 0 ) ; case CARD_RELEASE : release_io_saphir ( cs ) ; return ( 0 ) ; case CARD_INIT : spin_lock_irqsave ( & cs -> lock , flags ) ; spin_unlock_irqrestore ( & cs -> lock , flags ) ; return ( 0 ) ; case CARD_TEST : return ( 0 ) ; } return ( 0 ) ; } 