static int ptp_disable_pinfunc ( struct ptp_clock_info * ops , enum ptp_pin_function func , unsigned int chan ) { struct ptp_clock_request rq ; int err = 0 ; switch ( func ) { case PTP_PF_NONE : break ; case PTP_PF_EXTTS : rq . type = PTP_CLK_REQ_EXTTS ; rq . extts . index = chan ; err = ops -> enable ( ops , & rq , 0 ) ; break ; case PTP_PF_PEROUT : rq . type = PTP_CLK_REQ_PEROUT ; rq . perout . index = chan ; err = ops -> enable ( ops , & rq , 0 ) ; break ; case PTP_PF_PHYSYNC : break ; default : return - EINVAL ; } return err ; } 