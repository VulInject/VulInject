static void UI_DrawBannerString2 ( int x , int y , const char * str , vec4_t color ) { const char * s ; unsigned char ch ; float ax ; float ay ; float aw ; float ah ; float frow ; float fcol ; float fwidth ; float fheight ; trap_R_SetColor ( color ) ; ax = x * uis . xscale + uis . bias ; ay = y * uis . yscale ; s = str ; while ( * s ) { ch = * s & 127 ; if ( ch == ' ' ) { ax += ( ( float ) PROPB_SPACE_WIDTH + ( float ) PROPB_GAP_WIDTH ) * uis . xscale ; } if ( ch >= 'A' && ch <= 'Z' ) { ch -= 'A' ; fcol = ( float ) propMapB [ ch ] [ 0 ] / 256.0f ; frow = ( float ) propMapB [ ch ] [ 1 ] / 256.0f ; fwidth = ( float ) propMapB [ ch ] [ 2 ] / 256.0f ; fheight = ( float ) PROPB_HEIGHT / 256.0f ; aw = ( float ) propMapB [ ch ] [ 2 ] * uis . xscale ; ah = ( float ) PROPB_HEIGHT * uis . yscale ; trap_R_DrawStretchPic ( ax , ay , aw , ah , fcol , frow , fcol + fwidth , frow + fheight , uis . charsetPropB ) ; ax += ( aw + ( float ) PROPB_GAP_WIDTH * uis . xscale ) ; } s ++ ; } } 