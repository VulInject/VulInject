void MS_Modified ( GF_Node * node ) { MediaSensorStack * st = ( MediaSensorStack * ) gf_node_get_private ( node ) ; while ( gf_list_count ( st -> seg ) ) { gf_list_rem ( st -> seg , 0 ) ; } if ( st -> stream ) { if ( st -> stream -> odm && st -> stream -> odm -> ms_stack ) { gf_list_del_item ( st -> stream -> odm -> ms_stack , st ) ; } gf_mo_unregister ( node , st -> stream ) ; if ( st -> sensor -> isActive ) { st -> sensor -> isActive = 0 ; gf_node_event_out ( ( GF_Node * ) st -> sensor , 4 ) ; } } st -> stream = NULL ; st -> is_init = 0 ; gf_sc_invalidate ( st -> parent -> compositor , NULL ) ; } 