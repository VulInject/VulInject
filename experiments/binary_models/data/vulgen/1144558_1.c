static void xhci_cdns3_plat_start ( struct usb_hcd * hcd ) { struct xhci_hcd * xhci = hcd_to_xhci ( hcd ) ; u32 value ; value = readl ( & xhci -> op_regs -> command ) ; value |= CMD_PM_INDEX ; writel ( value , & xhci -> op_regs -> command ) ; if ( hcd -> regs ) { value = readl ( hcd -> regs + XECP_AUX_CTRL_REG1 ) ; value |= CFG_RXDET_P3_EN ; writel ( value , hcd -> regs + XECP_AUX_CTRL_REG1 ) ; value = readl ( hcd -> regs + XECP_PORT_CAP_REG ) ; writel ( value , hcd -> regs + XECP_PORT_CAP_REG ) ; } } 