static void _layout_conf_ctl ( GtkTreeStore * treestore , slurm_ctl_conf_info_msg_t * slurm_ctl_conf_ptr ) { char time_str [ 256 ] , tmp_str [ 300 ] ; GtkTreeIter iter ; List ret_list = NULL ; char * select_title = "Select Plugin Configuration" ; char * tmp_title = NULL ; if ( cluster_flags & CLUSTER_FLAG_CRAY ) { select_title = "\nCray configuration\n" ; } if ( ! slurm_ctl_conf_ptr ) { return ; } slurm_make_time_str ( ( time_t * ) & slurm_ctl_conf_ptr -> last_update , time_str , sizeof ( time_str ) ) ; snprintf ( tmp_str , sizeof ( tmp_str ) , "Configuration data as of %s" , time_str ) ; ret_list = slurm_ctl_conf_2_key_pairs ( slurm_ctl_conf_ptr ) ; _gtk_print_key_pairs ( ret_list , tmp_str , 1 , treestore , & iter ) ; FREE_NULL_LIST ( ret_list ) ; _gtk_print_key_pairs ( slurm_ctl_conf_ptr -> acct_gather_conf , "Account Gather" , 0 , treestore , & iter ) ; _gtk_print_key_pairs ( slurm_ctl_conf_ptr -> cgroup_conf , "Cgroup Support" , 0 , treestore , & iter ) ; _gtk_print_key_pairs ( slurm_ctl_conf_ptr -> ext_sensors_conf , "External Sensors" , 0 , treestore , & iter ) ; _gtk_print_key_pairs ( slurm_ctl_conf_ptr -> mpi_conf , "MPI Plugins Configuration:" , 0 , treestore , & iter ) ; xstrcat ( tmp_title , "Node Features:" ) ; _gtk_print_config_plugin_params_list ( slurm_ctl_conf_ptr -> node_features_conf , tmp_title , 0 , treestore , & iter ) ; _gtk_print_key_pairs ( slurm_ctl_conf_ptr -> select_conf_key_pairs , select_title , 0 , treestore , & iter ) ; } 