irqreturn_t hidma_ll_inthandler ( int chirq , void * arg ) { struct hidma_lldev * lldev = arg ; u32 status ; u32 enable ; u32 cause ; status = readl_relaxed ( lldev -> evca + HIDMA_EVCA_IRQ_STAT_REG ) ; enable = readl_relaxed ( lldev -> evca + HIDMA_EVCA_IRQ_EN_REG ) ; cause = status & enable ; while ( cause ) { status = readl_relaxed ( lldev -> evca + HIDMA_EVCA_IRQ_STAT_REG ) ; enable = readl_relaxed ( lldev -> evca + HIDMA_EVCA_IRQ_EN_REG ) ; cause = status & enable ; } return IRQ_HANDLED ; } 