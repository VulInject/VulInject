static u32 rtc_read_lp_counter ( struct snvs_rtc_data * data ) { u64 read1 , read2 ; u32 val ; { regmap_read ( data -> regmap , data -> offset + SNVS_LPSRTCMR , & val ) ; read1 = val ; read1 <<= 32 ; regmap_read ( data -> regmap , data -> offset + SNVS_LPSRTCLR , & val ) ; read1 |= val ; regmap_read ( data -> regmap , data -> offset + SNVS_LPSRTCMR , & val ) ; read2 = val ; read2 <<= 32 ; read2 |= val ; } read1 != read2 ; return ( u32 ) ( read1 >> CNTR_TO_SECS_SH ) ; } 