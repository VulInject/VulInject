zfpm_show_stats ( ) { zfpm_stats_t total_stats ; time_t elapsed ; vty_out ( vty , "%s%-40s %10s     Last %2d secs%s%s" , VTY_NEWLINE , "Counter" , "Total" , ZFPM_STATS_IVL_SECS , VTY_NEWLINE , VTY_NEWLINE ) ; zfpm_stats_compose ( & zfpm_g -> cumulative_stats , & zfpm_g -> stats , & total_stats ) ; ZFPM_SHOW_STAT ( connect_calls ) ; ZFPM_SHOW_STAT ( connect_no_sock ) ; ZFPM_SHOW_STAT ( read_cb_calls ) ; ZFPM_SHOW_STAT ( write_cb_calls ) ; ZFPM_SHOW_STAT ( write_calls ) ; ZFPM_SHOW_STAT ( partial_writes ) ; ZFPM_SHOW_STAT ( max_writes_hit ) ; ZFPM_SHOW_STAT ( t_write_yields ) ; ZFPM_SHOW_STAT ( nop_deletes_skipped ) ; ZFPM_SHOW_STAT ( route_adds ) ; ZFPM_SHOW_STAT ( route_dels ) ; ZFPM_SHOW_STAT ( updates_triggered ) ; ZFPM_SHOW_STAT ( non_fpm_table_triggers ) ; ZFPM_SHOW_STAT ( redundant_triggers ) ; ZFPM_SHOW_STAT ( dests_del_after_update ) ; ZFPM_SHOW_STAT ( t_conn_down_starts ) ; ZFPM_SHOW_STAT ( t_conn_down_dests_processed ) ; ZFPM_SHOW_STAT ( t_conn_down_yields ) ; ZFPM_SHOW_STAT ( t_conn_down_finishes ) ; ZFPM_SHOW_STAT ( t_conn_up_starts ) ; ZFPM_SHOW_STAT ( t_conn_up_dests_processed ) ; ZFPM_SHOW_STAT ( t_conn_up_yields ) ; ZFPM_SHOW_STAT ( t_conn_up_aborts ) ; ZFPM_SHOW_STAT ( t_conn_up_finishes ) ; elapsed = zfpm_get_elapsed_time ( zfpm_g -> last_stats_clear_time ) ; vty_out ( vty , "%sStats were cleared %lu seconds ago%s" , VTY_NEWLINE , ( unsigned long ) elapsed , VTY_NEWLINE ) ; } 