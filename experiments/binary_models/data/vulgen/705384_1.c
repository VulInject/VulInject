static PADOFFSET S_pad_alloc_name ( pTHX_ PADNAME * name , U32 flags , HV * typestash , HV * ourstash ) { const PADOFFSET offset = pad_alloc ( OP_PADSV , SVs_PADMY ) ; PERL_ARGS_ASSERT_PAD_ALLOC_NAME ; ASSERT_CURPAD_ACTIVE ( "pad_alloc_name" ) ; if ( typestash ) { SvPAD_TYPED_on ( name ) ; PadnameTYPE ( name ) = MUTABLE_HV ( SvREFCNT_inc_simple_NN ( MUTABLE_SV ( typestash ) ) ) ; } if ( ourstash ) { SvPAD_OUR_on ( name ) ; SvOURSTASH_set ( name , ourstash ) ; SvREFCNT_inc_simple_void_NN ( ourstash ) ; } padnamelist_store ( PL_comppad_name , offset , name ) ; if ( PadnameLEN ( name ) > 1 ) { PadnamelistMAXNAMED ( PL_comppad_name ) = offset ; } return offset ; } 