void fcoet_send_sol_abts ( fcoet_exchange_t * xch ) { fcoe_frame_t * frm ; fcoet_soft_state_t * ss = xch -> xch_ss ; if ( frm == NULL ) { ASSERT ( 0 ) ; return ; } else { fcoet_init_tfm ( frm , xch ) ; frm -> frm_payload = NULL ; } FFM_R_CTL ( 0x81 , frm ) ; FRM2TFM ( frm ) -> tfm_rctl = 0x81 ; FFM_F_CTL ( 0x090000 , frm ) ; FFM_OXID ( xch -> xch_oxid , frm ) ; FFM_RXID ( xch -> xch_rxid , frm ) ; FFM_D_ID ( 0xfffffe , frm ) ; FFM_SEQ_CNT ( xch -> xch_sequence_no , frm ) ; xch -> xch_start_time = ddi_get_lbolt ( ) ; ss -> ss_eport -> eport_tx_frame ( frm ) ; } 