XXX : size maintenance has been removed not used in lighttpd "Splay trees" , or "self-adjusting search trees" are a simple and efficient data structure ; for , with no additional fields . It allows searching , insertion , deletion , deletemin , deletemax , splitting , joining , many other operations , all with amortized logarithmic performance . Since the trees adapt to the sequence of requests , their performance on real access patterns is typically even better . Splay trees are described in a number of texts papers [ 1 , 2 , 3 , 4 ] The code here is adapted from simple top down splay , at the bottom of page of [ 2 ] It can be obtained via anonymous ftp from spade . pc . cs . cmu . edu in directory usr sleator The chief modification here is that the splay operation works even the item being splayed is in the tree , even the tree root of the tree is NULL . So the line t = splay ( It ' ) ; , causes it to search item with key i in the tree rooted at t . If it t there , then the node put at the root is the last one before NULL that would have been reached in a normal binary search i . ( It ' ) 