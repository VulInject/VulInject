static u32 nv_cspmu_event_filter ( const struct perf_event * event ) { if ( ctx -> filter_mask == 0 ) { return ctx -> filter_default_val ; } return event -> attr . config1 & ctx -> filter_mask ; } nv_cspmu_name_fmt { NAME_FMT_GENERIC , NAME_FMT_SOCKET } nv_cspmu_match { u32 prodid ; u32 prodid_mask ; u64 filter_mask ; u32 filter_default_val ; const char * name_pattern ; enum nv_cspmu_name_fmt name_fmt ; struct attribute * * event_attr ; struct attribute * * format_attr ; } 