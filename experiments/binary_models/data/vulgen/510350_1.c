numaAddNumber ( naflags , 700 ) ; str = "<xmp>This is a Fake XMP packet</xmp>\n<text>Guess what ...?</text>" ; length = strlen ( str ) ; sarrayAddString ( savals , str , L_COPY ) ; sarrayAddString ( satypes , "char*" , L_COPY ) ; numaAddNumber ( nasizes , length ) ; numaAddNumber ( naflags , 269 ) ; sarrayAddString ( savals , "One silly title" , L_COPY ) ; sarrayAddString ( satypes , "const char*" , L_COPY ) ; numaAddNumber ( naflags , 270 ) ; sarrayAddString ( savals , "One page of text" , L_COPY ) ; sarrayAddString ( satypes , "const char*" , L_COPY ) ; numaAddNumber ( naflags , 281 ) ; sarrayAddString ( savals , "4" , L_COPY ) ; sarrayAddString ( satypes , "l_uint16" , L_COPY ) ; numaAddNumber ( naflags , 306 ) ; sarrayAddString ( savals , "2004:10:11 09:35:15" , L_COPY ) ; sarrayAddString ( satypes , "const char*" , L_COPY ) ; numaAddNumber ( naflags , 297 ) ; sarrayAddString ( savals , "1-412" , L_COPY ) ; sarrayAddString ( satypes , "l_uint16-l_uint16" , L_COPY ) ; pixWriteTiffCustom ( "/tmp/lept/tiff/tags.tif" , pix1 , IFF_TIFF_G4 , "w" , naflags , savals , satypes , nasizes ) ; fprintTiffInfo ( stderr , "/tmp/lept/tiff/tags.tif" ) ; lept_stderr ( "num flags = %d\n" , numaGetCount ( naflags ) ) ; lept_stderr ( "num sizes = %d\n" , numaGetCount ( nasizes ) ) ; lept_stderr ( "num vals = %d\n" , sarrayGetCount ( savals ) ) ; lept_stderr ( "num types = %d\n" , sarrayGetCount ( satypes ) ) ; numaDestroy ( & naflags ) ; numaDestroy ( & nasizes ) ; sarrayDestroy ( & savals ) ; sarrayDestroy ( & satypes ) ; pixDestroy ( & pix1 ) ; 