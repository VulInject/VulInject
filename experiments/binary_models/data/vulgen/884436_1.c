static int cypress_probe ( struct usb_interface * intf , const struct usb_device_id * id ) { struct us_data * us ; int result ; struct usb_device * device ; if ( result ) { return result ; } device = interface_to_usbdev ( intf ) ; if ( device -> descriptor . iManufacturer != 0x38 || device -> descriptor . iProduct != 0x4e || device -> descriptor . iSerialNumber != 0x64 ) { us -> protocol_name = "Transparent SCSI with Cypress ATACB" ; us -> proto_handler = cypress_atacb_passthrough ; } else { us -> protocol_name = "Transparent SCSI" ; us -> proto_handler = usb_stor_transparent_scsi_command ; } result = usb_stor_probe2 ( us ) ; return result ; } 