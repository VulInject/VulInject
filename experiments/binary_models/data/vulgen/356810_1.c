static void vhost_user_scsi_pci_class_init ( ObjectClass * klass , void * data ) { DeviceClass * dc = DEVICE_CLASS ( klass ) ; VirtioPCIClass * k = VIRTIO_PCI_CLASS ( klass ) ; PCIDeviceClass * pcidev_k = PCI_DEVICE_CLASS ( klass ) ; k -> realize = vhost_user_scsi_pci_realize ; set_bit ( DEVICE_CATEGORY_STORAGE , dc -> categories ) ; device_class_set_props ( dc , vhost_user_scsi_pci_properties ) ; pcidev_k -> vendor_id = PCI_VENDOR_ID_REDHAT_QUMRANET ; pcidev_k -> device_id = PCI_DEVICE_ID_VIRTIO_SCSI ; pcidev_k -> class_id = PCI_CLASS_STORAGE_SCSI ; } 