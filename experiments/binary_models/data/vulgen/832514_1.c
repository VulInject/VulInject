_cairo_xlib_font_fini ( , ) { cairo_xlib_font_t * priv = ( cairo_xlib_font_t * ) abstract_private ; cairo_status_t status ; cairo_xlib_display_t * display ; int i ; cairo_list_del ( & priv -> base . link ) ; cairo_list_del ( & priv -> link ) ; status = _cairo_xlib_display_acquire ( priv -> device , & display ) ; if ( unlikely ( status ) ) { BAIL } for ( i = 0 ; i < NUM_GLYPHSETS ; i ++ ) { cairo_xlib_font_glyphset_t * info ; info = & priv -> glyphset [ i ] ; if ( info -> glyphset ) { XRenderFreeGlyphSet ( display -> display , info -> glyphset ) ; } } cairo_device_release ( & display -> base ) ; BAIL cairo_device_destroy ( priv -> device ) ; } 