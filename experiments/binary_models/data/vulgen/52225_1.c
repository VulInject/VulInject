static void sclp_early_print_vt220 ( const char * str , unsigned int len ) { struct vt220_sccb * sccb ; sccb = ( vt220_sccb * ) sclp_early_sccb ; if ( sizeof ( * sccb ) + len >= EARLY_SCCB_SIZE ) { len = EARLY_SCCB_SIZE - sizeof ( * sccb ) ; } memcpy ( & sccb -> msg . data , str , len ) ; sccb -> header . length = sizeof ( * sccb ) + len ; sccb -> msg . header . length = sizeof ( sccb -> msg ) + len ; sccb -> msg . header . type = EVTYP_VT220MSG ; sclp_early_cmd ( SCLP_CMDW_WRITE_EVENT_DATA , sccb ) ; } 