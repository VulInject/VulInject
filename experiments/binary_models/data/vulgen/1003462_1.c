static void s3c_onenand_writew ( unsigned short value , void __iomem * addr ) { struct onenand_chip * this = onenand -> mtd -> priv ; int reg = addr - this -> base ; int word_addr = reg >> 1 ; switch ( reg ) { case ONENAND_REG_SYS_CFG1 : writel ( value , & onenand -> reg -> mem_cfg ) ; return ; case ONENAND_REG_START_ADDRESS1 : case ONENAND_REG_START_ADDRESS2 : return ; case ONENAND_REG_START_BLOCK_ADDRESS : return ; default : break ; } if ( reg < ONENAND_DATARAM ) { if ( value == ONENAND_CMD_READID ) { onenand -> bootram_command = 1 ; return ; } } printk ( KERN_INFO "s3c_onenand_writew: Illegal access" " at reg 0x%x, value 0x%x\n" , word_addr , value ) ; s3c_write_cmd ( value , CMD_MAP_11 ( word_addr ) ) ; } 