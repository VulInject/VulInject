static void _set_user_default_wckey ( slurmdb_wckey_rec_t * wckey ) { xassert ( wckey ) ; xassert ( wckey -> name ) ; xassert ( assoc_mgr_user_list ) ; if ( ( wckey -> is_def == 1 ) && ( wckey -> uid != NO_VAL ) ) { slurmdb_user_rec_t * user = list_find_first ( assoc_mgr_user_list , _list_find_uid , & wckey -> uid ) ; if ( ! user ) { return ; } if ( ! user -> default_wckey || xstrcmp ( user -> default_wckey , wckey -> name ) ) { user -> default_wckey = xstrdup ( wckey -> name ) ; debug2 ( "user %s default wckey is %s" , user -> name , user -> default_wckey ) ; } } } 