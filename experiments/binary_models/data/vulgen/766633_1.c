static void vmport_realizefn ( DeviceState * dev , Error * * errp ) { ISADevice * isadev = ISA_DEVICE ( dev ) ; VMPortState * s = VMPORT ( dev ) ; isa_register_ioport ( isadev , & s -> io , 0x5658 ) ; port_state = s ; vmport_register ( VMPORT_CMD_GETVERSION , vmport_cmd_get_version , NULL ) ; vmport_register ( VMPORT_CMD_GETRAMSIZE , vmport_cmd_ram_size , NULL ) ; if ( s -> compat_flags & VMPORT_COMPAT_CMDS_V2 ) { vmport_register ( VMPORT_CMD_GETBIOSUUID , vmport_cmd_get_bios_uuid , NULL ) ; vmport_register ( VMPORT_CMD_GETHZ , vmport_cmd_get_hz , NULL ) ; vmport_register ( VMPORT_CMD_GET_VCPU_INFO , vmport_cmd_get_vcpu_info , NULL ) ; } } 