int kmdb_module_unloaded ( kmdb_wr_unload_t * dur ) { mdb_var_t * v ; if ( ( v = mdb_nv_lookup ( & mdb . m_dmodctl , dur -> dur_modname ) ) == NULL ) { mdb_warn ( "unload for unrequested module %s\n" , dur -> dur_modname ) ; return ( 0 ) ; } if ( dur -> dur_errno != 0 ) { mdb_warn ( "dmod %s failed to unload" , dur -> dur_modname ) ; return ( 0 ) ; } mdb_nv_remove ( & mdb . m_dmodctl , v ) ; return ( 1 ) ; } 