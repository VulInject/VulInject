test_counters_op_compressed ( ) { mongoc_collection_t * coll ; mongoc_client_t * client ; BSON_UNUSED ( ctx ) ; _ping ( client ) ; DIFF_AND_RESET ( op_egress_msg , == , 1 ) ; DIFF_AND_RESET ( op_egress_compressed , == , 1 ) ; DIFF_AND_RESET ( op_egress_total , == , 2 ) ; DIFF_AND_RESET ( op_ingress_msg , == , 1 ) ; DIFF_AND_RESET ( op_ingress_compressed , == , 1 ) ; DIFF_AND_RESET ( op_ingress_total , == , 2 ) ; coll = _drop_and_populate_coll ( client ) ; DIFF_AND_RESET ( op_egress_msg , == , 4 ) ; DIFF_AND_RESET ( op_egress_compressed , == , 4 ) ; DIFF_AND_RESET ( op_egress_total , == , 8 ) ; DIFF_AND_RESET ( op_ingress_msg , == , 4 ) ; DIFF_AND_RESET ( op_ingress_compressed , == , 4 ) ; DIFF_AND_RESET ( op_ingress_total , == , 8 ) ; mongoc_collection_destroy ( coll ) ; mongoc_client_destroy ( client ) ; } 