static void putpage ( ) { int colno ; if ( fold ) { foldpage ( ) ; return ; } for ( Line = Margin / 2 ; ; ( void ) get ( 0 ) ) { for ( Nspace = Offset , colno = 0 , Outpos = 0 ; C != '\f' ; ) { if ( Lnumb && ( C != WEOF ) && ( ( ( colno == 0 ) && ( Multi == 'm' ) ) || ( Multi != 'm' ) ) ) { if ( Page >= Fpage ) { putspace ( ) ; ( void ) printf ( "%*ld%wc" , Numw , Buffer ?Colpts [ colno ] . c_lno ++ : Lnumb , Nsepc ) ; Outpos += Numw ; if ( Nsepc == '\t' ) { Outpos += DEFTAB - ( Outpos % DEFTAB ) ; } else { Outpos ++ ; } } ++ Lnumb ; } for ( Lcolpos = 0 , Pcolpos = 0 ; C != '\n' && C != '\f' && C != WEOF ; ( void ) get ( colno ) ) { ( void ) put ( C ) ; } if ( Sepc ) { ( void ) put ( Sepc ) ; } if ( ( Nspace += Colw - Lcolpos + 1 ) < 1 ) { Nspace = 1 ; } } if ( C == WEOF ) { if ( Margin != 0 ) { break ; } if ( colno != 0 ) { ( void ) put ( '\n' ) ; } return ; } if ( C == '\f' ) { break ; } ( void ) put ( '\n' ) ; if ( Dblspace == 2 && Line < Plength ) { ( void ) put ( '\n' ) ; } if ( Line >= Plength ) { break ; } } if ( Formfeed ) { ( void ) put ( '\f' ) ; } else { while ( Line < Length ) { ( void ) put ( '\n' ) ; } } } 