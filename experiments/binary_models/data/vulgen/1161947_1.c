static void jme_set_clean_rxdesc ( struct jme_adapter * jme , int i ) { struct jme_ring * rxring = & ( jme -> rxring [ 0 ] ) ; register struct rxdesc * rxdesc = rxring -> desc ; struct jme_buffer_info * rxbi = rxring -> bufinf ; rxdesc += i ; rxbi += i ; rxdesc -> dw [ 0 ] = 0 ; rxdesc -> dw [ 1 ] = 0 ; rxdesc -> desc1 . bufaddrh = cpu_to_le32 ( ( __u64 ) rxbi -> mapping >> 32 ) ; rxdesc -> desc1 . bufaddrl = cpu_to_le32 ( ( __u64 ) rxbi -> mapping & 0xFFFFFFFFUL ) ; rxdesc -> desc1 . datalen = cpu_to_le16 ( rxbi -> len ) ; wmb ( ) ; rxdesc -> desc1 . flags |= RXFLAG_OWN | RXFLAG_INT ; } 