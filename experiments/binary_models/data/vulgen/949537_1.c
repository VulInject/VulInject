static int stac9460_adc_mute_get ( struct snd_kcontrol * kcontrol , struct snd_ctl_elem_value * ucontrol ) { struct snd_ice1712 * ice = snd_kcontrol_chip ( kcontrol ) ; unsigned char val ; int i , id ; if ( id == 0 ) { for ( i = 0 ; i < 2 ; ++ i ) { val = stac9460_get ( ice , STAC946X_MIC_L_VOLUME + i ) ; ucontrol -> value . integer . value [ i ] = ~ val >> 7 & 0x1 ; } } else { for ( i = 0 ; i < 2 ; ++ i ) { val = stac9460_2_get ( ice , STAC946X_MIC_L_VOLUME + i ) ; ucontrol -> value . integer . value [ i ] = ~ val >> 7 & 0x1 ; } } return 0 ; } 