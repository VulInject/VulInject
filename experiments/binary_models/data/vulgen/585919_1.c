static int internal_power_event ( struct snd_soc_dapm_widget * w , struct snd_kcontrol * kcontrol , int event ) { struct snd_soc_component * comp = snd_soc_dapm_to_component ( w -> dapm ) ; switch ( event ) { case SND_SOC_DAPM_PRE_PMU : break ; case SND_SOC_DAPM_POST_PMU : msleep ( RT9120_AMPON_WAITMS ) ; break ; case SND_SOC_DAPM_POST_PMD : msleep ( RT9120_AMPOFF_WAITMS ) ; break ; default : break ; } return 0 ; } 