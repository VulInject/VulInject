Status_t sa_BufferControlTableRecord_Set ( uint8_t * pRec , Node_t * pNode , Port_t * pPort ) { STL_BUFFER_CONTROL_TABLE_RECORD record ; IB_ENTER ( "sa_BufferControlTableRecord_Set" , pRec , pNode , pPort , 0 ) ; Port_t * swport ; STL_LID lid ; if ( ( pNode -> nodeInfo . NodeType == NI_TYPE_SWITCH ) && ( sm_valid_port ( ( swport = sm_get_port ( pNode , 0 ) ) ) ) ) { lid = swport -> portData -> lid ; } else { lid = pPort -> portData -> lid ; } record . RID . LID = lid ; record . RID . Port = pPort -> index ; record . BufferControlTable = pPort -> portData -> bufCtrlTable ; BSWAPCOPY_STL_BUFFER_CONTROL_TABLE_RECORD ( & record , ( STL_BUFFER_CONTROL_TABLE_RECORD * ) pRec ) ; IB_EXIT ( "sa_BufferControlTableRecord_Set" , VSTATUS_OK ) ; return ( VSTATUS_OK ) ; } 