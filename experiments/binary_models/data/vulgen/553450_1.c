void mdb_set_pipe ( const mdb_pipe_t * p ) { mdb_cmd_t * cp = mdb . m_frame -> f_pcmd ; if ( p == NULL ) { warn ( "dcmd failure: mdb_set_pipe invoked with NULL pointer\n" ) ; longjmp ( mdb . m_frame -> f_pcb , MDB_ERR_API ) ; } if ( cp != NULL ) { mdb_cmd_reset ( cp ) ; cp -> c_addrv . ad_data = mdb_alloc ( nbytes , UM_SLEEP ) ; bcopy ( p -> pipe_data , cp -> c_addrv . ad_data , nbytes ) ; cp -> c_addrv . ad_nelems = p -> pipe_len ; cp -> c_addrv . ad_size = p -> pipe_len ; } } 