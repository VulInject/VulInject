static void usb_wakeup_ip_sleep_en ( struct xhci_hcd_mtk * mtk ) { u32 tmp ; struct regmap * pericfg = mtk -> pericfg ; tmp &= ~ UWK_CTL1_IS_P ; tmp &= ~ ( UWK_CTL1_IS_C ( 0xf ) ) ; tmp |= UWK_CTL1_IS_C ( 0x8 ) ; regmap_write ( pericfg , PERI_WK_CTRL1 , tmp ) ; regmap_write ( pericfg , PERI_WK_CTRL1 , tmp | UWK_CTL1_IS_E ) ; regmap_read ( pericfg , PERI_WK_CTRL1 , & tmp ) ; dev_dbg ( mtk -> dev , "%s(): WK_CTRL1[P6,E25,C26:29]=%#x\n" , __func__ , tmp ) ; } 