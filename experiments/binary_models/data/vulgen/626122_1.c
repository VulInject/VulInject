static void camerarx_phy_enable ( struct cal_ctx * ctx ) { u32 val ; val = reg_read ( ctx -> dev -> cm , CM_CTRL_CORE_CAMERRX_CONTROL ) ; if ( ctx -> csi2_port == 1 ) { set_field ( & val , 1 , CM_CAMERRX_CTRL_CSI0_CTRLCLKEN_MASK ) ; set_field ( & val , 0 , CM_CAMERRX_CTRL_CSI0_CAMMODE_MASK ) ; set_field ( & val , 0xf , CM_CAMERRX_CTRL_CSI0_LANEENABLE_MASK ) ; set_field ( & val , 1 , CM_CAMERRX_CTRL_CSI0_MODE_MASK ) ; } if ( ctx -> csi2_port == 2 ) { set_field ( & val , 1 , CM_CAMERRX_CTRL_CSI1_CTRLCLKEN_MASK ) ; set_field ( & val , 0 , CM_CAMERRX_CTRL_CSI1_CAMMODE_MASK ) ; set_field ( & val , 0x3 , CM_CAMERRX_CTRL_CSI1_LANEENABLE_MASK ) ; set_field ( & val , 1 , CM_CAMERRX_CTRL_CSI1_MODE_MASK ) ; } reg_write ( ctx -> dev -> cm , CM_CTRL_CORE_CAMERRX_CONTROL , val ) ; } 