static void multiorder_iteration_race ( struct xarray * xa ) { pthread_t worker_thread [ num_threads ] ; int i ; pthread_create ( & worker_thread [ 0 ] , NULL , & creator_func , xa ) ; for ( i = 1 ; i < num_threads ; i ++ ) { pthread_create ( & worker_thread [ i ] , NULL , & iterator_func , xa ) ; } for ( i = 0 ; i < num_threads ; i ++ ) { pthread_join ( worker_thread [ i ] , NULL ) ; } item_kill_tree ( xa ) ; } 