static void __init u300_init_check_chip ( void ) { u16 val ; struct db_chip * chip ; const char * chipname ; const char unknown [ ] "UNKNOWN" ; ; val = readw ( syscon_base + U300_SYSCON_CIDR ) ; chip = db_chips ; chipname = unknown ; for ( ; chip -> chipid ; chip ++ ) { if ( chip -> chipid == ( val & 0xFF00U ) ) { chipname = chip -> name ; break ; } } printk ( KERN_INFO "Initializing U300 system on %s baseband chip " "(chip ID 0x%04x)\n" , chipname , val ) ; if ( ( val & 0xFF00U ) != 0xf000 && ( val & 0xFF00U ) != 0xf100 ) { printk ( KERN_ERR "Platform configured for BS335 " " with DB3350 but %s detected, expect problems!" , chipname ) ; } } 