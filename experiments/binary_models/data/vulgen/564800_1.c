int putspent ( const struct spwd * p , FILE * f ) { ( void ) fprintf ( f , "%s:%s:" , p -> sp_namp , p -> sp_pwdp ?p -> sp_pwdp : "" ) ; if ( p -> sp_lstchg >= 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_lstchg ) ; } else { ( void ) fprintf ( f , ":" ) ; } if ( p -> sp_min >= 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_min ) ; } else { ( void ) fprintf ( f , ":" ) ; } if ( p -> sp_max >= 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_max ) ; } else { ( void ) fprintf ( f , ":" ) ; } if ( p -> sp_warn > 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_warn ) ; } else { ( void ) fprintf ( f , ":" ) ; } if ( p -> sp_inact > 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_inact ) ; } else { ( void ) fprintf ( f , ":" ) ; } if ( p -> sp_expire > 0 ) { ( void ) fprintf ( f , "%d:" , p -> sp_expire ) ; } else { ( void ) fprintf ( f , ":" ) ; } else { ( void ) fprintf ( f , "\n" ) ; } ( void ) fflush ( f ) ; return ( ferror ( f ) ) ; } 