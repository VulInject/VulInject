cg_tally ( , , ) { Sym * parent ; Sym * child ; parent = sym_lookup ( & symtab , from_pc ) ; child = sym_lookup ( & symtab , self_pc ) ; while ( child >= symtab . base && ! child -> is_func ) { -- child ; } if ( child < symtab . base ) { return ; } if ( sym_id_arc_is_present ( & syms [ INCL_ARCS ] , parent , child ) || ( syms [ INCL_ARCS ] . len == 0 && ! sym_id_arc_is_present ( & syms [ EXCL_ARCS ] , parent , child ) ) ) { child -> ncalls += count ; DBG ( TALLYDEBUG , printf ( _ ( "[cg_tally] arc from %s to %s traversed %lu times\n" ) , parent -> name , child -> name , count ) ) ; arc_add ( parent , child , count ) ; } } 