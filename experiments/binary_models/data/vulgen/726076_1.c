void dynstats_destroyAllBuckets ( void ) { dynstats_buckets_t * bkts ; dynstats_bucket_t * b ; bkts = & runConf -> dynstats_buckets ; if ( bkts -> initialized ) { pthread_rwlock_wrlock ( & bkts -> lock ) ; while ( 1 ) { b = bkts -> list ; if ( b == NULL ) { break ; } else { bkts -> list = b -> next ; dynstats_destroyBucket ( bkts , b ) ; } } statsobj . Destruct ( & bkts -> global_stats ) ; pthread_rwlock_unlock ( & bkts -> lock ) ; } } 