static gpointer rectangle_create_info_widget ( GtkWidget * frame ) { RectangleProperties_t * props = g_new ( RectangleProperties_t , 1 ) ; GtkWidget * grid , * label , * chain_button ; gint max_width = get_image_width ( ) ; gint max_height = get_image_height ( ) ; grid = gtk_grid_new ( ) ; gtk_container_add ( GTK_CONTAINER ( frame ) , grid ) ; gtk_grid_set_row_spacing ( GTK_GRID ( grid ) , 6 ) ; gtk_grid_set_column_spacing ( GTK_GRID ( grid ) , 6 ) ; gtk_widget_show ( grid ) ; label = create_label_in_grid ( grid , 0 , 0 , _ ( "Upper left _x:" ) ) ; props -> x = create_spin_button_in_grid ( grid , label , 0 , 1 , 1 , 0 , max_width - 1 ) ; g_signal_connect ( props -> x , "value-changed" , G_CALLBACK ( x_changed_cb ) , ( gpointer ) props ) ; create_label_in_grid ( grid , 0 , 3 , _ ( "pixels" ) ) ; label = create_label_in_grid ( grid , 1 , 0 , _ ( "Upper left _y:" ) ) ; props -> y = create_spin_button_in_grid ( grid , label , 1 , 1 , 1 , 0 , max_height - 1 ) ; g_signal_connect ( props -> y , "value-changed" , G_CALLBACK ( y_changed_cb ) , ( gpointer ) props ) ; create_label_in_grid ( grid , 1 , 3 , _ ( "pixels" ) ) ; label = create_label_in_grid ( grid , 2 , 0 , _ ( "_Width:" ) ) ; props -> width = create_spin_button_in_grid ( grid , label , 2 , 1 , 1 , 1 , max_width ) ; g_signal_connect ( props -> width , "value-changed" , G_CALLBACK ( width_changed_cb ) , ( gpointer ) props ) ; create_label_in_grid ( grid , 2 , 3 , _ ( "pixels" ) ) ; label = create_label_in_grid ( grid , 3 , 0 , _ ( "_Height:" ) ) ; props -> height = create_spin_button_in_grid ( grid , label , 3 , 1 , 1 , 1 , max_height ) ; g_signal_connect ( props -> height , "value-changed" , G_CALLBACK ( height_changed_cb ) , ( gpointer ) props ) ; create_label_in_grid ( grid , 3 , 3 , _ ( "pixels" ) ) ; chain_button = gimp_chain_button_new ( GIMP_CHAIN_RIGHT ) ; props -> chain_button = chain_button ; gtk_grid_attach ( GTK_GRID ( grid ) , chain_button , 2 , 2 , 1 , 2 ) ; return props ; } 