{ struct Client * acptr ; char * swhois = "" ; if ( parc > 2 ) { swhois = parv [ 2 ] ; } if ( ! ( acptr = findNUser ( parv [ 1 ] ) ) ) { return 0 ; } ircd_strncpy ( cli_user ( acptr ) -> swhois , swhois , BUFSIZE ) ; if ( swhois && ! EmptyString ( swhois ) ) { sendcmdto_serv_butone ( sptr , CMD_SWHOIS , cptr , "%C :%s" , acptr , swhois ) ; } else { sendcmdto_serv_butone ( sptr , CMD_SWHOIS , cptr , "%C" , acptr ) ; } return 0 ; } 