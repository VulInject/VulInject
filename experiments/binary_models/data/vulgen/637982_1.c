av_cold void ff_vp8dsp_init_x86 ( VP8DSPContext * c ) { int cpu_flags = av_get_cpu_flags ( ) ; if ( EXTERNAL_MMX ( cpu_flags ) ) { c -> vp8_idct_dc_add4uv = ff_vp8_idct_dc_add4uv_mmx ; } if ( EXTERNAL_SSE ( cpu_flags ) ) { c -> vp8_idct_add = ff_vp8_idct_add_sse ; } if ( EXTERNAL_SSE2_SLOW ( cpu_flags ) ) { c -> vp8_v_loop_filter_simple = ff_vp8_v_loop_filter_simple_sse2 ; c -> vp8_v_loop_filter16y_inner = ff_vp8_v_loop_filter16y_inner_sse2 ; c -> vp8_v_loop_filter8uv_inner = ff_vp8_v_loop_filter8uv_inner_sse2 ; c -> vp8_v_loop_filter16y = ff_vp8_v_loop_filter16y_mbedge_sse2 ; c -> vp8_v_loop_filter8uv = ff_vp8_v_loop_filter8uv_mbedge_sse2 ; } if ( EXTERNAL_SSE2 ( cpu_flags ) ) { c -> vp8_idct_dc_add = ff_vp8_idct_dc_add_sse2 ; c -> vp8_idct_dc_add4y = ff_vp8_idct_dc_add4y_sse2 ; c -> vp8_h_loop_filter_simple = ff_vp8_h_loop_filter_simple_sse2 ; c -> vp8_h_loop_filter16y_inner = ff_vp8_h_loop_filter16y_inner_sse2 ; c -> vp8_h_loop_filter8uv_inner = ff_vp8_h_loop_filter8uv_inner_sse2 ; c -> vp8_h_loop_filter16y = ff_vp8_h_loop_filter16y_mbedge_sse2 ; c -> vp8_h_loop_filter8uv = ff_vp8_h_loop_filter8uv_mbedge_sse2 ; } if ( EXTERNAL_SSSE3 ( cpu_flags ) ) { c -> vp8_v_loop_filter_simple = ff_vp8_v_loop_filter_simple_ssse3 ; c -> vp8_h_loop_filter_simple = ff_vp8_h_loop_filter_simple_ssse3 ; c -> vp8_v_loop_filter16y_inner = ff_vp8_v_loop_filter16y_inner_ssse3 ; c -> vp8_h_loop_filter16y_inner = ff_vp8_h_loop_filter16y_inner_ssse3 ; c -> vp8_v_loop_filter8uv_inner = ff_vp8_v_loop_filter8uv_inner_ssse3 ; c -> vp8_h_loop_filter8uv_inner = ff_vp8_h_loop_filter8uv_inner_ssse3 ; c -> vp8_v_loop_filter16y = ff_vp8_v_loop_filter16y_mbedge_ssse3 ; c -> vp8_h_loop_filter16y = ff_vp8_h_loop_filter16y_mbedge_ssse3 ; c -> vp8_v_loop_filter8uv = ff_vp8_v_loop_filter8uv_mbedge_ssse3 ; c -> vp8_h_loop_filter8uv = ff_vp8_h_loop_filter8uv_mbedge_ssse3 ; } if ( EXTERNAL_SSE4 ( cpu_flags ) ) { c -> vp8_idct_dc_add = ff_vp8_idct_dc_add_sse4 ; c -> vp8_h_loop_filter_simple = ff_vp8_h_loop_filter_simple_sse4 ; c -> vp8_h_loop_filter16y = ff_vp8_h_loop_filter16y_mbedge_sse4 ; c -> vp8_h_loop_filter8uv = ff_vp8_h_loop_filter8uv_mbedge_sse4 ; } } 