static void __init free_highpages ( void ) { unsigned long max_low = max_low_pfn ; phys_addr_t range_start , range_end ; u64 i ; for_each_free_mem_range ( , , , , , ) { unsigned long start = PFN_UP ( range_start ) ; unsigned long end = PFN_DOWN ( range_end ) ; if ( start < max_low ) { start = max_low ; } for ( ; start < end ; start ++ ) { free_highmem_page ( pfn_to_page ( start ) ) ; } } } 