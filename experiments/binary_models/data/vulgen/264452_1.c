static void update_paths ( struct repository * r , struct string_list * update ) { struct lock_file index_lock = LOCK_INIT ; int i ; repo_hold_locked_index ( r , & index_lock , LOCK_DIE_ON_ERROR ) ; for ( i = 0 ; i < update -> nr ; i ++ ) { struct string_list_item * item = & update -> items [ i ] ; fprintf_ln ( stderr , _ ( "Staged '%s' using previous resolution." ) , item -> string ) ; } if ( write_locked_index ( r -> index , & index_lock , COMMIT_LOCK | SKIP_IF_UNCHANGED ) ) { die ( _ ( "unable to write new index file" ) ) ; } } 