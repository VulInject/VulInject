int vmem_walk_step ( mdb_walk_state_t * wsp ) { vmem_walk_t * vw = wsp -> walk_data ; vmem_node_t * vp ; int rval ; if ( ( vp = vw -> vw_current ) == NULL ) { return ( WALK_DONE ) ; } if ( vp -> vn_children != NULL ) { vw -> vw_current = vp -> vn_children ; return ( rval ) ; } { vw -> vw_current = vp -> vn_sibling ; vp = vp -> vn_parent ; } vw -> vw_current == NULL && vp != NULL ; return ( rval ) ; } 