static inline void syscall_restart ( unsigned long r0 , unsigned long r19 , struct pt_regs * regs , struct k_sigaction * ka ) { switch ( regs -> r0 ) { case ERESTARTSYS : if ( ! ( ka -> sa . sa_flags & SA_RESTART ) ) { case ERESTARTNOHAND : regs -> r0 = EINTR ; break ; } fallthrough ; case ERESTARTNOINTR : regs -> r0 = r0 ; regs -> pc -= 4 ; break ; case ERESTART_RESTARTBLOCK : regs -> r0 = EINTR ; break ; } } 