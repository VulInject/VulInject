void nvidiafb_copyarea ( struct fb_info * info , const struct fb_copyarea * region ) { struct nvidia_par * par = info -> par ; if ( info -> state != FBINFO_STATE_RUNNING ) { return ; } if ( par -> lockup ) { cfb_copyarea ( info , region ) ; return ; } NVDmaNext ( par , ( region -> sy << 16 ) | region -> sx ) ; NVDmaNext ( par , ( region -> dy << 16 ) | region -> dx ) ; NVDmaNext ( par , ( region -> height << 16 ) | region -> width ) ; NVDmaKickoff ( par ) ; } 