static int rv1108_set_pull ( struct rockchip_pin_bank * bank , int pin_num , int pull ) { struct regmap * regmap ; int reg , ret ; u8 bit , type ; u32 data ; if ( pull == PIN_CONFIG_BIAS_PULL_PIN_DEFAULT ) { return - ENOTSUPP ; } rv1108_calc_pull_reg_and_bit ( bank , pin_num , & regmap , & reg , & bit ) ; type = bank -> pull_type [ pin_num / 8 ] ; ret = rockchip_translate_pull_value ( type , pull ) ; if ( ret < 0 ) { debug ( "unsupported pull setting %d\n" , pull ) ; return ret ; } data = ( ( 1 << ROCKCHIP_PULL_BITS_PER_PIN ) - 1 ) << ( bit + 16 ) ; ret = regmap_write ( regmap , reg , data ) ; return ret ; } 