static void printer_win_close_printjob ( rdpPrintJob * printjob ) { rdpWinPrintJob * win_printjob = ( rdpWinPrintJob * ) printjob ; rdpWinPrinter * win_printer ; win_printer = ( rdpWinPrinter * ) printjob -> printer ; if ( ! win_printer ) { return ; } if ( ! EndPagePrinter ( win_printer -> hPrinter ) ) { } if ( ! ClosePrinter ( win_printer -> hPrinter ) ) { } win_printer -> printjob = NULL ; free ( win_printjob -> di . pDocName ) ; free ( win_printjob ) ; } 