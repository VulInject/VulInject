int ex_wn ( SCR * sp , EXCMD * cmdp ) { if ( exwr ( sp , cmdp , WN ) ) { return ( 1 ) ; } if ( file_m3 ( sp , 0 ) ) { return ( 1 ) ; } return ( ex_next ( sp , cmdp ) ) ; } int ex_wq ( SCR * sp , EXCMD * cmdp ) { int force ; if ( exwr ( sp , cmdp , WQ ) ) { return ( 1 ) ; } if ( file_m3 ( sp , 0 ) ) { return ( 1 ) ; } force = FL_ISSET ( cmdp -> iflags , E_C_FORCE ) ; if ( ex_ncheck ( sp , force ) ) { return ( 1 ) ; } F_SET ( sp , force ?SC_EXIT_FORCE : SC_EXIT ) ; return ( 0 ) ; } 