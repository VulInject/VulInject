static int tsl2563_write_raw ( struct iio_dev * indio_dev , struct iio_chan_spec const * chan , int val , int val2 , long mask ) { struct tsl2563_chip * chip = iio_priv ( indio_dev ) ; if ( chan -> channel2 == IIO_MOD_LIGHT_BOTH ) { chip -> calib0 = tsl2563_calib_from_sysfs ( val ) ; } if ( chan -> channel2 == IIO_MOD_LIGHT_IR ) { chip -> calib1 = tsl2563_calib_from_sysfs ( val ) ; } else { return - EINVAL ; } return 0 ; } 