static int of_link_property ( struct device_node * con_np , const char * prop_name ) { struct device_node * phandle ; const struct supplier_bindings * s = of_supplier_bindings ; unsigned int i = 0 ; bool matched = false ; while ( ! matched && s -> parse_prop ) { while ( ( phandle = s -> parse_prop ( con_np , prop_name , i ) ) ) { struct device_node * con_dev_np ; con_dev_np = s -> node_not_dev ?of_get_compat_node_parent ( con_np ) : of_node_get ( con_np ) ; matched = true ; i ++ ; of_link_to_phandle ( con_dev_np , phandle ) ; of_node_put ( phandle ) ; of_node_put ( con_dev_np ) ; } s ++ ; } return 0 ; } 