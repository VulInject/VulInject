static gboolean inf_file_util_delete_directory_list_func ( const gchar * name , const gchar * path , InfFileType type , gpointer user_data , GError * * error ) { switch ( type ) { case INF_FILE_TYPE_UNKNOWN : case INF_FILE_TYPE_REG : case INF_FILE_TYPE_LNK : if ( inf_file_util_delete_file ( path , error ) == FALSE ) { return FALSE ; } return TRUE ; case INF_FILE_TYPE_DIR : if ( inf_file_util_delete_directory ( path , error ) == FALSE ) { return FALSE ; } return TRUE ; default : return FALSE ; } } 