static void tilcdc_crtc_recover_work ( struct work_struct * work ) { struct tilcdc_crtc * tilcdc_crtc = container_of ( work , tilcdc_crtc , recover_work ) ; struct drm_crtc * crtc = & tilcdc_crtc -> base ; dev_info ( crtc -> dev -> dev , "%s: Reset CRTC" , __func__ ) ; drm_modeset_lock ( & crtc -> mutex , NULL ) ; tilcdc_crtc_disable ( crtc ) ; tilcdc_crtc_enable ( crtc ) ; out drm_modeset_unlock ( & crtc -> mutex ) ; } 