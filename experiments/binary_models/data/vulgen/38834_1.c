int phm_enable_dynamic_state_management ( struct pp_hwmgr * hwmgr ) { int ret = 1 ; bool enabled ; PHM_FUNC_CHECK ( hwmgr ) ; if ( phm_cap_enabled ( hwmgr -> platform_descriptor . platformCaps , PHM_PlatformCaps_TablelessHardwareInterface ) ) { if ( NULL != hwmgr -> hwmgr_func -> dynamic_state_management_enable ) { ret = hwmgr -> hwmgr_func -> dynamic_state_management_enable ( hwmgr ) ; } } else { ret = phm_dispatch_table ( hwmgr , & ( hwmgr -> enable_dynamic_state_management ) , NULL , NULL ) ; } cgs_notify_dpm_enabled ( hwmgr -> device , enabled ) ; return ret ; } 