static irqreturn_t pcc_interrupt ( int irq , void * dev ) { int i ; int handled ; int handled = 0 ; pr_debug ( "m32r_cfc: pcc_interrupt: irq=%d, dev=%p\n" , irq , dev ) ; for ( i = 0 ; i < pcc_sockets ; i ++ ) { if ( socket [ i ] . cs_irq1 != irq && socket [ i ] . cs_irq2 != irq ) { continue ; } handled = 1 ; pr_debug ( "m32r_cfc: pcc_interrupt: socket %d irq 0x%02x " , i , irq ) ; events |= SS_DETECT ; if ( events ) { pcmcia_parse_events ( & socket [ i ] . socket , events ) ; } } pr_debug ( "m32r_cfc: pcc_interrupt: done\n" ) ; return IRQ_RETVAL ( handled ) ; } 