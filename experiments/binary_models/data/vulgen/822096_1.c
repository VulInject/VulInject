static void gf_mse_source_buffer_reset_parser ( GF_HTML_SourceBuffer * sb ) { u32 i , track_count ; track_count = gf_list_count ( sb -> tracks ) ; for ( i = 0 ; i < track_count ; i ++ ) { GF_HTML_Track * track = ( GF_HTML_Track * ) gf_list_get ( sb -> tracks , i ) ; track -> last_dts_set = GF_FALSE ; track -> highest_pts_set = GF_FALSE ; track -> needs_rap = GF_TRUE ; } gf_mse_reset_input_buffer ( sb -> input_buffer ) ; sb -> append_state = MEDIA_SOURCE_APPEND_STATE_WAITING_FOR_SEGMENT ; } 