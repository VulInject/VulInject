static Rand64 nextrand ( Rand64 * state ) { Rand64 state0 = state [ 0 ] ; Rand64 state1 = state [ 1 ] ; Rand64 state2 = state [ 2 ] ^ state0 ; Rand64 state3 = state [ 3 ] ^ state1 ; state [ 0 ] = state0 ^ state3 ; state [ 1 ] = state1 ^ state2 ; state [ 2 ] = state2 ^ ( state1 << 17 ) ; state [ 3 ] = rotl ( state3 , 45 ) ; return res ; } 