char * csv_nth ( const char * csv_str , int n ) { int i ; const char * cp ; char * tp ; static char buffer [ NBUFFERS ] [ 128 ] ; static int buffer_index ; if ( ! csv_str || * csv_str == 0 ) { return ( 0 ) ; } cp = csv_str ; for ( i = 0 ; i < n ; i ++ ) { if ( ! ( cp = strchr ( cp , ',' ) ) ) { return ( 0 ) ; } cp ++ ; } buffer_index ++ ; if ( buffer_index >= NBUFFERS ) { buffer_index = 0 ; } memset ( buffer [ buffer_index ] , 0 , sizeof ( buffer [ buffer_index ] ) ) ; if ( ( tp = strchr ( ( char * ) cp , ',' ) ) ) { strncpy ( buffer [ buffer_index ] , cp , tp - cp ) ; } else { snprintf ( buffer [ buffer_index ] , 128 , "%s" , cp ) ; } return ( buffer [ buffer_index ] ) ; } char * csv_find_string ( const char * csv_str , const char * search_str ) { int i ; int nitems ; int search_length = 0 ; char * cp ; if ( ! search_str ) { return ( NULL ) ; } } 