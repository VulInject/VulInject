static bool opencl_prepare_work ( struct thr_info __maybe_unused * thr , struct work * work ) { if ( ! safe_cmp ( work -> pool -> algorithm . name , "Lyra2RE" ) ) { work -> blk . work = work ; precalc_hash_blake256 ( & work -> blk , 0 , ( uint32_t * ) ( work -> data ) ) ; } else { work -> blk . work = work ; } return true ; } 