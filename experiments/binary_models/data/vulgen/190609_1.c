int dlmgmt_getattr_common ( dlmgmt_linkattr_t * * headp , const char * attr , dlmgmt_getattr_retval_t * retvalp ) { int err ; void * attrval ; size_t attrsz ; dladm_datatype_t attrtype ; err = linkattr_get ( headp , attr , & attrval , & attrsz , & attrtype ) ; if ( err != 0 ) { return ( err ) ; } assert ( attrsz > 0 ) ; retvalp -> lr_type = attrtype ; retvalp -> lr_attrsz = attrsz ; bcopy ( attrval , retvalp -> lr_attrval , attrsz ) ; return ( 0 ) ; } 