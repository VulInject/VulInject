static ssize_t rv8803_nvram_read ( struct file * filp , struct kobject * kobj , struct bin_attribute * attr , char * buf , loff_t off , size_t count ) { struct device * dev = kobj_to_dev ( kobj ) ; struct i2c_client * client = to_i2c_client ( dev ) ; int ret ; ret = rv8803_read_reg ( client , RV8803_RAM ) ; buf [ 0 ] = ret ; return 1 ; } static struct bin_attribute rv8803_nvram_attr = { . attr = { . name = "nvram" . mode = S_IRUGO | S_IWUSR } . size = 1 . read = rv8803_nvram_read . write = rv8803_nvram_write } ; 