cur_save ( , , , , , , , ) { GimpProcedureConfig * config ; GimpPDBStatusType status ; GError * error = NULL ; gint32 * hot_spot_x = NULL ; gint32 * hot_spot_y = NULL ; gint n_hot_spot_x = 0 ; gint n_hot_spot_y = 0 ; gegl_init ( NULL , NULL ) ; config = gimp_procedure_create_config ( procedure ) ; gimp_procedure_config_begin_run ( config , image , run_mode , args ) ; g_object_get ( config , "n-hot-spot-x" , & n_hot_spot_x , "n-hot-spot-y" , & n_hot_spot_y , "hot-spot-x" , & hot_spot_x , "hot-spot-y" , & hot_spot_y , NULL ) ; status = cur_save_image ( file , image , run_mode , & n_hot_spot_x , & hot_spot_x , & n_hot_spot_y , & hot_spot_y , & error ) ; if ( status == GIMP_PDB_SUCCESS ) { g_object_set ( config , "n-hot-spot-x" , n_hot_spot_x , "n-hot-spot-y" , n_hot_spot_y , NULL ) ; g_free ( hot_spot_y ) ; } gimp_procedure_config_end_run ( config , status ) ; g_object_unref ( config ) ; return gimp_procedure_new_return_values ( procedure , status , error ) ; } 