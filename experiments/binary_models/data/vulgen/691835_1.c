static void scsiback_cmd_done ( struct vscsibk_pend * pending_req ) { struct vscsibk_info * info = pending_req -> info ; unsigned char * sense_buffer ; unsigned int resid ; int errors ; sense_buffer = pending_req -> sense_buffer ; resid = pending_req -> se_cmd . residual_count ; errors = pending_req -> result ; scsiback_fast_flush_area ( pending_req ) ; scsiback_do_resp_with_sense ( sense_buffer , errors , resid , pending_req ) ; scsiback_put ( info ) ; target_put_sess_cmd ( & pending_req -> se_cmd ) ; } 