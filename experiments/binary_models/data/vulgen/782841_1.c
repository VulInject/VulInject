static void dcn301_store_backlight_level ( struct panel_cntl * panel_cntl ) { struct dcn301_panel_cntl * dcn301_panel_cntl = TO_DCN301_PANEL_CNTL ( panel_cntl ) ; panel_cntl -> stored_backlight_registers . BL_PWM_CNTL = REG_READ ( BL_PWM_CNTL ) ; panel_cntl -> stored_backlight_registers . BL_PWM_CNTL2 = REG_READ ( BL_PWM_CNTL2 ) ; panel_cntl -> stored_backlight_registers . BL_PWM_PERIOD_CNTL = REG_READ ( BL_PWM_PERIOD_CNTL ) ; } static const struct panel_cntl_funcs dcn301_link_panel_cntl_funcs = { . destroy = dcn301_panel_cntl_destroy . hw_init = dcn301_panel_cntl_hw_init . is_panel_backlight_on = dcn301_is_panel_backlight_on . is_panel_powered_on = dcn301_is_panel_powered_on . store_backlight_level = dcn301_store_backlight_level . get_current_backlight = dcn301_get_16_bit_backlight_from_pwm } ; 