static size_t ZSTD_initDDict_internal ( ZSTD_DDict * ddict , const void * dict , size_t dictSize , ZSTD_dictLoadMethod_e dictLoadMethod , ZSTD_dictContentType_e dictContentType ) { if ( ( dictLoadMethod == ZSTD_dlm_byRef ) || ( ! dict ) || ( ! dictSize ) ) { ddict -> dictBuffer = NULL ; ddict -> dictContent = dict ; if ( ! dict ) { dictSize = 0 ; } } else { void * const internalBuffer = ZSTD_customMalloc ( dictSize , ddict -> cMem ) ; ddict -> dictBuffer = internalBuffer ; ddict -> dictContent = internalBuffer ; ZSTD_memcpy ( internalBuffer , dict , dictSize ) ; } ddict -> dictSize = dictSize ; ddict -> entropy . hufTable [ 0 ] = ( HUF_DTable ) ( ( HufLog ) * 0x1000001 ) ; FORWARD_IF_ERROR ( ZSTD_loadEntropy_intoDDict ( ddict , dictContentType ) , "" ) ; return 0 ; } 