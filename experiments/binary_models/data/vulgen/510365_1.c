void cti_write_all_hw_regs ( struct cti_drvdata * drvdata ) { struct cti_config * config = & drvdata -> config ; int i ; CS_UNLOCK ( drvdata -> base ) ; writel_relaxed ( 0 , drvdata -> base + CTICONTROL ) ; for ( i = 0 ; i < config -> nr_trig_max ; i ++ ) { writel_relaxed ( config -> ctiinen [ i ] , drvdata -> base + CTIINEN ( i ) ) ; writel_relaxed ( config -> ctiouten [ i ] , drvdata -> base + CTIOUTEN ( i ) ) ; } writel_relaxed ( config -> ctigate , drvdata -> base + CTIGATE ) ; writel_relaxed ( config -> asicctl , drvdata -> base + ASICCTL ) ; writel_relaxed ( 1 , drvdata -> base + CTICONTROL ) ; CS_LOCK ( drvdata -> base ) ; } 