gimp_stroke_editor_draw_button ( , , ) { GtkStyleContext * style = gtk_widget_get_style_context ( widget ) ; GtkAllocation allocation ; gtk_widget_get_allocation ( widget , & allocation ) ; w = MIN ( allocation . width , allocation . height ) * 2 / 3 ; gtk_style_context_save ( style ) ; gtk_style_context_set_state ( style , gtk_widget_get_state_flags ( widget ) ) ; gtk_render_arrow ( style , cr , data ?3 * ( G_PI / 2 ) : 1 * ( G_PI / 2 ) , ( allocation . width - w ) / 2 , ( allocation . height - w ) / 2 , w ) ; gtk_style_context_restore ( style ) ; return FALSE ; } 