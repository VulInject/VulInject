static char * usb_dump_device_descriptor ( char * start , char * end , const struct usb_device_descriptor * desc ) { u16 bcdUSB = le16_to_cpu ( desc -> bcdUSB ) ; u16 bcdDevice = le16_to_cpu ( desc -> bcdDevice ) ; start += sprintf ( start , format_device1 , bcdUSB >> 8 , bcdUSB & 0xff , desc -> bDeviceClass , class_decode ( desc -> bDeviceClass ) , desc -> bDeviceSubClass , desc -> bDeviceProtocol , desc -> bMaxPacketSize0 , desc -> bNumConfigurations ) ; if ( start > end ) { return start ; } start += sprintf ( start , format_device2 , le16_to_cpu ( desc -> idVendor ) , le16_to_cpu ( desc -> idProduct ) , bcdDevice >> 8 , bcdDevice & 0xff ) ; return start ; } 