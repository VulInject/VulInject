static unsigned long cookie_assign ( unsigned int irq , u32 devhandle , unsigned int devino ) { struct irq_handler_data * ihd = irq_get_handler_data ( irq ) ; unsigned long hv_error , cookie ; ihd -> bucket . __irq = irq ; hv_error = sun4v_vintr_set_cookie ( devhandle , devino , cookie ) ; if ( hv_error ) { pr_err ( "HV vintr set cookie failed = %ld\n" , hv_error ) ; } return hv_error ; } 