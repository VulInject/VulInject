static LIST_HEAD ( panel_list ) ; static LIST_HEAD ( path_list ) ; static DEFINE_MUTEX ( disp_lock ) ; void mmp_register_panel ( struct mmp_panel * panel ) { struct mmp_path * path ; mutex_lock ( & disp_lock ) ; list_add_tail ( & panel -> node , & panel_list ) ; list_for_each_entry ( , , ) { if ( ! strcmp ( panel -> plat_path_name , path -> name ) ) { dev_info ( panel -> dev , "connect to path %s\n" , path -> name ) ; path -> panel = panel ; break ; } } } 