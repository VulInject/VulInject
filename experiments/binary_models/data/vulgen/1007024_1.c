static int pci_dio_reset ( struct comedi_device * dev , unsigned long cardtype ) { struct pci_dio_dev_private_data * dev_private = dev -> private ; if ( cardtype == TYPE_PCI1752 || cardtype == TYPE_PCI1756 ) { outw ( 0 , dev -> iobase + PCI1752_CFC_REG ) ; } switch ( cardtype ) { case TYPE_PCI1730 : case TYPE_PCI1733 : case TYPE_PCI1736 : dev_private -> int_ctrl = 0x00 ; outb ( dev_private -> int_ctrl , dev -> iobase + PCI173X_INT_EN_REG ) ; outb ( 0x0f , dev -> iobase + PCI173X_INT_CLR_REG ) ; outb ( dev_private -> int_rf , dev -> iobase + PCI173X_INT_RF_REG ) ; break ; case TYPE_PCI1739 : case TYPE_PCI1750 : case TYPE_PCI1751 : outb ( 0x88 , dev -> iobase + PCI1750_INT_REG ) ; break ; case TYPE_PCI1753 : case TYPE_PCI1753E : outb ( 0x88 , dev -> iobase + PCI1753_INT_REG ( 0 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753_INT_REG ( 1 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753_INT_REG ( 2 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753_INT_REG ( 3 ) ) ; if ( cardtype == TYPE_PCI1753E ) { outb ( 0x88 , dev -> iobase + PCI1753E_INT_REG ( 0 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753E_INT_REG ( 1 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753E_INT_REG ( 2 ) ) ; outb ( 0x80 , dev -> iobase + PCI1753E_INT_REG ( 3 ) ) ; } break ; case TYPE_PCI1754 : case TYPE_PCI1756 : outw ( 0x08 , dev -> iobase + PCI1754_INT_REG ( 0 ) ) ; outw ( 0x08 , dev -> iobase + PCI1754_INT_REG ( 1 ) ) ; if ( cardtype == TYPE_PCI1754 ) { outw ( 0x08 , dev -> iobase + PCI1754_INT_REG ( 2 ) ) ; outw ( 0x08 , dev -> iobase + PCI1754_INT_REG ( 3 ) ) ; } break ; case TYPE_PCI1761 : outb ( 0 , dev -> iobase + PCI1761_INT_EN_REG ) ; outb ( 0xff , dev -> iobase + PCI1761_INT_CLR_REG ) ; outb ( 0 , dev -> iobase + PCI1761_INT_RF_REG ) ; break ; case TYPE_PCI1762 : outw ( 0x0101 , dev -> iobase + PCI1762_INT_REG ) ; break ; default : break ; } return 0 ; } 