static Datum gseg_leaf_consistent ( Datum key , Datum query , StrategyNumber strategy ) { Datum retval ; fprintf ( stderr , "leaf_consistent, %d\n" , strategy ) ; switch ( strategy ) { case RTLeftStrategyNumber : retval = DirectFunctionCall2 ( seg_left , key , query ) ; break ; case RTOverLeftStrategyNumber : retval = DirectFunctionCall2 ( seg_over_left , key , query ) ; break ; case RTOverlapStrategyNumber : retval = DirectFunctionCall2 ( seg_overlap , key , query ) ; break ; case RTOverRightStrategyNumber : retval = DirectFunctionCall2 ( seg_over_right , key , query ) ; break ; case RTRightStrategyNumber : retval = DirectFunctionCall2 ( seg_right , key , query ) ; break ; case RTSameStrategyNumber : retval = DirectFunctionCall2 ( seg_same , key , query ) ; break ; case RTContainsStrategyNumber : case RTOldContainsStrategyNumber : retval = DirectFunctionCall2 ( seg_contains , key , query ) ; break ; case RTContainedByStrategyNumber : case RTOldContainedByStrategyNumber : break ; default : retval = false ; } PG_RETURN_DATUM ( retval ) ; } 