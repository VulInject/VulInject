static int pci_ampci_read_config_word ( struct pci_bus * bus , unsigned int devfn , int where , u32 * _value ) { u32 rawval , value ; if ( bus -> number == 0 && devfn == PCI_DEVFN ( 0 , 0 ) ) { value = BRIDGEREGW ( where ) ; __pcbdebug ( "=>%04hx" , & BRIDGEREGL ( where ) , value ) ; } else { CONFIG_ADDRESS = CONFIG_CMD ( bus , devfn , where ) ; rawval = CONFIG_ADDRESS ; value = CONFIG_DATAW ( where ) ; if ( __query ( bus , devfn ) ) { __pcidebug ( "=>%04hx" , bus , devfn , where , value ) ; } } return PCIBIOS_SUCCESSFUL ; } 