static u32 gf_rtp_get_payload_type ( GF_RTPMap * map , GF_SDPMedia * media ) { u32 i , j ; if ( ! stricmp ( map -> payload_name , "MP4V-ES" ) ) { return GF_RTP_PAYT_MPEG4 ; } if ( ! stricmp ( map -> payload_name , "mpeg4-generic" ) ) { return GF_RTP_PAYT_MPEG4 ; } if ( ! stricmp ( map -> payload_name , "enc-mpeg4-generic" ) ) { return GF_RTP_PAYT_MPEG4 ; } if ( ! stricmp ( map -> payload_name , "enc-generic-mp4" ) ) { gf_free ( map -> payload_name ) ; return GF_RTP_PAYT_MPEG4 ; } if ( ! stricmp ( map -> payload_name , "MP4A-LATM" ) ) { GF_SDP_FMTP * fmtp ; i = 0 ; while ( ( fmtp = ( GF_SDP_FMTP * ) gf_list_enum ( media -> FMTP , & i ) ) ) { GF_X_Attribute * att ; if ( fmtp -> PayloadType != map -> PayloadType ) { continue ; } j = 0 ; while ( ( att = ( GF_X_Attribute * ) gf_list_enum ( fmtp -> Attributes , & j ) ) ) { if ( ! stricmp ( att -> Name , "cpresent" ) && atoi ( att -> Value ) ) { return 0 ; } } } return GF_RTP_PAYT_LATM ; } if ( ! stricmp ( map -> payload_name , "MPA" ) ) { return GF_RTP_PAYT_MPEG12_AUDIO ; } if ( ! stricmp ( map -> payload_name , "MPV" ) ) { return GF_RTP_PAYT_MPEG12_VIDEO ; } if ( ! stricmp ( map -> payload_name , "H263-1998" ) || ! stricmp ( map -> payload_name , "H263-2000" ) ) { return GF_RTP_PAYT_H263 ; } if ( ! stricmp ( map -> payload_name , "AMR" ) ) { return GF_RTP_PAYT_AMR ; } if ( ! stricmp ( map -> payload_name , "AMR-WB" ) ) { return GF_RTP_PAYT_AMR_WB ; } if ( ! stricmp ( map -> payload_name , "3gpp-tt" ) ) { return GF_RTP_PAYT_3GPP_TEXT ; } if ( ! stricmp ( map -> payload_name , "H264" ) ) { return GF_RTP_PAYT_H264_AVC ; } if ( ! stricmp ( map -> payload_name , "richmedia+xml" ) ) { return GF_RTP_PAYT_3GPP_DIMS ; } if ( ! stricmp ( map -> payload_name , "ac3" ) ) { return GF_RTP_PAYT_AC3 ; } if ( ! stricmp ( map -> payload_name , "eac3" ) ) { return GF_RTP_PAYT_EAC3 ; } if ( ! stricmp ( map -> payload_name , "H264-SVC" ) ) { return GF_RTP_PAYT_H264_SVC ; } if ( ! stricmp ( map -> payload_name , "H265" ) ) { return GF_RTP_PAYT_HEVC ; } if ( ! stricmp ( map -> payload_name , "H265-SHVC" ) ) { return GF_RTP_PAYT_LHVC ; } if ( ! stricmp ( map -> payload_name , "H266" ) ) { return GF_RTP_PAYT_VVC ; } if ( ! stricmp ( map -> payload_name , "opus" ) ) { return GF_RTP_PAYT_OPUS ; } if ( ! stricmp ( map -> payload_name , "QCELP" ) ) { return GF_RTP_PAYT_QCELP ; } else { return 0 ; } } 