void clear_probe_trace_event ( struct probe_trace_event * tev ) { struct probe_trace_arg_ref * ref , * next ; int i ; free ( tev -> group ) ; free ( tev -> point . symbol ) ; free ( tev -> point . realname ) ; free ( tev -> point . module ) ; for ( i = 0 ; i < tev -> nargs ; i ++ ) { free ( tev -> args [ i ] . name ) ; free ( tev -> args [ i ] . value ) ; free ( tev -> args [ i ] . type ) ; ref = tev -> args [ i ] . ref ; while ( ref ) { next = ref -> next ; free ( ref ) ; ref = next ; } } free ( tev -> args ) ; memset ( tev , 0 , sizeof ( * tev ) ) ; } 