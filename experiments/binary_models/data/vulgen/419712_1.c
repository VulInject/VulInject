SND_SOC_DAILINK_DEF ( ssp1_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "SSP1 Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( ssp1_codec , DAILINK_COMP_ARRAY ( COMP_CODEC ( "i2c-DLGS7219:00" , BXT_DIALOG_CODEC_DAI ) ) ) ; SND_SOC_DAILINK_DEF ( dmic_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "DMIC01 Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( dmic16k_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "DMIC16k Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( dmic_codec , DAILINK_COMP_ARRAY ( COMP_CODEC ( "dmic-codec" , "dmic-hifi" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp1_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "iDisp1 Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp1_codec , DAILINK_COMP_ARRAY ( COMP_CODEC ( "ehdaudio0D2" , "intel-hdmi-hifi1" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp2_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "iDisp2 Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp2_codec , DAILINK_COMP_ARRAY ( COMP_CODEC ( "ehdaudio0D2" , "intel-hdmi-hifi2" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp3_pin , DAILINK_COMP_ARRAY ( COMP_CPU ( "iDisp3 Pin" ) ) ) ; SND_SOC_DAILINK_DEF ( idisp3_codec , DAILINK_COMP_ARRAY ( COMP_CODEC ( "ehdaudio0D2" , "intel-hdmi-hifi3" ) ) ) ; static struct snd_soc_dai_link broxton_dais [ ] { [ BXT_DPCM_AUDIO_PB ] = { . name = "Bxt Audio Port" . stream_name = "Audio" . dynamic = 1 . nonatomic = 1 . init = broxton_da7219_fe_init . trigger = { SND_SOC_DPCM_TRIGGER_POST SND_SOC_DPCM_TRIGGER_POST } . dpcm_playback = 1 . ops = & broxton_da7219_fe_ops SND_SOC_DAILINK_REG ( system , dummy , platform ) } [ BXT_DPCM_AUDIO_CP ] = { . name = "Bxt Audio Capture Port" . stream_name = "Audio Record" . dynamic = 1 . nonatomic = 1 . trigger = { SND_SOC_DPCM_TRIGGER_POST SND_SOC_DPCM_TRIGGER_POST } . dpcm_capture = 1 . ops = & broxton_da7219_fe_ops SND_SOC_DAILINK_REG ( system , dummy , platform ) } [ BXT_DPCM_AUDIO_HS_PB ] = { . name = "Bxt Audio Headset Playback" . stream_name = "Headset Playback" . dynamic = 1 . nonatomic = 1 . trigger = { SND_SOC_DPCM_TRIGGER_POST SND_SOC_DPCM_TRIGGER_POST } . dpcm_playback = 1 . ops = & broxton_da7219_fe_ops SND_SOC_DAILINK_REG ( system2 , dummy , platform ) } [ BXT_DPCM_AUDIO_REF_CP ] = { . name = "Bxt Audio Reference cap" . stream_name = "Refcap" . init = NULL . dpcm_capture = 1 . nonatomic = 1 . dynamic = 1 . ops = & broxton_refcap_ops SND_SOC_DAILINK_REG ( reference , dummy , platform ) } [ BXT_DPCM_AUDIO_DMIC_CP ] = { . name = "Bxt Audio DMIC cap" . stream_name = "dmiccap" . init = NULL . dpcm_capture = 1 . nonatomic = 1 . dynamic = 1 . ops = & broxton_dmic_ops SND_SOC_DAILINK_REG ( dmic , dummy , platform ) } [ BXT_DPCM_AUDIO_HDMI1_PB ] = { . name = "Bxt HDMI Port1" . stream_name = "Hdmi1" . dpcm_playback = 1 . init = NULL . nonatomic = 1 . dynamic = 1 SND_SOC_DAILINK_REG ( hdmi1 , dummy , platform ) } [ BXT_DPCM_AUDIO_HDMI2_PB ] = { . name = "Bxt HDMI Port2" . stream_name = "Hdmi2" . dpcm_playback = 1 . init = NULL . nonatomic = 1 . dynamic = 1 SND_SOC_DAILINK_REG ( hdmi2 , dummy , platform ) } [ BXT_DPCM_AUDIO_HDMI3_PB ] = { . name = "Bxt HDMI Port3" . stream_name = "Hdmi3" . dpcm_playback = 1 . init = NULL . nonatomic = 1 . dynamic = 1 SND_SOC_DAILINK_REG ( hdmi3 , dummy , platform ) } { . name = "SSP5-Codec" . id = 0 . no_pcm = 1 . dai_fmt = SND_SOC_DAIFMT_I2S | SND_SOC_DAIFMT_NB_NF | SND_SOC_DAIFMT_CBC_CFC . ignore_pmdown_time = 1 . be_hw_params_fixup = broxton_ssp_fixup . dpcm_playback = 1 SND_SOC_DAILINK_REG ( ssp5_pin , ssp5_codec , platform ) } { . name = "SSP1-Codec" . id = 1 . no_pcm = 1 . init = broxton_da7219_codec_init . dai_fmt = SND_SOC_DAIFMT_I2S | SND_SOC_DAIFMT_NB_NF | SND_SOC_DAIFMT_CBC_CFC . ignore_pmdown_time = 1 . be_hw_params_fixup = broxton_ssp_fixup . dpcm_playback = 1 . dpcm_capture = 1 SND_SOC_DAILINK_REG ( ssp1_pin , ssp1_codec , platform ) } { . name = "dmic01" . id = 2 . ignore_suspend = 1 . be_hw_params_fixup = broxton_dmic_fixup . dpcm_capture = 1 . no_pcm = 1 SND_SOC_DAILINK_REG ( dmic_pin , dmic_codec , platform ) } { . name = "iDisp1" . id = 3 . init = broxton_hdmi_init . dpcm_playback = 1 . no_pcm = 1 SND_SOC_DAILINK_REG ( idisp1_pin , idisp1_codec , platform ) } { . name = "iDisp2" . id = 4 . init = broxton_hdmi_init . dpcm_playback = 1 . no_pcm = 1 SND_SOC_DAILINK_REG ( idisp2_pin , idisp2_codec , platform ) } { . name = "iDisp3" . id = 5 . init = broxton_hdmi_init . dpcm_playback = 1 . no_pcm = 1 SND_SOC_DAILINK_REG ( idisp3_pin , idisp3_codec , platform ) } { . name = "dmic16k" . id = 6 . be_hw_params_fixup = broxton_dmic_fixup . dpcm_capture = 1 . no_pcm = 1 SND_SOC_DAILINK_REG ( dmic16k_pin , dmic_codec , platform ) } } ; ; 