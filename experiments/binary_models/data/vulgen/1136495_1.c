static bool riscv_hart_realize ( RISCVHartArrayState * s , int idx , char * cpu_type , Error * * errp ) { qdev_prop_set_uint64 ( DEVICE ( & s -> harts [ idx ] ) , "resetvec" , s -> resetvec ) ; s -> harts [ idx ] . env . mhartid = s -> hartid_base + idx ; qemu_register_reset ( riscv_harts_cpu_reset , & s -> harts [ idx ] ) ; return qdev_realize ( DEVICE ( & s -> harts [ idx ] ) , NULL , errp ) ; } 