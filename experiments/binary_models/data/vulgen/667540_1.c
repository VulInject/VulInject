static void qed_mcp_handle_process_kill ( struct qed_hwfn * p_hwfn , struct qed_ptt * p_ptt ) { struct qed_dev * cdev = p_hwfn -> cdev ; u32 proc_kill_cnt ; qed_int_igu_disable_int ( p_hwfn , p_ptt ) ; DP_NOTICE ( p_hwfn , "Received a process kill indication\n" ) ; if ( cdev -> recov_in_prog ) { DP_NOTICE ( p_hwfn , "Ignoring the indication since a recovery process is already in progress\n" ) ; return ; } cdev -> recov_in_prog = true ; proc_kill_cnt = qed_get_process_kill_counter ( p_hwfn , p_ptt ) ; DP_NOTICE ( p_hwfn , "Process kill counter: %d\n" , proc_kill_cnt ) ; qed_schedule_recovery_handler ( p_hwfn ) ; } 