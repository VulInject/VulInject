static void test_uuidset_main ( int argc OVS_UNUSED , char * argv [ ] OVS_UNUSED ) { struct uuidset set = UUIDSET_INITIALIZER ( & set ) ; struct uuid uuids [ 2 ] ; for ( size_t i = 0 ; i < ARRAY_SIZE ( uuids ) ; i ++ ) { uuid_generate ( & uuids [ i ] ) ; } ovs_assert ( uuidset_is_empty ( & set ) ) ; for ( size_t i = 0 ; i < ARRAY_SIZE ( uuids ) ; i ++ ) { struct uuid * u = & uuids [ i ] ; if ( i == 0 ) { ovs_assert ( uuidset_is_empty ( & set ) ) ; } else { ovs_assert ( ! uuidset_is_empty ( & set ) ) ; } ovs_assert ( uuidset_count ( & set ) == i ) ; ovs_assert ( ! uuidset_contains ( & set , u ) ) ; ovs_assert ( ! uuidset_find_and_delete ( & set , u ) ) ; uuidset_insert ( & set , u ) ; uuidset_insert ( & set , u ) ; ovs_assert ( uuidset_count ( & set ) == i + 1 ) ; struct uuidset_node * n = uuidset_find ( & set , u ) ; ovs_assert ( n ) ; uuidset_delete ( & set , n ) ; ovs_assert ( uuidset_count ( & set ) == i ) ; ovs_assert ( ! uuidset_contains ( & set , u ) ) ; uuidset_insert ( & set , u ) ; ovs_assert ( uuidset_count ( & set ) == i + 1 ) ; ovs_assert ( uuidset_contains ( & set , u ) ) ; ovs_assert ( uuidset_find_and_delete ( & set , u ) ) ; ovs_assert ( uuidset_count ( & set ) == i ) ; ovs_assert ( ! uuidset_contains ( & set , u ) ) ; uuidset_insert ( & set , u ) ; } } 