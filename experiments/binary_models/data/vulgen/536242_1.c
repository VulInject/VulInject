void exdog_attach ( struct device * parent , struct device * self , void * aux ) { struct exdog_softc * sc = ( exdog_softc * ) self ; struct fdt_attach_args * fa = aux ; sc -> sc_iot = fa -> fa_iot ; if ( bus_space_map ( sc -> sc_iot , fa -> fa_reg [ 0 ] . addr , fa -> fa_reg [ 0 ] . size , 0 , & sc -> sc_ioh ) ) { panic ( "%s: bus_space_map failed!" , __func__ ) ; } printf ( "\n" ) ; exdog_sc = sc ; } 