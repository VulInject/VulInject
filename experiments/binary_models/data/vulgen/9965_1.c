static void vips_draw_image_mode_add ( VipsDrawImage * draw_image , VipsImage * im , VipsPel * q , VipsPel * p , int n ) { const int sz = n * im -> Bands * ( vips_band_format_iscomplex ( im -> BandFmt ) ?2 : 1 ) ; int x ; switch ( im -> BandFmt ) { case VIPS_FORMAT_UCHAR : LOOP ( , , 0 , ) break ; case VIPS_FORMAT_CHAR : LOOP ( , , , ) break ; case VIPS_FORMAT_USHORT : LOOP ( , , 0 , ) break ; case VIPS_FORMAT_SHORT : LOOP ( , , , ) break ; case VIPS_FORMAT_UINT : LOOP ( , , 0 , ) break ; case VIPS_FORMAT_INT : LOOP ( , , , ) break ; case VIPS_FORMAT_FLOAT : case VIPS_FORMAT_COMPLEX : LOOPF ( float ) ; break ; case VIPS_FORMAT_DOUBLE : case VIPS_FORMAT_DPCOMPLEX : LOOPF ( double ) ; break ; default : } } 