void isis_zebra_init ( struct thread_master * master , int instance ) { zclient = zclient_new ( master , & zclient_options_default , isis_handlers , array_size ( isis_handlers ) ) ; zclient_init ( zclient , PROTO_TYPE , 0 , & isisd_privs ) ; zclient -> zebra_connected = isis_zebra_connected ; options . synchronous = true ; zclient_sync = zclient_new ( master , & options , NULL , 0 ) ; zclient_sync -> sock = - 1 ; zclient_sync -> redist_default = ZEBRA_ROUTE_ISIS ; zclient_sync -> instance = instance ; zclient_sync -> session_id = 1 ; zclient_sync -> privs = & isisd_privs ; } 