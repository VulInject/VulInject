( void ) event ; if ( handle -> state == M_IO_NET_STATE_DISCONNECTED || handle -> state == M_IO_NET_STATE_ERROR ) { done } switch ( type ) { case M_EVENT_TYPE_CONNECTED : M_io_netdns_handle_connect ( layer , realio ) ; break ; case M_EVENT_TYPE_READ : case M_EVENT_TYPE_WRITE : M_io_layer_softevent_add ( layer , M_FALSE , type , M_IO_ERROR_SUCCESS ) ; break ; case M_EVENT_TYPE_DISCONNECTED : M_io_layer_softevent_add ( layer , M_FALSE , M_EVENT_TYPE_DISCONNECTED , M_IO_ERROR_DISCONNECT ) ; break ; case M_EVENT_TYPE_ERROR : else { M_io_layer_softevent_add ( layer , M_FALSE , M_EVENT_TYPE_ERROR , M_io_get_error ( realio ) ) ; } break ; case M_EVENT_TYPE_OTHER : case M_EVENT_TYPE_ACCEPT : break ; } done M_io_layer_release ( layer ) ; 