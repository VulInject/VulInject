static inline unsigned int gfs2_extent_length ( void * start , unsigned int len , __be64 * ptr , size_t limit , int * eob ) { const __be64 * end = ( start + len ) ; const __be64 * first = ptr ; u64 d = be64_to_cpu ( * ptr ) ; * eob = 0 ; { ptr ++ ; if ( limit && -- limit == 0 ) { break ; } if ( d ) { d ++ ; } } be64_to_cpu ( * ptr ) == d ; if ( ptr >= end ) { * eob = 1 ; } return ( ptr - first ) ; } 