static int proc_is_alive ( pid_t pid ) { char psinfoname [ 64 ] ; int fd ; psinfo_t psinfo ; if ( kill ( pid , 0 ) != 0 ) { return ( 0 ) ; } ( void ) sprintf ( psinfoname , "/proc/%d/psinfo" , ( int ) pid ) ; if ( ( fd = open ( psinfoname , O_RDONLY ) ) < 0 || read ( fd , & psinfo , sizeof ( psinfo ) ) != sizeof ( psinfo ) ) { psinfo . pr_nlwp = 0 ; } return ( psinfo . pr_nlwp != 0 ) ; } 