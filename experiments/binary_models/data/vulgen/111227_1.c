static irqreturn_t db1200_mmc_cdfn ( int irq , void * ptr ) { void * mmc_cd ( struct mmc_host * , unsigned long ) mmc_cd = symbol_get ( mmc_detect_change ) ; if ( mmc_cd ) { mmc_cd ( ptr , msecs_to_jiffies ( 200 ) ) ; symbol_put ( mmc_detect_change ) ; } if ( irq == DB1200_SD0_INSERT_INT ) { enable_irq ( DB1200_SD0_EJECT_INT ) ; } else { enable_irq ( DB1200_SD0_INSERT_INT ) ; } return IRQ_HANDLED ; } 