( blkg_rwstat_exit ) ; u64 __blkg_prfill_rwstat ( struct seq_file * sf , struct blkg_policy_data * pd , const struct blkg_rwstat_sample * rwstat ) { static const char * rwstr [ ] { [ BLKG_RWSTAT_READ ] = "Read" [ BLKG_RWSTAT_WRITE ] = "Write" [ BLKG_RWSTAT_SYNC ] = "Sync" [ BLKG_RWSTAT_ASYNC ] = "Async" [ BLKG_RWSTAT_DISCARD ] = "Discard" } ; ; const char * dname = blkg_dev_name ( pd -> blkg ) ; u64 v ; int i ; for ( i = 0 ; i < BLKG_RWSTAT_NR ; i ++ ) { seq_printf ( sf , "%s %s %llu\n" , dname , rwstr [ i ] , rwstat -> cnt [ i ] ) ; } v = rwstat -> cnt [ BLKG_RWSTAT_READ ] + rwstat -> cnt [ BLKG_RWSTAT_WRITE ] + rwstat -> cnt [ BLKG_RWSTAT_DISCARD ] ; seq_printf ( sf , "%s Total %llu\n" , dname , v ) ; return v ; } 