static int usage ( const char * argv0 , int ret ) { fprintf ( stderr , "%s [-split] [-ismf][-n basename] [-path-prefix prefix]" "[-ismc-prefix prefix] [-output dir]file1 [file2] ...\n" , argv0 ) ; return ret ; } MoofOffset { int64_t time ; int64_t offset ; int64_t duration ; } Track { const char * name ; int64_t duration ; int bitrate ; int track_id ; int is_audio , is_video ; int width , height ; int chunks ; int sample_rate , channels ; int codec_private_size ; struct MoofOffset * offsets ; int timescale ; const char * fourcc ; int blocksize ; int tag ; } Tracks { int nb_tracks ; int64_t duration ; struct Track * * tracks ; int video_track , audio_track ; int nb_video_tracks , nb_audio_tracks ; } 