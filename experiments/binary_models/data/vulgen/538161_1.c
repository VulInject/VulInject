static int usbskel_reconnect_callback ( dev_info_t * dip ) { usbskel_state_t * usbskelp = ddi_get_soft_state ( usbskel_statep , instance ) ; usbskel_log ( usbskelp , USBSKEL_LOG_LOG , "reconnect: enter" ) ; mutex_enter ( & usbskelp -> usbskel_mutex ) ; ( void ) usbskel_serialize_access ( usbskelp , USBSKEL_SER_NOSIG ) ; usbskel_restore_device_state ( dip , usbskelp ) ; usbskel_release_access ( usbskelp ) ; mutex_exit ( & usbskelp -> usbskel_mutex ) ; return ( USB_SUCCESS ) ; } 