long next_enum ( enum_names * en , long l ) { enum_names * p = en ; unsigned long e ; if ( l < 0 ) { e = en -> en_first ; if ( en -> en_names [ e - p -> en_first ] != NULL ) { return e ; } } else { e = l ; } while ( true ) { while ( true ) { if ( p == NULL ) { return - 1 ; } if ( p -> en_first <= e && e < p -> en_last ) { e ++ ; break ; } if ( e == p -> en_last && p -> en_next_range != NULL ) { p = p -> en_next_range ; e = p -> en_first ; break ; } else { p = p -> en_next_range ; } } if ( p -> en_names [ e - p -> en_first ] != NULL ) { return e ; } } } 