static int dkteardown ( role , fdread , fdwrite ) int role , fdread , fdwrite ; { char * ttyn ; if ( role == MASTER ) { ttyn = ttyname ( fdread ) ; } if ( ioctl ( fdread , DIOCFLUSH , NULL ) != 0 ) { DEBUG ( 4 , "dkteardown: DIOCFLUSH of input fd %d failed" , fdread ) ; } if ( ioctl ( fdwrite , DIOCFLUSH , NULL ) != 0 ) { DEBUG ( 4 , "dkteardown: DIOCFLUSH of output fd %d failed" , fdwrite ) ; } ( void ) close ( fdread ) ; ( void ) close ( fdwrite ) ; return ( SUCCESS ) ; } 