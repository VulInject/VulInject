static unsigned long samsung_s3c2410_pll_recalc_rate ( struct clk_hw * hw , unsigned long parent_rate ) { struct samsung_clk_pll * pll = to_clk_pll ( hw ) ; u32 pll_con , mdiv , pdiv , sdiv ; u64 fvco = parent_rate ; pll_con = readl_relaxed ( pll -> con_reg ) ; mdiv = ( pll_con >> PLLS3C2410_MDIV_SHIFT ) & PLLS3C2410_MDIV_MASK ; pdiv = ( pll_con >> PLLS3C2410_PDIV_SHIFT ) & PLLS3C2410_PDIV_MASK ; sdiv = ( pll_con >> PLLS3C2410_SDIV_SHIFT ) & PLLS3C2410_SDIV_MASK ; fvco *= ( mdiv + 8 ) ; return ( unsigned int ) fvco ; } 