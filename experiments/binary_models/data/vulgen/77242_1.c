void xfs_bmbt_set_allf ( xfs_bmbt_rec_host_t * r , xfs_fileoff_t startoff , xfs_fsblock_t startblock , xfs_filblks_t blockcount , xfs_exntst_t state ) { int extent_flag = ( state == XFS_EXT_NORM ) ?0 : 1 ; ASSERT ( state == XFS_EXT_NORM || state == XFS_EXT_UNWRITTEN ) ; ASSERT ( ( startoff & xfs_mask64hi ( 64 - BMBT_STARTOFF_BITLEN ) ) == 0 ) ; ASSERT ( ( blockcount & xfs_mask64hi ( 64 - BMBT_BLOCKCOUNT_BITLEN ) ) == 0 ) ; r -> l0 = ( ( xfs_bmbt_rec_base_t ) extent_flag << 63 ) | ( ( xfs_bmbt_rec_base_t ) startoff << 9 ) | ( ( xfs_bmbt_rec_base_t ) startblock >> 43 ) ; r -> l1 = ( ( xfs_bmbt_rec_base_t ) startblock << 21 ) | ( ( xfs_bmbt_rec_base_t ) blockcount & ( xfs_bmbt_rec_base_t ) xfs_mask64lo ( 21 ) ) ; } 