int dwarf_debugnames_cu_entry ( Dwarf_Dnames_Head dn , Dwarf_Unsigned index_number , Dwarf_Unsigned offset_number , Dwarf_Unsigned * offset_count , Dwarf_Unsigned * offset , Dwarf_Error * error ) { struct Dwarf_Dnames_index_header_s * cur = 0 ; Dwarf_Debug dbg = 0 ; int res ; res = get_inhdr_cur ( dn , index_number , & cur , error ) ; if ( res != DW_DLV_OK ) { return res ; } dbg = dn -> dn_dbg ; if ( offset_number >= cur -> din_comp_unit_count ) { return DW_DLV_NO_ENTRY ; } if ( offset ) { Dwarf_Unsigned offsetval = 0 ; Dwarf_Small * ptr = cur -> din_cu_list + offset_number * cur -> din_offset_size ; Dwarf_Small * endptr = cur -> din_local_tu_list ; READ_UNALIGNED_CK ( dbg , offsetval , Dwarf_Unsigned , ptr , cur -> din_offset_size , error , endptr ) ; * offset = offsetval ; } if ( offset_count ) { * offset_count = cur -> din_comp_unit_count ; } return DW_DLV_OK ; } 