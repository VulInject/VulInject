void Props_Chair_Animate ( gentity_t * ent ) { if ( ! Q_stricmp ( ent -> classname , "props_chair" ) ) { if ( ent -> s . frame >= 27 ) { ent -> s . frame = 27 ; G_UseTargets ( ent , NULL ) ; ent -> think = G_FreeEntity ; ent -> nextthink = level . time + 2000 ; ent -> s . time = level . time ; ent -> s . time2 = level . time + 2000 ; return ; } else { ent -> nextthink = level . time + ( FRAMETIME / 2 ) ; } } if ( ( ! Q_stricmp ( ent -> classname , "props_chair_side" ) ) || ( ! Q_stricmp ( ent -> classname , "props_chair_chat" ) ) || ( ! Q_stricmp ( ent -> classname , "props_chair_chatarm" ) ) || ( ! Q_stricmp ( ent -> classname , "props_chair_hiback" ) ) ) { if ( ent -> s . frame >= 20 ) { ent -> s . frame = 20 ; G_UseTargets ( ent , NULL ) ; ent -> think = G_FreeEntity ; ent -> nextthink = level . time + 2000 ; ent -> s . time = level . time ; ent -> s . time2 = level . time + 2000 ; return ; } else { ent -> nextthink = level . time + ( FRAMETIME / 2 ) ; } } if ( ! Q_stricmp ( ent -> classname , "props_desklamp" ) ) { if ( ent -> s . frame >= 11 ) { if ( ent -> target ) { G_UseTargets ( ent , NULL ) ; } ent -> think = G_FreeEntity ; ent -> nextthink = level . time + 2000 ; ent -> s . time = level . time ; ent -> s . time2 = level . time + 2000 ; return ; } else { ent -> nextthink = level . time + ( FRAMETIME / 2 ) ; } } ent -> s . frame ++ ; if ( ent -> enemy ) { float ratio ; vec3_t v ; ratio = 2.5 ; VectorSubtract ( ent -> r . currentOrigin , ent -> enemy -> r . currentOrigin , v ) ; moveit ( ent , vectoyaw ( v ) , ( ent -> delay * ratio * FRAMETIME ) * .001 ) ; } } 