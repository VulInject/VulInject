static bool port100_rx_frame_is_valid ( void * _frame ) { u8 checksum ; struct port100_frame * frame = _frame ; checksum = port100_checksum ( le16_to_cpu ( frame -> datalen ) ) ; if ( checksum != frame -> datalen_checksum ) { return false ; } checksum = port100_data_checksum ( frame -> data , le16_to_cpu ( frame -> datalen ) ) ; if ( checksum != PORT100_FRAME_CHECKSUM ( frame ) ) { return false ; } return true ; } 