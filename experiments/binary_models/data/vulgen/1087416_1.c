tools_paintbrush_pixel_size_cmd_callback ( , , ) { GimpContext * context ; GimpToolInfo * tool_info ; gdouble dvalue ; dvalue = g_variant_get_double ( value ) ; tool_info = gimp_context_get_tool ( context ) ; if ( tool_info && GIMP_IS_PAINT_OPTIONS ( tool_info -> tool_options ) ) { GParamSpec * pspec ; pspec = g_object_class_find_property ( G_OBJECT_GET_CLASS ( tool_info -> tool_options ) , "brush-size" ) ; dvalue = CLAMP ( dvalue , G_PARAM_SPEC_DOUBLE ( pspec ) -> minimum , G_PARAM_SPEC_DOUBLE ( pspec ) -> maximum ) ; g_object_set ( G_OBJECT ( tool_info -> tool_options ) , "brush-size" , dvalue , NULL ) ; } } 