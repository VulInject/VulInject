multibyte_test ( ) { kms_request_t * request = kms_request_new ( "GET" , "/" EU "/?euro=" EU , NULL ) ; set_test_date ( request ) ; KMS_ASSERT ( kms_request_set_region ( request , EU ) ) ; KMS_ASSERT ( kms_request_set_service ( request , EU ) ) ; kms_request_set_access_key_id ( request , "AKIDEXAMPLE" ) ; kms_request_set_secret_key ( request , "wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY" ) ; KMS_ASSERT ( kms_request_add_header_field ( request , EU , EU ) ) ; KMS_ASSERT ( kms_request_append_header_field_value ( request , "asdf" EU , 7 ) ) ; KMS_ASSERT ( kms_request_append_payload ( request , EU , sizeof ( EU ) ) ) ; ASSERT_CMPSTR ( request -> header_fields -> kvs [ 1 ] . value -> str , EU "asdf" EU ) ; test_compare_sreq ( request , "test/multibyte" ) ; kms_request_destroy ( request ) ; } 