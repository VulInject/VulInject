float64 HELPER frecpx_f64 ( float64 a , void * fpstp ) { float_status * fpst = fpstp ; uint64_t val64 , sbit ; int64_t exp ; if ( float64_is_any_nan ( a ) ) { float64 nan = a ; if ( float64_is_signaling_nan ( a , fpst ) ) { if ( ! fpst -> default_nan_mode ) { nan = float64_silence_nan ( a , fpst ) ; } } if ( fpst -> default_nan_mode ) { nan = float64_default_nan ( fpst ) ; } return nan ; } a = float64_squash_input_denormal ( a , fpst ) ; val64 = float64_val ( a ) ; sbit = 0x8000000000000000ULL & val64 ; exp = extract64 ( float64_val ( a ) , 52 , 11 ) ; if ( exp == 0 ) { return make_float64 ( sbit | ( 0x7feULL << 52 ) ) ; } else { return make_float64 ( sbit | ( ~ exp & 0x7ffULL ) << 52 ) ; } } 