static int noinline check_block ( struct btrfs_fs_info * fs_info , struct btrfs_path * path , int level ) { struct btrfs_disk_key key ; struct btrfs_disk_key * key_ptr = NULL ; struct extent_buffer * parent ; enum btrfs_tree_block_status ret ; if ( path -> nodes [ level + 1 ] ) { parent = path -> nodes [ level + 1 ] ; btrfs_node_key ( parent , & key , path -> slots [ level + 1 ] ) ; key_ptr = & key ; } if ( level == 0 ) { ret = btrfs_check_leaf ( fs_info , key_ptr , path -> nodes [ 0 ] ) ; } else { ret = btrfs_check_node ( fs_info , key_ptr , path -> nodes [ level ] ) ; } return - EIO ; } 