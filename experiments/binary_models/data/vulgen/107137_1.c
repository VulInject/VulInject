static int bd82x6x_northbridge_early_init ( struct udevice * dev ) { const int chipset_type = SANDYBRIDGE_MOBILE ; u32 capid0_a ; u8 reg8 ; dm_pci_read_config32 ( dev , 0xe4 , & capid0_a ) ; if ( capid0_a & ( 1 << 10 ) ) { dm_pci_read_config8 ( dev , 0xf3 , & reg8 ) ; reg8 &= ~ 7 ; if ( chipset_type == SANDYBRIDGE_MOBILE ) { reg8 |= 1 ; } dm_pci_write_config8 ( dev , 0xf3 , reg8 ) ; } sandybridge_setup_northbridge_bars ( dev ) ; dm_pci_write_config32 ( dev , DEVEN , DEVEN_HOST | DEVEN_IGD ) ; return 0 ; } 