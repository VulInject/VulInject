static BOOL h264_context_init ( H264_CONTEXT * h264 ) { int i ; h264 -> log = WLog_Get ( TAG ) ; if ( ! h264 -> log ) { return FALSE ; } h264 -> subsystem = NULL ; InitOnceExecuteOnce ( & subsystems_once , h264_register_subsystems , NULL , NULL ) ; for ( i = 0 ; i < MAX_SUBSYSTEMS ; i ++ ) { const H264_CONTEXT_SUBSYSTEM * subsystem = subSystems [ i ] ; if ( ! subsystem || ! subsystem -> Init ) { break ; } if ( subsystem -> Init ( h264 ) ) { h264 -> subsystem = subsystem ; return TRUE ; } } return FALSE ; } 