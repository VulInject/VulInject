static void _pack_step_complete_msg ( dbd_step_comp_msg_t * msg , uint16_t rpc_version , buf_t * buffer ) { if ( rpc_version >= SLURM_MIN_PROTOCOL_VERSION ) { pack32 ( msg -> assoc_id , buffer ) ; pack64 ( msg -> db_index , buffer ) ; pack_time ( msg -> end_time , buffer ) ; jobacctinfo_pack ( ( jobacctinfo * ) msg -> jobacct , rpc_version , PROTOCOL_TYPE_DBD , buffer ) ; pack_time ( msg -> job_submit_time , buffer ) ; packstr ( msg -> job_tres_alloc_str , buffer ) ; pack32 ( msg -> req_uid , buffer ) ; pack_time ( msg -> start_time , buffer ) ; pack16 ( msg -> state , buffer ) ; pack_step_id ( & msg -> step_id , buffer , rpc_version ) ; pack32 ( msg -> total_tasks , buffer ) ; } } 