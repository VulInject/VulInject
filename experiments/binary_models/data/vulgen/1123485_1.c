static int __init reipl_type_init ( void ) { enum ipl_type reipl_type = ipl_info . type ; struct ipl_parameter_block * reipl_block ; unsigned long size ; if ( ! reipl_block ) { out } if ( reipl_block -> pb0_hdr . pbt == IPL_PBT_FCP ) { memcpy ( reipl_block_fcp , reipl_block , size ) ; reipl_type = IPL_TYPE_FCP ; } if ( reipl_block -> pb0_hdr . pbt == IPL_PBT_NVME ) { memcpy ( reipl_block_nvme , reipl_block , size ) ; reipl_type = IPL_TYPE_NVME ; } if ( reipl_block -> pb0_hdr . pbt == IPL_PBT_CCW ) { memcpy ( reipl_block_ccw , reipl_block , size ) ; reipl_type = IPL_TYPE_CCW ; } if ( reipl_block -> pb0_hdr . pbt == IPL_PBT_ECKD ) { memcpy ( reipl_block_eckd , reipl_block , size ) ; reipl_type = IPL_TYPE_ECKD ; } out return reipl_set_type ( reipl_type ) ; } 