static void save_named ( kstat_t * kp , ks_instance_t * ksi ) { kstat_named_t * knp ; int n ; for ( n = kp -> ks_ndata , knp = KSTAT_NAMED_PTR ( kp ) ; n > 0 ; n -- , knp ++ ) { switch ( knp -> data_type ) { case KSTAT_DATA_CHAR : nvpair_insert ( ksi , knp -> name , ( ks_value_t * ) & knp -> value , KSTAT_DATA_CHAR ) ; break ; case KSTAT_DATA_INT32 : nvpair_insert ( ksi , knp -> name , ( ks_value_t * ) & knp -> value , KSTAT_DATA_INT32 ) ; break ; case KSTAT_DATA_UINT32 : nvpair_insert ( ksi , knp -> name , ( ks_value_t * ) & knp -> value , KSTAT_DATA_UINT32 ) ; break ; case KSTAT_DATA_INT64 : nvpair_insert ( ksi , knp -> name , ( ks_value_t * ) & knp -> value , KSTAT_DATA_INT64 ) ; break ; case KSTAT_DATA_UINT64 : nvpair_insert ( ksi , knp -> name , ( ks_value_t * ) & knp -> value , KSTAT_DATA_UINT64 ) ; break ; case KSTAT_DATA_STRING : SAVE_STRING_X ( ksi , knp -> name , KSTAT_NAMED_STR_PTR ( knp ) ) ; break ; default : assert ( B_FALSE ) ; break ; } } } 