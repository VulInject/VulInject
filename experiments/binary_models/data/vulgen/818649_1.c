void test_core_env__1 ( void ) { git_str path = GIT_STR_INIT ; cl_assert_equal_i ( GIT_ENOTFOUND , git_sysdir_find_global_file ( & path , "nonexistentfile" ) ) ; cl_git_pass ( cl_setenv ( "HOME" , "doesnotexist" ) ) ; cl_git_pass ( cl_setenv ( "HOMEPATH" , "doesnotexist" ) ) ; cl_git_pass ( cl_setenv ( "USERPROFILE" , "doesnotexist" ) ) ; set_global_search_path_from_env ( ) ; cl_assert_equal_i ( GIT_ENOTFOUND , git_sysdir_find_global_file ( & path , "nonexistentfile" ) ) ; cl_git_pass ( cl_setenv ( "HOME" , NULL ) ) ; cl_git_pass ( cl_setenv ( "HOMEPATH" , NULL ) ) ; cl_git_pass ( cl_setenv ( "USERPROFILE" , NULL ) ) ; set_global_search_path_from_env ( ) ; set_system_search_path_from_env ( ) ; cl_assert_equal_i ( GIT_ENOTFOUND , git_sysdir_find_global_file ( & path , "nonexistentfile" ) ) ; cl_assert_equal_i ( GIT_ENOTFOUND , git_sysdir_find_system_file ( & path , "nonexistentfile" ) ) ; cl_git_pass ( cl_setenv ( "PROGRAMFILES" , NULL ) ) ; set_system_search_path_from_env ( ) ; cl_assert_equal_i ( GIT_ENOTFOUND , git_sysdir_find_system_file ( & path , "nonexistentfile" ) ) ; } 