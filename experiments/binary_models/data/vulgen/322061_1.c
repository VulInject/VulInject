static int hci_extcap_master_config ( struct i3c_hci * hci , void __iomem * base ) { u32 master_config = readl ( base + 0x04 ) ; static const char * const functionality [ ] { "(unknown)" "master only" "target only" "primary/secondary master" } ; ; dev_info ( & hci -> master . dev , "operation mode: %s\n" , functionality [ operation_mode ] ) ; if ( operation_mode & 0x1 ) { return 0 ; } dev_err ( & hci -> master . dev , "only master mode is currently supported\n" ) ; return - EOPNOTSUPP ; } 