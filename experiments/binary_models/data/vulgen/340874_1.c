static void lgrp_plat_2level_setup ( lgrp_plat_latency_stats_t * lat_stats ) { int i , j ; ASSERT ( lat_stats != NULL ) ; if ( lgrp_plat_node_cnt >= 4 ) { cmn_err ( CE_NOTE , "MPO only optimizing for local and remote\n" ) ; } for ( i = 0 ; i < lgrp_plat_node_cnt ; i ++ ) { for ( j = 0 ; j < lgrp_plat_node_cnt ; j ++ ) { if ( i == j ) { lat_stats -> latencies [ i ] [ j ] = 2 ; } else { lat_stats -> latencies [ i ] [ j ] = 3 ; } } } lat_stats -> latency_min = 2 ; lat_stats -> latency_max = 3 ; lgrp_plat_topo_flatten = 1 ; } 