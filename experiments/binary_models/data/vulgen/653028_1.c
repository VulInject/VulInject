static int __init booke_wdt_init ( void ) { int ret = 0 ; pr_info ( "powerpc book-e watchdog driver loaded\n" ) ; booke_wdt_info . firmware_version = cur_cpu_spec -> pvr_value ; booke_wdt_set_timeout ( & booke_wdt_dev , period_to_sec ( booke_wdt_period ) ) ; watchdog_set_nowayout ( & booke_wdt_dev , nowayout ) ; booke_wdt_dev . max_timeout = MAX_WDT_TIMEOUT ; ret = watchdog_register_device ( & booke_wdt_dev ) ; return ret ; } 