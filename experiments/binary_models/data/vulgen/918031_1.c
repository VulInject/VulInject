static xmlCatalogEntryPtr xmlNewCatalogEntry ( xmlCatalogEntryType type , const xmlChar * name , const xmlChar * value , const xmlChar * URL , xmlCatalogPrefer prefer , xmlCatalogEntryPtr group ) { xmlCatalogEntryPtr ret ; xmlChar * normid = NULL ; ret = ( xmlCatalogEntryPtr ) xmlMalloc ( sizeof ( xmlCatalogEntry ) ) ; if ( ret == NULL ) { xmlCatalogErrMemory ( "allocating catalog entry" ) ; return ( NULL ) ; } ret -> next = NULL ; ret -> parent = NULL ; ret -> children = NULL ; ret -> type = type ; if ( type == XML_CATA_PUBLIC || type == XML_CATA_DELEGATE_PUBLIC ) { normid = xmlCatalogNormalizePublic ( name ) ; if ( normid != NULL ) { name = ( * normid != 0 ?normid : NULL ) ; } } if ( name != NULL ) { ret -> name = xmlStrdup ( name ) ; } else { ret -> name = NULL ; } if ( normid != NULL ) { xmlFree ( normid ) ; } if ( value != NULL ) { ret -> value = xmlStrdup ( value ) ; } else { ret -> value = NULL ; } if ( URL != NULL ) { ret -> URL = xmlStrdup ( URL ) ; } else { ret -> URL = NULL ; } ret -> prefer = prefer ; ret -> dealloc = 0 ; ret -> depth = 0 ; ret -> group = group ; return ( ret ) ; } 