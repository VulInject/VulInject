void config_ddr ( const struct ddr_data * data , const struct cmd_control * ctrl , const struct emif_regs * regs , const struct dmm_lisa_map_regs * lisa_regs , int nrs ) { int i ; enable_emif_clocks ( ) ; for ( i = 0 ; i < nrs ; i ++ ) { ddr_init_settings ( ctrl , i ) ; } enable_dmm_clocks ( ) ; config_dmm ( lisa_regs ) ; for ( i = 0 ; i < nrs ; i ++ ) { set_sdram_timings ( regs , i ) ; config_sdram ( regs , i ) ; } udelay ( 1000 ) ; for ( i = 0 ; i < nrs ; i ++ ) { ddr3_sw_levelling ( data , 0 ) ; } udelay ( 50000 ) ; } 