int measure_cache_vals ( struct resctrl_val_param * param , int bm_pid ) { unsigned long llc_perf_miss = 0 , llc_occu_resc = 0 , llc_value ; int ret ; if ( ! strncmp ( param -> resctrl_val , CAT_STR , sizeof ( CAT_STR ) ) ) { ret = get_llc_perf ( & llc_perf_miss ) ; if ( ret < 0 ) { return ret ; } llc_value = llc_perf_miss ; } if ( ! strncmp ( param -> resctrl_val , CMT_STR , sizeof ( CMT_STR ) ) ) { ret = get_llc_occu_resctrl ( & llc_occu_resc ) ; if ( ret < 0 ) { return ret ; } llc_value = llc_occu_resc ; } ret = print_results_cache ( param -> filename , bm_pid , llc_value ) ; if ( ret ) { return ret ; } return 0 ; } 