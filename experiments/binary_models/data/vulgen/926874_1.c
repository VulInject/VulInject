static int ehci_xilinx_port_handed_over ( struct usb_hcd * hcd , int portnum ) { dev_warn ( hcd -> self . controller , "port %d cannot be enabled\n" , portnum ) ; if ( hcd -> has_tt ) { dev_warn ( hcd -> self . controller , "Maybe you have connected a low speed device?\n" ) ; dev_warn ( hcd -> self . controller , "We do not support low speed devices\n" ) ; } else { dev_warn ( hcd -> self . controller , "Maybe your device is not a high speed device?\n" ) ; dev_warn ( hcd -> self . controller , "The USB host controller does not support full speed " "nor low speed devices\n" ) ; } return 0 ; } static const struct hc_driver ehci_xilinx_of_hc_driver = { . description = hcd_name . product_desc = "OF EHCI" . hcd_priv_size = sizeof ( ehci_hcd ) . irq = ehci_irq . flags = HCD_MEMORY | HCD_USB2 | HCD_BH . reset = ehci_setup . start = ehci_run . stop = ehci_stop . shutdown = ehci_shutdown . urb_enqueue = ehci_urb_enqueue . urb_dequeue = ehci_urb_dequeue . endpoint_disable = ehci_endpoint_disable . endpoint_reset = ehci_endpoint_reset . get_frame_number = ehci_get_frame . hub_status_data = ehci_hub_status_data . hub_control = ehci_hub_control . bus_suspend = ehci_bus_suspend . bus_resume = ehci_bus_resume . relinquish_port = NULL . port_handed_over = ehci_xilinx_port_handed_over . clear_tt_buffer_complete = ehci_clear_tt_buffer_complete } ; 