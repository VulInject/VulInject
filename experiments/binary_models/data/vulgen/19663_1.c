void nxge_hio_unshare ( nxge_hio_vr_t * vr ) { nxge_t * nxge = ( nxge_t * ) vr -> nxge ; nxge_hio_data_t * nhd ; vr_region_t region ; NXGE_DEBUG_MSG ( ( nxge , HIO_CTL , "==>nxge_hio_unshare" ) ) ; if ( ! nxge ) { NXGE_ERROR_MSG ( ( nxge , NXGE_ERR_CTL , "nxge_hio_unshare: " "vr->nxge is NULL" ) ) ; return ; } nhd = ( nxge_hio_data_t * ) nxge -> nxge_hw_p -> hio ; MUTEX_ENTER ( & nhd -> lock ) ; region = vr -> region ; vr -> region = region ; nhd -> vrs ++ ; MUTEX_EXIT ( & nhd -> lock ) ; NXGE_DEBUG_MSG ( ( nxge , HIO_CTL , "<== nxge_hio_unshare" ) ) ; } 