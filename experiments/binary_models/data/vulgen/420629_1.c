int get_cpu_type ( struct thread_data * t , struct core_data * c , struct pkg_data * p ) { unsigned int eax , ebx , ecx , edx ; UNUSED ( c ) ; UNUSED ( p ) ; if ( cpu_migrate ( t -> cpu_id ) ) { fprintf ( outf , "Could not migrate to CPU %d\n" , t -> cpu_id ) ; return - 1 ; } if ( max_level < 0x1a ) { return 0 ; } __cpuid ( 0x1a , eax , ebx , ecx , edx ) ; eax = ( eax >> 24 ) & 0xFF ; if ( eax == 0x20 ) { t -> is_atom = true ; } return 0 ; } 