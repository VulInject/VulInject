static void dentry_unlink_inode ( dentry * dentry ) __releases ( dentry -> d_lock ) __releases ( dentry -> d_inode -> i_lock ) ( inode * inode = dentry -> d_inode , bool hashed = ! d_unhashed ( dentry ) , ( hashed ) raw_write_seqcount_begin ( & dentry -> d_seq ) , __d_clear_type_and_inode ( dentry ) , hlist_del_init ( & dentry -> d_u . d_alias ) , ( hashed ) raw_write_seqcount_end ( & dentry -> d_seq ) , spin_unlock ( & dentry -> d_lock ) , spin_unlock ( & inode -> i_lock ) , ( ! inode -> i_nlink ) fsnotify_inoderemove ( inode ) , ( dentry -> d_op && dentry -> d_op -> d_iput ) dentry -> d_op -> d_iput ( inode ) , iput ( inode ) ) ; 