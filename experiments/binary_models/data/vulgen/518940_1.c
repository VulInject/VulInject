FT_BASE_DEF ( ) ft_mem_alloc ( , , ) { FT_Error error ; FT_Pointer block = ft_mem_qalloc ( memory , size , & error ) ; if ( ! error && size > 0 ) { FT_MEM_ZERO ( block , size ) ; } * p_error = error ; return block ; } FT_BASE_DEF ( ) ft_mem_qalloc ( , , ) { FT_Error error = FT_Err_Ok ; FT_Pointer block = NULL ; if ( size > 0 ) { block = memory -> alloc ( memory , size ) ; if ( ! block ) { error = FT_THROW ( Out_Of_Memory ) ; } } if ( size < 0 ) { error = FT_THROW ( Invalid_Argument ) ; } * p_error = error ; return block ; } FT_BASE_DEF ( ) ft_mem_realloc ( , , , , , ) { FT_Error error = FT_Err_Ok ; block = ft_mem_qrealloc ( memory , item_size , cur_count , new_count , block , & error ) ; * p_error = error ; return block ; } FT_BASE_DEF ( ) ft_mem_qrealloc ( , , , , , ) { FT_Error error = FT_Err_Ok ; if ( cur_count < 0 || new_count < 0 || item_size < 0 ) { error = FT_THROW ( Invalid_Argument ) ; } if ( new_count == 0 || item_size == 0 ) { ft_mem_free ( memory , block ) ; block = NULL ; } } 