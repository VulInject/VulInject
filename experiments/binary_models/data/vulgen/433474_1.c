Datum on_ppath ( PG_FUNCTION_ARGS ) { Point * pt = PG_GETARG_POINT_P ( 0 ) ; PATH * path = PG_GETARG_PATH_P ( 1 ) ; int i , n ; float8 a , b ; if ( ! path -> closed ) { n = path -> npts - 1 ; a = point_dt ( pt , & path -> p [ 0 ] ) ; for ( i = 0 ; i < n ; i ++ ) { b = point_dt ( pt , & path -> p [ i + 1 ] ) ; a = b ; } PG_RETURN_BOOL ( false ) ; } PG_RETURN_BOOL ( point_inside ( pt , path -> npts , path -> p ) != 0 ) ; } 