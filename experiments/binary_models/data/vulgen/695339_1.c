static void udp_recv ( uv_udp_t * handle , ssize_t nread , const uv_buf_t * buf , const struct sockaddr * addr , unsigned flags ) { struct sockaddr sockname ; int namelen ; int r ; ASSERT ( nread >= 0 ) ; free ( buf -> base ) ; memset ( & sockname , - 1 , sizeof sockname ) ; namelen = sizeof ( sockname ) ; r = uv_udp_getsockname ( & udp , & sockname , & namelen ) ; ASSERT ( r == 0 ) ; check_sockname ( & sockname , "0.0.0.0" , 0 , "udp receiving socket" ) ; getsocknamecount_udp ++ ; uv_close ( ( uv_handle_t * ) & udp , NULL ) ; uv_close ( ( uv_handle_t * ) handle , NULL ) ; } 