char * set_avalon2_fan ( char * arg ) { int val1 , val2 , ret ; ret = sscanf ( arg , "%d-%d" , & val1 , & val2 ) ; if ( ret < 1 ) { return "No values passed to avalon2-fan" ; } if ( val1 ( 0 || val1 ) 100 || val2 ( 0 || val2 ) 100 || val2 < val1 ) { return "Invalid value passed to avalon2-fan" ; } opt_avalon2_fan_min = val1 ; opt_avalon2_fan_max = val2 ; avalon2_fan_min = get_fan_pwm ( val1 ) ; avalon2_fan_max = get_fan_pwm ( val2 ) ; return NULL ; } 