static void si_setup_bsp ( struct radeon_device * rdev ) { struct rv7xx_power_info * pi = rv770_get_pi ( rdev ) ; r600_calculate_u_and_p ( pi -> asi , xclk , 16 , & pi -> bsp , & pi -> bsu ) ; r600_calculate_u_and_p ( pi -> pasi , xclk , 16 , & pi -> pbsp , & pi -> pbsu ) ; pi -> dsp = BSP ( pi -> bsp ) | BSU ( pi -> bsu ) ; pi -> psp = BSP ( pi -> pbsp ) | BSU ( pi -> pbsu ) ; WREG32 ( CG_BSP , pi -> dsp ) ; } 