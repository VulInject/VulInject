d30v_split_double ( , , ) rtx value ; rtx * p_high ; rtx * p_low ; { int offset = 0 ; int regno ; switch ( GET_CODE ( value ) ) { case SUBREG : if ( GET_CODE ( SUBREG_REG ( value ) ) != REG ) { abort ( ) ; } offset = subreg_regno_offset ( REGNO ( SUBREG_REG ( value ) ) , GET_MODE ( SUBREG_REG ( value ) ) , SUBREG_BYTE ( value ) , GET_MODE ( value ) ) ; value = SUBREG_REG ( value ) ; case REG : regno = REGNO ( value ) + offset ; if ( ! GPR_P ( regno ) ) { abort ( ) ; } * p_high = gen_rtx ( REG , SImode , regno ) ; * p_low = gen_rtx ( REG , SImode , regno + 1 ) ; break ; case CONST_INT : case CONST_DOUBLE : split_double ( value , p_high , p_low ) ; break ; default : abort ( ) ; } } 