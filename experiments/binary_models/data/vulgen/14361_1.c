static void repair_subwindows ( WINDOW * cmp ) { WINDOWLIST * wp ; struct ldat * pline = cmp -> _line ; int row ; _nc_lock_global ( curses ) ; for ( each_window ( wp ) ; ) { WINDOW * tst = & ( wp -> win ) ; if ( tst -> _parent == cmp ) { if ( tst -> _pary > cmp -> _maxy ) { tst -> _pary = cmp -> _maxy ; } if ( tst -> _maxy + tst -> _pary > cmp -> _maxy ) { tst -> _maxy = cmp -> _maxy - tst -> _pary ; } if ( tst -> _maxx + tst -> _parx > cmp -> _maxx ) { tst -> _maxx = cmp -> _maxx - tst -> _parx ; } for ( row = 0 ; row <= tst -> _maxy ; ++ row ) { tst -> _line [ row ] . text = & pline [ tst -> _pary + row ] . text [ tst -> _parx ] ; } repair_subwindows ( tst ) ; } } _nc_unlock_global ( curses ) ; } 