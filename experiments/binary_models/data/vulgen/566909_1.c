authenticate ( , ) { UzblAuthenticateData * auth = ( UzblAuthenticateData * ) data ; gchar * * tokens = g_strsplit ( result -> str , "\n" , 0 ) ; const gchar * action = tokens [ 0 ] ; const gchar * username = action ?tokens [ 1 ] : NULL ; const gchar * password = username ?tokens [ 2 ] : NULL ; if ( ! action ) { } if ( ! g_strcmp0 ( action , "IGNORE" ) ) { } if ( ! g_strcmp0 ( action , "AUTH" ) && username && password ) { soup_auth_authenticate ( auth -> auth , username , password ) ; } soup_session_unpause_message ( auth -> session , auth -> message ) ; g_strfreev ( tokens ) ; g_object_unref ( auth -> auth ) ; g_object_unref ( auth -> message ) ; g_object_unref ( auth -> session ) ; } 