static void parse_arena_meta ( struct arena_info * arena , struct btt_sb * super , u64 arena_off ) { arena -> internal_nlba = le32_to_cpu ( super -> internal_nlba ) ; arena -> internal_lbasize = le32_to_cpu ( super -> internal_lbasize ) ; arena -> external_nlba = le32_to_cpu ( super -> external_nlba ) ; arena -> external_lbasize = le32_to_cpu ( super -> external_lbasize ) ; arena -> version_major = le16_to_cpu ( super -> version_major ) ; arena -> version_minor = le16_to_cpu ( super -> version_minor ) ; arena -> nextoff = ( super -> nextoff == 0 ) ?0 : ( arena_off + le64_to_cpu ( super -> nextoff ) ) ; arena -> infooff = arena_off ; arena -> dataoff = arena_off + le64_to_cpu ( super -> dataoff ) ; arena -> mapoff = arena_off + le64_to_cpu ( super -> mapoff ) ; arena -> logoff = arena_off + le64_to_cpu ( super -> logoff ) ; arena -> info2off = arena_off + le64_to_cpu ( super -> info2off ) ; arena -> size = ( le64_to_cpu ( super -> nextoff ) > 0 ) ?( le64_to_cpu ( super -> nextoff ) ) : ( arena -> info2off - arena -> infooff + BTT_PG_SIZE ) ; arena -> flags = le32_to_cpu ( super -> flags ) ; } 