int _print_job_reason_list ( job_info_t * job , int width , bool right , char * suffix ) { if ( job == NULL ) { _print_str ( "NODELIST(REASON)" , width , right , false ) ; } if ( ! IS_JOB_COMPLETING ( job ) && ( IS_JOB_PENDING ( job ) || IS_JOB_STAGE_OUT ( job ) || IS_JOB_TIMEOUT ( job ) || IS_JOB_OOM ( job ) || IS_JOB_DEADLINE ( job ) || IS_JOB_FAILED ( job ) ) ) { char * reason_fmt = NULL , * reason = NULL ; if ( job -> state_desc ) { reason = job -> state_desc ; } else { reason = job_reason_string ( job -> state_reason ) ; } xstrfmtcat ( reason_fmt , "(%s)" , reason ) ; _print_str ( reason_fmt , width , right , true ) ; } else { _print_nodes ( job -> nodes , width , right , false ) ; } if ( suffix ) { printf ( "%s" , suffix ) ; } return SLURM_SUCCESS ; } 