static sprintfToken freeFormat ( sprintfToken format , int num ) { int i ; if ( format == NULL ) { return NULL ; } for ( i = 0 ; i < num ; i ++ ) { switch ( format [ i ] . type ) { case PTOK_ARRAY : format [ i ] . u . array . format = freeFormat ( format [ i ] . u . array . format , format [ i ] . u . array . numTokens ) ; break ; case PTOK_COND : format [ i ] . u . cond . ifFormat = freeFormat ( format [ i ] . u . cond . ifFormat , format [ i ] . u . cond . numIfTokens ) ; format [ i ] . u . cond . elseFormat = freeFormat ( format [ i ] . u . cond . elseFormat , format [ i ] . u . cond . numElseTokens ) ; break ; case PTOK_NONE : case PTOK_TAG : case PTOK_STRING : default : break ; } } return NULL ; } 