bool dc_stream_set_cursor_position ( struct dc_stream_state * stream , const struct dc_cursor_position * position ) { struct dc * dc ; bool reset_idle_optimizations = false ; if ( NULL == stream ) { dm_error ( "DC: dc_stream is NULL!\n" ) ; return false ; } if ( NULL == position ) { dm_error ( "DC: cursor position is NULL!\n" ) ; return false ; } dc = stream -> ctx -> dc ; dc_z10_restore ( dc ) ; if ( dc -> idle_optimizations_allowed && ( ! stream -> cursor_position . enable || dc -> debug . exit_idle_opt_for_cursor_updates ) && position -> enable ) { reset_idle_optimizations = true ; } stream -> cursor_position = * position ; program_cursor_position ( dc , stream , position ) ; if ( reset_idle_optimizations ) { dc_allow_idle_optimizations ( dc , true ) ; } return true ; } 