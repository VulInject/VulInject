static void rk3288_calc_drv_reg_and_bit ( struct rockchip_pin_bank * bank , int pin_num , struct regmap * * regmap , int * reg , u8 * bit ) { struct rockchip_pinctrl_priv * priv = bank -> priv ; if ( bank -> bank_num == 0 ) { * regmap = priv -> regmap_pmu ; * reg = RK3288_DRV_PMU_OFFSET ; } else { * regmap = priv -> regmap_base ; * reg = RK3288_DRV_GRF_OFFSET ; * reg -= 0x10 ; * reg += bank -> bank_num * ROCKCHIP_DRV_BANK_STRIDE ; } * bit = ( pin_num % ROCKCHIP_DRV_PINS_PER_REG ) ; * bit *= ROCKCHIP_DRV_BITS_PER_PIN ; } 