( _spinunlock ) ; static void _rthread_init ( void ) { pthread_t thread = & _initial_thread ; struct tib * tib ; if ( _threads_inited ) { return ; } tib = TIB_GET ( ) ; tib -> tib_thread = thread ; thread -> tib = tib ; thread -> donesem . lock = _SPINLOCK_UNLOCKED ; tib -> tib_thread_flags = TIB_THREAD_INITIAL_STACK ; if ( ! issetugid ( ) ) { char * envp = getenv ( RTHREAD_ENV_DEBUG ) ; } _threads_inited = 1 ; } 