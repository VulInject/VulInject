void print_stats ( FILE * fp ) { IDENT * ip ; PLAYER * pp ; fputs ( "Name\t\tScore\tDucked\tAbsorb\tFaced\tShot\tRobbed\tMissed\tSlimeK\n" , fp ) ; for ( ip = Scores ; ip != NULL ; ip = ip -> i_next ) { fprintf ( fp , "%s%c%c%c\t" , ip -> i_name , ip -> i_team == ' ' ?' ' : '[' , ip -> i_team , ip -> i_team == ' ' ?' ' : ']' ) ; if ( strlen ( ip -> i_name ) + 3 < 8 ) { putc ( '\t' , fp ) ; } fprintf ( fp , "%.2f\t%d\t%d\t%d\t%d\t%d\t%d\t%d\n" , ip -> i_score , ip -> i_ducked , ip -> i_absorbed , ip -> i_faced , ip -> i_shot , ip -> i_robbed , ip -> i_missed , ip -> i_slime ) ; } for ( ip = Scores ; ip != NULL ; ip = ip -> i_next ) { fprintf ( fp , "%s%c%c%c\t" , ip -> i_name , ip -> i_team == ' ' ?' ' : '[' , ip -> i_team , ip -> i_team == ' ' ?' ' : ']' ) ; if ( strlen ( ip -> i_name ) + 3 < 8 ) { putc ( '\t' , fp ) ; } fprintf ( fp , "%d\t%d\t%d\t%d\t%d\t" , ip -> i_gkills , ip -> i_bkills , ip -> i_deaths , ip -> i_stillb , ip -> i_saved ) ; for ( pp = Player ; pp < End_player ; pp ++ ) { if ( pp -> p_ident == ip ) { putc ( 'p' , fp ) ; } } for ( pp = Monitor ; pp < End_monitor ; pp ++ ) { if ( pp -> p_ident == ip ) { putc ( 'm' , fp ) ; } } putc ( '\n' , fp ) ; } } 