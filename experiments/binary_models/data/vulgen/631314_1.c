u32 gm200_acr_wpr_layout ( struct nvkm_acr * acr ) { struct nvkm_acr_lsfw * lsfw ; u32 wpr ; wpr += 11 * sizeof ( wpr_header ) ; list_for_each_entry ( , , ) { wpr = ALIGN ( wpr , 256 ) ; lsfw -> offset . lsb = wpr ; wpr += sizeof ( lsb_header ) ; wpr = ALIGN ( wpr , 4096 ) ; lsfw -> offset . img = wpr ; wpr += lsfw -> img . size ; wpr = ALIGN ( wpr , 256 ) ; lsfw -> offset . bld = wpr ; lsfw -> bl_data_size = ALIGN ( lsfw -> func -> bld_size , 256 ) ; wpr += lsfw -> bl_data_size ; } return wpr ; } 