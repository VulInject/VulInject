struct mailmime_parameter * mailmime_param_new_with_data ( char * name , char * value ) { char * param_name ; char * param_value ; struct mailmime_parameter * param ; param_name = strdup ( name ) ; if ( param_name == NULL ) { err } param_value = strdup ( value ) ; if ( param_value == NULL ) { free_name } param = mailmime_parameter_new ( param_name , param_value ) ; if ( param == NULL ) { free_value } return param ; free_value free_name free ( param_name ) ; err return NULL ; } 