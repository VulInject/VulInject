static irqreturn_t max77650_charger_check_status ( int irq , void * data ) { struct max77650_charger_data * chg = data ; int rv , reg ; if ( rv ) { dev_err ( chg -> dev , "unable to read the charger status: %d\n" , rv ) ; return IRQ_HANDLED ; } switch ( MAX77650_CHGIN_DETAILS_BITS ( reg ) ) { case MAX77650_CHGIN_UNDERVOLTAGE_LOCKOUT : dev_err ( chg -> dev , "undervoltage lockout detected, disabling charger\n" ) ; max77650_charger_disable ( chg ) ; break ; case MAX77650_CHGIN_OVERVOLTAGE_LOCKOUT : dev_err ( chg -> dev , "overvoltage lockout detected, disabling charger\n" ) ; max77650_charger_disable ( chg ) ; break ; case MAX77650_CHGIN_OKAY : max77650_charger_enable ( chg ) ; break ; default : break ; } return IRQ_HANDLED ; } 