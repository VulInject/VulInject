void omap_video_timings_to_videomode ( const struct omap_video_timings * ovt , struct videomode * vm ) { vm -> pixelclock = ovt -> pixelclock ; vm -> hactive = ovt -> x_res ; vm -> hback_porch = ovt -> hbp ; vm -> hfront_porch = ovt -> hfp ; vm -> hsync_len = ovt -> hsw ; vm -> vactive = ovt -> y_res ; vm -> vback_porch = ovt -> vbp ; vm -> vfront_porch = ovt -> vfp ; vm -> vsync_len = ovt -> vsw ; if ( ovt -> hsync_level == OMAPDSS_SIG_ACTIVE_HIGH ) { vm -> flags |= DISPLAY_FLAGS_HSYNC_HIGH ; } else { vm -> flags |= DISPLAY_FLAGS_HSYNC_LOW ; } if ( ovt -> vsync_level == OMAPDSS_SIG_ACTIVE_HIGH ) { vm -> flags |= DISPLAY_FLAGS_VSYNC_HIGH ; } else { vm -> flags |= DISPLAY_FLAGS_VSYNC_LOW ; } if ( ovt -> de_level == OMAPDSS_SIG_ACTIVE_HIGH ) { vm -> flags |= DISPLAY_FLAGS_DE_HIGH ; } else { vm -> flags |= DISPLAY_FLAGS_DE_LOW ; } if ( ovt -> data_pclk_edge == OMAPDSS_DRIVE_SIG_RISING_EDGE ) { vm -> flags |= DISPLAY_FLAGS_PIXDATA_POSEDGE ; } else { vm -> flags |= DISPLAY_FLAGS_PIXDATA_NEGEDGE ; } } 