static struct pack_list * pack_list_difference ( const struct pack_list * A , const struct pack_list * B ) { struct pack_list * ret ; const struct pack_list * pl ; pl = B ; while ( pl != NULL ) { if ( A -> pack == pl -> pack ) { return pack_list_difference ( A -> next , B ) ; } pl = pl -> next ; } ret = xmalloc ( sizeof ( pack_list ) ) ; memcpy ( ret , A , sizeof ( pack_list ) ) ; ret -> next = pack_list_difference ( A -> next , B ) ; return ret ; } 