static ssize_t PrintChannelMoments ( FILE * file , const ChannelType channel , const char * name , const double scale , const ChannelMoments * channel_moments ) { double powers [ MaximumNumberOfImageMoments ] { 1.0 2.0 3.0 3.0 6.0 4.0 6.0 4.0 } ; ; ssize_t i ; ssize_t n ; n = FormatLocaleFile ( file , "    %s:\n" , name ) ; n += FormatLocaleFile ( file , "      Centroid: %.*g,%.*g\n" , GetMagickPrecision ( ) , channel_moments [ channel ] . centroid . x , GetMagickPrecision ( ) , channel_moments [ channel ] . centroid . y ) ; n += FormatLocaleFile ( file , "      Ellipse Semi-Major/Minor axis: %.*g,%.*g\n" , GetMagickPrecision ( ) , channel_moments [ channel ] . ellipse_axis . x , GetMagickPrecision ( ) , channel_moments [ channel ] . ellipse_axis . y ) ; n += FormatLocaleFile ( file , "      Ellipse angle: %.*g\n" , GetMagickPrecision ( ) , channel_moments [ channel ] . ellipse_angle ) ; n += FormatLocaleFile ( file , "      Ellipse eccentricity: %.*g\n" , GetMagickPrecision ( ) , channel_moments [ channel ] . ellipse_eccentricity ) ; n += FormatLocaleFile ( file , "      Ellipse intensity: %.*g (%.*g)\n" , GetMagickPrecision ( ) , pow ( scale , powers [ 0 ] ) * channel_moments [ channel ] . ellipse_intensity , GetMagickPrecision ( ) , channel_moments [ channel ] . ellipse_intensity ) ; for ( i = 0 ; i < MaximumNumberOfImageMoments ; i ++ ) { n += FormatLocaleFile ( file , "      I%.20g: %.*g (%.*g)\n" , i , GetMagickPrecision ( ) , channel_moments [ channel ] . I [ i ] / pow ( scale , powers [ i ] ) , GetMagickPrecision ( ) , channel_moments [ channel ] . I [ i ] ) ; } return ( n ) ; } 