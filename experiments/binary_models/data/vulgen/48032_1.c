static void xhci_ring_dump_segment ( struct seq_file * s , struct xhci_segment * seg ) { int i ; union xhci_trb * trb ; char str [ XHCI_MSG_MAX ] ; for ( i = 0 ; i < TRBS_PER_SEGMENT ; i ++ ) { trb = & seg -> trbs [ i ] ; dma = seg -> dma + i * sizeof ( * trb ) ; seq_printf ( s , "%pad: %s\n" , & dma , xhci_decode_trb ( str , XHCI_MSG_MAX , le32_to_cpu ( trb -> generic . field [ 0 ] ) , le32_to_cpu ( trb -> generic . field [ 1 ] ) , le32_to_cpu ( trb -> generic . field [ 2 ] ) , le32_to_cpu ( trb -> generic . field [ 3 ] ) ) ) ; } } 