static irqreturn_t zevio_timer_interrupt ( int irq , void * dev_id ) { struct zevio_timer * timer = dev_id ; u32 intr ; intr = readl ( timer -> interrupt_regs + IO_INTR_ACK ) ; if ( ! ( intr & TIMER_INTR_MSK ) ) { return IRQ_NONE ; } writel ( TIMER_INTR_MSK , timer -> interrupt_regs + IO_INTR_ACK ) ; writel ( CNTL_STOP_TIMER , timer -> timer1 + IO_CONTROL ) ; return IRQ_HANDLED ; } 