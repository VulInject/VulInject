static gint tb_tc_cmp ( gconstpointer ap , gconstpointer bp , gpointer userdata ) { const struct tb_tc * a = ap ; const struct tb_tc * b = bp ; if ( likely ( a -> size && b -> size ) ) { if ( a -> ptr > b -> ptr ) { return 1 ; } if ( a -> ptr < b -> ptr ) { return - 1 ; } return 0 ; } if ( likely ( a -> size == 0 ) ) { return ptr_cmp_tb_tc ( a -> ptr , b ) ; } return ptr_cmp_tb_tc ( b -> ptr , a ) ; } 