c_parse_error ( , , ) { char * message = NULL ; if ( token == CPP_EOF ) { message = catenate_messages ( gmsgid , " at end of input" ) ; } if ( token == CPP_CHAR || token == CPP_WCHAR ) { unsigned int val = TREE_INT_CST_LOW ( value ) ; const char * const ell = ( token == CPP_CHAR ) ?"" : "L" ; if ( val <= UCHAR_MAX && ISGRAPH ( val ) ) { message = catenate_messages ( gmsgid , " before %s'%c'" ) ; } else { message = catenate_messages ( gmsgid , " before %s'\\x%x'" ) ; } error ( message , ell , val ) ; message = NULL ; } if ( token == CPP_STRING || token == CPP_WSTRING ) { message = catenate_messages ( gmsgid , " before string constant" ) ; } if ( token == CPP_NUMBER ) { message = catenate_messages ( gmsgid , " before numeric constant" ) ; } if ( token == CPP_NAME ) { message = catenate_messages ( gmsgid , " before %qE" ) ; error ( message , value ) ; free ( message ) ; message = NULL ; } if ( token == CPP_PRAGMA ) { message = catenate_messages ( gmsgid , " before %<#pragma%>" ) ; } if ( token == CPP_PRAGMA_EOL ) { message = catenate_messages ( gmsgid , " before end of line" ) ; } if ( token < N_TTYPES ) { message = catenate_messages ( gmsgid , " before %qs token" ) ; error ( message , cpp_type2name ( token ) ) ; free ( message ) ; message = NULL ; } else { error ( gmsgid ) ; } if ( message ) { error ( message ) ; free ( message ) ; } } 