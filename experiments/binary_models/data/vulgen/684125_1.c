void print_http_headers ( http_message_t * hmsg ) { ListNode * node ; http_header_t * header ; if ( hmsg -> is_request ) { printf ( "method = %d, version = %d.%d, url = %.*s\n" , hmsg -> method , hmsg -> major_version , hmsg -> minor_version , ( int ) hmsg -> uri . pathquery . size , hmsg -> uri . pathquery . buff ) ; } else { printf ( "resp status = %d, version = %d.%d, status msg = %.*s\n" , hmsg -> status_code , hmsg -> major_version , hmsg -> minor_version , ( int ) hmsg -> status_msg . length , hmsg -> status_msg . buf ) ; } node = ListHead ( & hmsg -> headers ) ; while ( node != NULL ) { header = ( http_header_t * ) node -> item ; node = ListNext ( & hmsg -> headers , node ) ; } } 