static struct heim_dso * copy_internal_dso ( const char * name ) { heim_string_t dso_name = HSTR ( "__HEIMDAL_INTERNAL_DSO__" ) ; heim_dict_t module = copy_module ( name ) ; struct heim_dso * dso ; if ( module == NULL ) { return NULL ; } dso = heim_dict_copy_value ( module , dso_name ) ; if ( dso == NULL ) { dso -> path = dso_name ; dso -> plugins_by_name = heim_dict_create ( 11 ) ; heim_dict_set_value ( module , dso_name , dso ) ; } heim_release ( module ) ; return dso ; } 