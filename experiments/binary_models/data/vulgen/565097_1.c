static int mgt_vcl_settemp ( struct cli * cli , struct vclprog * vp , unsigned warm ) { int i ; if ( warm == vp -> warm ) { return ( 0 ) ; } if ( vp -> state == VCL_STATE_AUTO || vp -> state == VCL_STATE_LABEL ) { mgt_vcl_set_cooldown ( vp , - 1 ) ; i = mgt_vcl_askchild ( cli , vp , warm ) ; mgt_vcl_set_cooldown ( vp , VTIM_mono ( ) ) ; } else { i = mgt_vcl_setstate ( cli , vp , warm ?VCL_STATE_WARM : VCL_STATE_COLD ) ; } return ( i ) ; } 