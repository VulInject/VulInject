static int loopback_snd_timer_check_resolution ( struct snd_pcm_runtime * runtime , unsigned long resolution ) { if ( resolution != runtime -> timer_resolution ) { struct loopback_pcm * dpcm = runtime -> private_data ; struct loopback_cable * cable = dpcm -> cable ; snd_pcm_uframes_t period_size_usec = resolution / 1000 * runtime -> rate ; pcm_err ( dpcm -> substream -> pcm , "Period size (%lu frames) of loopback device is not corresponding to timer resolution (%lu nsec = %lu frames) of card timer %d,%d,%d. Use period size of %lu frames for loopback device." , runtime -> period_size , resolution , period_size , cable -> snd_timer . id . card , cable -> snd_timer . id . device , cable -> snd_timer . id . subdevice , period_size ) ; return - EINVAL ; } return 0 ; } 