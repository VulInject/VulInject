long double sinpil ( long double x ) { long double y , z , t ; int hx , n , k ; unsigned lx ; hx = LDBL_MOST_SIGNIF_I ( x ) ; lx = LDBL_LEAST_SIGNIF_U ( x ) ; k = ( ( hx & 0x7fff0000 ) >> 16 ) - 0x3fff ; if ( k >= PRECM2 ) { if ( k >= 16384 ) { y = x - x ; } else { if ( k >= PREC ) { y = zero ; } if ( k == PRECM1 ) { y = ( lx & 1 ) == 0 ?zero : - zero ; } else { y = ( lx & 1 ) == 0 ?zero : one ; if ( ( lx & 2 ) != 0 ) { y = - y ; } } } } if ( k < - 2 ) { y = __k_sinl ( pi * fabsl ( x ) , zero ) ; } else { y = 4.0L * fabsl ( x ) ; if ( k < PRECM2 ) { z = y + twoPRECM2 ; n = LDBL_LEAST_SIGNIF_U ( z ) & 7 ; t = z - twoPRECM2 ; k = 0 ; if ( t == y ) { k = 1 ; } if ( t > y ) { n -= 1 ; } else { t = ( y - t ) * quater ; } } else { n = LDBL_LEAST_SIGNIF_U ( y ) & 7 ; k = 1 ; } if ( k ) { if ( ( n & 1 ) != 0 ) { y = sqrth + tiny ; } else { y = ( n & 2 ) == 0 ?zero : one ; } if ( ( n & 4 ) != 0 ) { y = - y ; } } else { if ( ( n & 1 ) != 0 ) { t = quater - t ; } if ( ( ( n + ( n & 1 ) ) & 2 ) == 0 ) { y = __k_sinl ( pi * t , zero ) ; } else { y = __k_cosl ( pi * t , zero ) ; } if ( ( n & 4 ) != 0 ) { y = - y ; } } } return hx >= 0 ?y : - y ; } 