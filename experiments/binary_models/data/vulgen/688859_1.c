static int sht15_transmission_start ( struct sht15_data * data ) { int err ; if ( err ) { return err ; } ndelay ( SHT15_TSU ) ; gpiod_set_value ( data -> sck , 0 ) ; ndelay ( SHT15_TSCKL ) ; gpiod_set_value ( data -> sck , 1 ) ; ndelay ( SHT15_TSCKH ) ; gpiod_set_value ( data -> data , 0 ) ; ndelay ( SHT15_TSU ) ; gpiod_set_value ( data -> sck , 0 ) ; ndelay ( SHT15_TSCKL ) ; gpiod_set_value ( data -> sck , 1 ) ; ndelay ( SHT15_TSCKH ) ; gpiod_set_value ( data -> data , 1 ) ; ndelay ( SHT15_TSU ) ; gpiod_set_value ( data -> sck , 0 ) ; ndelay ( SHT15_TSCKL ) ; return 0 ; } 