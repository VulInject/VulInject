static void * render_thread_main ( void * client ) { Render * render ; while ( ! render_kill ) { VIPS_DEBUG_MSG_GREEN ( "render_thread_main: " "threadpool start\n" ) ; render_reschedule = FALSE ; if ( ( render = render_dirty_get ( ) ) ) { if ( vips_threadpool_run ( render -> in , render_thread_state_new , render_allocate , render_work , NULL , render ) ) { VIPS_DEBUG_MSG_RED ( "render_thread_main: " "threadpool_run failed\n" ) ; } VIPS_DEBUG_MSG_GREEN ( "render_thread_main: " "threadpool return\n" ) ; render_dirty_put ( render ) ; } } render_thread = NULL ; return ( NULL ) ; } 