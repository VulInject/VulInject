static int tda10071_set_tone ( struct dvb_frontend * fe , enum fe_sec_tone_mode fe_sec_tone_mode ) { struct tda10071_dev * dev = fe -> demodulator_priv ; struct i2c_client * client = dev -> client ; struct tda10071_cmd cmd ; int ret ; u8 tone ; if ( ! dev -> warm ) { error } dev_dbg ( & client -> dev , "tone_mode=%d\n" , fe_sec_tone_mode ) ; switch ( fe_sec_tone_mode ) { case SEC_TONE_ON : tone = 1 ; break ; case SEC_TONE_OFF : tone = 0 ; break ; default : dev_dbg ( & client -> dev , "invalid fe_sec_tone_mode\n" ) ; ret = - EINVAL ; error } cmd . args [ 0 ] = CMD_LNB_PCB_CONFIG ; cmd . args [ 1 ] = 0 ; cmd . args [ 2 ] = 0x00 ; cmd . args [ 3 ] = 0x00 ; cmd . args [ 4 ] = tone ; cmd . len = 5 ; ret = tda10071_cmd_execute ( dev , & cmd ) ; if ( ret ) { error } return ret ; error dev_dbg ( & client -> dev , "failed=%d\n" , ret ) ; return ret ; } 