int zd_chip_lock_phy_regs ( struct zd_chip * chip ) { int r ; u32 tmp ; r = zd_ioread32_locked ( chip , & tmp , CR_REG1 ) ; if ( r ) { dev_err ( zd_chip_dev ( chip ) , "error ioread32(CR_REG1): %d\n" , r ) ; return r ; } tmp &= ~ UNLOCK_PHY_REGS ; r = zd_iowrite32_locked ( chip , tmp , CR_REG1 ) ; if ( r ) { dev_err ( zd_chip_dev ( chip ) , "error iowrite32(CR_REG1): %d\n" , r ) ; } return r ; } 