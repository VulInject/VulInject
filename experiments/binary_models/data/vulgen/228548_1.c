static void M_thread_coop_cond_broadcast ( M_thread_cond_t * cond ) { M_thread_coop_t * thread ; M_llist_node_t * node ; if ( cond == NULL ) { return ; } node = M_llist_first ( cond -> waiting_threads ) ; while ( node != NULL ) { thread = M_llist_node_val ( node ) ; thread -> wait_cond = NULL ; thread -> to_sec = 0 ; thread -> to_usec = 0 ; node = M_llist_node_next ( node ) ; } cond -> waiting_threads = NULL ; } 