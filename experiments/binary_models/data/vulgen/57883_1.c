apix_vector_t * apix_intx_get_vector ( int irqno ) { apic_irq_t * irqp ; uint32_t cpuid ; uchar_t vector ; mutex_enter ( & airq_mutex ) ; irqp = apic_irq_table [ irqno & 0xff ] ; if ( IS_IRQ_FREE ( irqp ) || ( irqp -> airq_cpu == IRQ_UNINIT ) ) { return ( NULL ) ; } cpuid = irqp -> airq_cpu ; vector = irqp -> airq_vector ; mutex_exit ( & airq_mutex ) ; return ( xv_vector ( cpuid , vector ) ) ; } 