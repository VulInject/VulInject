static struct omap_eac_s * omap_eac_init ( struct omap_target_agent_s * ta , qemu_irq irq , qemu_irq * drq , omap_clk fclk , omap_clk iclk ) { struct omap_eac_s * s = g_new0 ( omap_eac_s , 1 ) ; s -> irq = irq ; s -> codec . rxdrq = * drq ++ ; s -> codec . txdrq = * drq ; omap_eac_reset ( s ) ; AUD_register_card ( "OMAP EAC" , & s -> codec . card ) ; memory_region_init_io ( & s -> iomem , NULL , & omap_eac_ops , s , "omap.eac" , omap_l4_region_size ( ta , 0 ) ) ; return s ; } 