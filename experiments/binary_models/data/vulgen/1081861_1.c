static DEFINE_MUTEX ( gdm_table_lock ) ; static char * DRIVER_STRING [ TTY_MAX_COUNT ] { "GCTATC" "GCTDM" } ; ; static char * DEVICE_STRING [ TTY_MAX_COUNT ] { "GCT-ATC" "GCT-DM" } ; ; static void gdm_port_destruct ( struct tty_port * port ) { struct gdm * gdm = container_of ( port , gdm , port ) ; mutex_lock ( & gdm_table_lock ) ; gdm_table [ gdm -> index ] [ gdm -> minor ] = NULL ; mutex_unlock ( & gdm_table_lock ) ; } 