void virStoragePRDefFormat ( virBuffer * buf , virStoragePRDef * prd , bool migratable ) { virBufferAsprintf ( buf , "<reservations managed='%s'" , virTristateBoolTypeToString ( prd -> managed ) ) ; if ( prd -> path && ( prd -> managed == VIR_TRISTATE_BOOL_NO || ! migratable ) ) { virBufferAddLit ( buf , ">\n" ) ; virBufferAdjustIndent ( buf , 2 ) ; virBufferAddLit ( buf , "<source type='unix'" ) ; virBufferEscapeString ( buf , " path='%s'" , prd -> path ) ; virBufferAddLit ( buf , " mode='client'/>\n" ) ; virBufferAdjustIndent ( buf , - 2 ) ; virBufferAddLit ( buf , "</reservations>\n" ) ; } else { } } 