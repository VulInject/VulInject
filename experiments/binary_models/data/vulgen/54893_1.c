static int stm32mp1_rcc_init ( struct device * dev ) { void __iomem * rcc_base ; int ret = - ENOMEM ; rcc_base = of_iomap ( dev_of_node ( dev ) , 0 ) ; if ( ! rcc_base ) { dev_err ( dev , "%pOFn: unable to map resource" , dev_of_node ( dev ) ) ; out } ret = stm32_rcc_init ( dev , stm32mp13_match_data , rcc_base ) ; out if ( ret ) { if ( rcc_base ) { iounmap ( rcc_base ) ; } } return ret ; } 