static void cn23xx_disable_vf_interrupt ( struct octeon_device * oct , u8 intr_flag ) { u32 q_no ; if ( intr_flag & OCTEON_OUTPUT_INTR ) { for ( q_no = 0 ; q_no < oct -> num_oqs ; q_no ++ ) { octeon_write_csr64 ( oct , CN23XX_VF_SLI_OQ_PKT_INT_LEVELS ( q_no ) , 0x3fffffffffffff ) ; } } if ( intr_flag & OCTEON_INPUT_INTR ) { for ( q_no = 0 ; q_no < oct -> num_oqs ; q_no ++ ) { octeon_write_csr64 ( oct , CN23XX_VF_SLI_IQ_INSTR_COUNT64 ( q_no ) , ( octeon_read_csr64 ( oct , CN23XX_VF_SLI_IQ_INSTR_COUNT64 ( q_no ) ) & ~ ( CN23XX_INTR_CINT_ENB | CN23XX_PKT_IN_DONE_CNT_MASK ) ) ) ; } } } 