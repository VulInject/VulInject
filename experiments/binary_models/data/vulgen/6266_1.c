ff_post_error ( _ ( "Failed to open temporary output file" ) , _ ( "Failed to open temporary output file" ) ) ; return ( true ) ; pdefs [ di ] . last_cs = pi -> pi . mainmap -> enc ; pdefs [ di ] . pt = pi -> pi . pt ; pdefs [ di ] . pointsize = pi -> pi . pointsize ; if ( pi -> pi . pt == pt_fontsample ) { pi -> pi . sample = LIConvertToPrint ( & ( ( SFTextArea * ) GWidgetGetControl ( pi -> gw , CID_SampleText ) ) -> li , ( pagewidth - 1 * 72 ) * printdpi / 72 , ( pageheight - 1 * 72 ) * printdpi / 72 , printdpi ) ; } DoPrinting ( & pi -> pi , file ) ; free ( file ) ; if ( pi -> pi . pt == pt_fontsample ) { LayoutInfo_Destroy ( pi -> pi . sample ) ; free ( pi -> pi . sample ) ; } GDrawDestroyWindow ( pi -> gw ) ; ( true ) ; 