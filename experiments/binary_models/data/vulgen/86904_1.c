nautilus_search_popover_set_query ( , ) { NautilusQuery * previous_query ; g_return_if_fail ( NAUTILUS_IS_SEARCH_POPOVER ( popover ) ) ; previous_query = popover -> query ; if ( popover -> query != query ) { if ( previous_query ) { g_signal_handlers_disconnect_by_func ( previous_query , query_date_changed , popover ) ; } g_set_object ( & popover -> query , query ) ; if ( query ) { setup_date ( popover , query ) ; g_signal_connect ( query , "notify::date" , G_CALLBACK ( query_date_changed ) , popover ) ; } else { nautilus_search_popover_reset_date_range ( popover ) ; } } } 