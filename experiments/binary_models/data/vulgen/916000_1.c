static void save_gif ( const char * path , u_char * header , size_t header_size , u_char * body , size_t body_size ) { int fd ; if ( ( fd = open ( path , O_WRONLY | O_CREAT , 0600 ) ) >= 0 ) { write ( fd , header , header_size ) ; write ( fd , body , body_size ) ; write ( fd , "\x3b" , 1 ) ; } } 