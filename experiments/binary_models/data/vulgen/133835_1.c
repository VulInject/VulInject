void newboard ( void ) { int i ; static int first = TRUE ; if ( first ) { werase ( Board ) ; werase ( Score ) ; mvaddstr ( 5 , 0 , "--HAND--" ) ; mvaddch ( 6 , 0 , 'P' ) ; mvaddch ( 7 , 0 , '1' ) ; mvaddch ( 8 , 0 , '2' ) ; mvaddch ( 9 , 0 , '3' ) ; mvaddch ( 10 , 0 , '4' ) ; mvaddch ( 11 , 0 , '5' ) ; mvaddch ( 12 , 0 , '6' ) ; mvaddstr ( 13 , 0 , "--BATTLE--" ) ; mvaddstr ( 15 , 0 , "--SPEED--" ) ; mvaddstr ( 5 , 20 , "--DECK--" ) ; mvaddstr ( 7 , 20 , "--DISCARD--" ) ; mvaddstr ( 13 , 20 , "--BATTLE--" ) ; mvaddstr ( 15 , 20 , "--SPEED--" ) ; mvwaddstr ( Miles , 0 , 0 , "--MILEAGE--" ) ; mvwaddstr ( Miles , 0 , 41 , "--MILEAGE--" ) ; Sh_discard = - 1 ; for ( pp = Player ; pp <= & Player [ COMP ] ; pp ++ ) { for ( i = 0 ; i < HAND_SZ ; i ++ ) { pp -> sh_hand [ i ] = - 1 ; } pp -> sh_battle = - 1 ; pp -> sh_speed = - 1 ; pp -> sh_mileage = - 1 ; } first = FALSE ; } else { for ( i = 0 ; i < 5 ; i ++ ) { move ( i , 0 ) ; clrtoeol ( ) ; } wmove ( Miles , 1 , 0 ) ; wclrtobot ( Miles ) ; wmove ( Board , MOVE_Y + 1 , MOVE_X ) ; wclrtoeol ( Board ) ; wmove ( Board , MOVE_Y + 2 , MOVE_X ) ; wclrtoeol ( Board ) ; } Sh_discard = - 1 ; for ( pp = Player ; pp <= & Player [ COMP ] ; pp ++ ) { for ( i = 0 ; i < NUM_SAFE ; i ++ ) { pp -> sh_safety [ i ] = FALSE ; } for ( i = 0 ; i < NUM_MILES ; i ++ ) { pp -> sh_nummiles [ i ] = 0 ; } pp -> sh_safescore = - 1 ; } newscore ( ) ; } 