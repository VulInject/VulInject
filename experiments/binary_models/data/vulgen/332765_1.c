static void cpl_1starg_sec ( elfedit_obj_state_t * obj_state , void * cpldata , int argc , const char * argv [ ] , int num_opt ) { elfedit_section_t * sec ; { NAME , INDEX , TYPE } , op Word ndx ; if ( argc != ( num_opt + 1 ) ) { return ; } op = NAME ; for ( ndx = 0 ; ndx < num_opt ; ndx ++ ) { if ( strcmp ( argv [ ndx ] , MSG_ORIG ( MSG_STR_MINUS_SHNDX ) ) == 0 ) { op = INDEX ; } if ( strcmp ( argv [ ndx ] , MSG_ORIG ( MSG_STR_MINUS_SHTYP ) ) == 0 ) { op = TYPE ; } } switch ( op ) { case NAME : sec = obj_state -> os_secarr ; for ( ndx = 0 ; ndx < obj_state -> os_shnum ; ndx ++ , sec ++ ) { elfedit_cpl_match ( cpldata , sec -> sec_name , 0 ) ; } break ; case INDEX : elfedit_cpl_atoconst ( cpldata , ELFEDIT_CONST_SHN ) ; break ; case TYPE : elfedit_cpl_atoconst ( cpldata , ELFEDIT_CONST_SHT ) ; break ; } } 