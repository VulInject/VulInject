void if_delete ( struct interface * * ifp ) { struct interface * ptr = * ifp ; struct vrf * vrf = ptr -> vrf ; IFNAME_RB_REMOVE ( vrf , ptr ) ; if ( ptr -> ifindex != IFINDEX_INTERNAL ) { IFINDEX_RB_REMOVE ( vrf , ptr ) ; } list_delete ( & ptr -> connected ) ; list_delete ( & ptr -> nbr_connected ) ; if_link_params_free ( ptr ) ; XFREE ( MTYPE_IFDESC , ptr -> desc ) ; XFREE ( MTYPE_IF , ptr ) ; * ifp = NULL ; } 