int __init_or_module do_one_initcall ( initcall_t fn ) { int count = preempt_count ( ) ; int ret ; char msgbuf [ 64 ] ; if ( initcall_debug ) { ret = do_one_initcall_debug ( fn ) ; } else { ret = fn ( ) ; } msgbuf [ 0 ] = 0 ; if ( preempt_count ( ) != count ) { sprintf ( msgbuf , "preemption imbalance " ) ; preempt_count_set ( count ) ; } if ( irqs_disabled ( ) ) { strlcat ( msgbuf , "disabled interrupts " , sizeof ( msgbuf ) ) ; local_irq_enable ( ) ; } WARN ( msgbuf [ 0 ] , "initcall %pF returned with %s\n" , fn , msgbuf ) ; add_latent_entropy ( ) ; return ret ; } 