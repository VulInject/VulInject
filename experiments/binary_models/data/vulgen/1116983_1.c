void fimc_hw_set_input_addr ( struct fimc_dev * dev , struct fimc_addr * addr ) { u32 cfg = readl ( dev -> regs + FIMC_REG_CIREAL_ISIZE ) ; cfg |= FIMC_REG_CIREAL_ISIZE_ADDR_CH_DIS ; writel ( cfg , dev -> regs + FIMC_REG_CIREAL_ISIZE ) ; writel ( addr -> cb , dev -> regs + FIMC_REG_CIICBSA ( 0 ) ) ; writel ( addr -> cr , dev -> regs + FIMC_REG_CIICRSA ( 0 ) ) ; cfg &= ~ FIMC_REG_CIREAL_ISIZE_ADDR_CH_DIS ; writel ( cfg , dev -> regs + FIMC_REG_CIREAL_ISIZE ) ; } 