static ssize_t is_enabled_show ( struct kobject * kobj , struct kobj_attribute * attr , char * buf ) { int instance_id = get_po_instance_id ( kobj ) ; union acpi_object * obj ; ssize_t ret ; obj = get_wmiobj_pointer ( instance_id , DELL_WMI_BIOS_PASSOBJ_ATTRIBUTE_GUID ) ; if ( ! obj ) { return - EIO ; } if ( obj -> package . elements [ IS_PASS_SET ] . type != ACPI_TYPE_INTEGER ) { kfree ( obj ) ; return - EINVAL ; } ret = snprintf ( buf , PAGE_SIZE , "%lld\n" , obj -> package . elements [ IS_PASS_SET ] . integer . value ) ; kfree ( obj ) ; return ret ; } 