progress_persistence_handler_update_notification ( ) { GNotification * notification ; gchar * body ; if ( ! server_has_persistence ( ) ) { return ; } notification = g_notification_new ( _ ( "File Operations" ) ) ; g_notification_set_default_action ( notification , "app.show-file-transfers" ) ; g_notification_add_button ( notification , _ ( "Show Details" ) , "app.show-file-transfers" ) ; body = g_strdup_printf ( ngettext ( "%'d file operation active" , "%'d file operations active" , self -> active_infos ) , self -> active_infos ) ; g_notification_set_body ( notification , body ) ; nautilus_application_send_notification ( self -> app , "progress" , notification ) ; g_object_unref ( notification ) ; } 