static ssize_t ad5624r_write_dac_powerdown ( struct iio_dev * indio_dev , uintptr_t private , const struct iio_chan_spec * chan , const char * buf , size_t len ) { bool pwr_down ; int ret ; struct ad5624r_state * st = iio_priv ( indio_dev ) ; ret = strtobool ( buf , & pwr_down ) ; if ( ret ) { return ret ; } if ( pwr_down ) { st -> pwr_down_mask |= ( 1 << chan -> channel ) ; } else { st -> pwr_down_mask &= ~ ( 1 << chan -> channel ) ; } return ret ?ret : len ; } 