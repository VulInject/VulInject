static char * header_str ( struct mjpeg_header * header , char * str , unsigned int len ) { char * cur = str ; unsigned int left = len ; snprintf ( cur , left , "[MJPEG header]\n" "|- length     = %d\n" "|- precision  = %d\n" "|- width      = %d\n" "|- height     = %d\n" "|- components = %d\n" , header -> length , header -> sample_precision , header -> frame_width , header -> frame_height , header -> nb_of_components ) ; return str ; } 