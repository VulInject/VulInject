void init_iova_domain ( struct iova_domain * iovad , unsigned long granule , unsigned long start_pfn , unsigned long pfn_32bit ) { BUG_ON ( ( granule > PAGE_SIZE ) || ! is_power_of_2 ( granule ) ) ; spin_lock_init ( & iovad -> iova_rbtree_lock ) ; iovad -> rbroot = RB_ROOT ; iovad -> granule = granule ; iovad -> start_pfn = start_pfn ; iovad -> dma_32bit_pfn = pfn_32bit ; init_iova_rcaches ( iovad ) ; } 