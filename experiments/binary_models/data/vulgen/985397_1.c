static void ion_carveout_heap_free ( struct ion_buffer * buffer ) { struct ion_heap * heap = buffer -> heap ; struct sg_table * table = buffer -> sg_table ; struct page * page = sg_page ( table -> sgl ) ; phys_addr_t paddr = PFN_PHYS ( page_to_pfn ( page ) ) ; ion_carveout_free ( heap , paddr , buffer -> size ) ; sg_free_table ( table ) ; kfree ( table ) ; } 