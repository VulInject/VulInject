gimp_tool_compass_constructed ( ) { GimpToolCompass * compass = GIMP_TOOL_COMPASS ( object ) ; GimpToolWidget * widget = GIMP_TOOL_WIDGET ( object ) ; GimpToolCompassPrivate * private = compass -> private ; GimpCanvasGroup * stroke_group ; gint i ; G_OBJECT_CLASS ( parent_class ) -> constructed ( object ) ; stroke_group = gimp_tool_widget_add_stroke_group ( widget ) ; gimp_tool_widget_push_group ( widget , stroke_group ) ; private -> line1 = gimp_tool_widget_add_line ( widget , private -> x [ 0 ] , private -> y [ 0 ] , private -> x [ 1 ] , private -> y [ 1 ] ) ; private -> line2 = gimp_tool_widget_add_line ( widget , private -> x [ 0 ] , private -> y [ 0 ] , private -> x [ 2 ] , private -> y [ 2 ] ) ; private -> arc = gimp_tool_widget_add_handle ( widget , GIMP_HANDLE_CIRCLE , private -> x [ 0 ] , private -> y [ 0 ] , ARC_RADIUS * 2 + 1 , ARC_RADIUS * 2 + 1 , GIMP_HANDLE_ANCHOR_CENTER ) ; private -> arc_line = gimp_tool_widget_add_line ( widget , private -> x [ 0 ] , private -> y [ 0 ] , private -> x [ 0 ] + 10 , private -> y [ 0 ] ) ; gimp_tool_widget_pop_group ( widget ) ; for ( i = 0 ; i < 3 ; i ++ ) { private -> handles [ i ] = gimp_tool_widget_add_handle ( widget , i == 0 ?GIMP_HANDLE_CIRCLE : GIMP_HANDLE_CROSS , private -> x [ i ] , private -> y [ i ] , GIMP_CANVAS_HANDLE_SIZE_CROSS , GIMP_CANVAS_HANDLE_SIZE_CROSS , GIMP_HANDLE_ANCHOR_CENTER ) ; } } 