static void fc_lport_enter_scr ( struct fc_lport * lport ) { struct fc_frame * fp ; FC_LPORT_DBG ( lport , "Entered SCR state from %s state\n" , fc_lport_state ( lport ) ) ; fc_lport_state_enter ( lport , LPORT_ST_SCR ) ; fp = fc_frame_alloc ( lport , sizeof ( fc_els_scr ) ) ; if ( ! fp ) { fc_lport_error ( lport , fp ) ; return ; } if ( ! lport -> tt . elsct_send ( lport , FC_FID_FCTRL , fp , ELS_SCR , fc_lport_scr_resp , lport , 2 * lport -> r_a_tov ) ) { fc_lport_error ( lport , NULL ) ; } } 