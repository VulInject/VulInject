static void test_parse_qapi_name ( void ) { int ret ; ret = parse_qapi_name ( "a" , true ) ; g_assert ( ret == 1 ) ; ret = parse_qapi_name ( "a$" , false ) ; g_assert ( ret == 1 ) ; ret = parse_qapi_name ( "" , false ) ; g_assert ( ret == - 1 ) ; ret = parse_qapi_name ( "1" , false ) ; g_assert ( ret == - 1 ) ; ret = parse_qapi_name ( "A-Za-z0-9_" , true ) ; g_assert ( ret == 10 ) ; ret = parse_qapi_name ( "A-Za-z0-9_$" , false ) ; g_assert ( ret == 10 ) ; ret = parse_qapi_name ( "A-Za-z0-9_$" , true ) ; g_assert ( ret == - 1 ) ; g_assert ( ret == 21 ) ; ret = parse_qapi_name ( "_com.example_" , false ) ; g_assert ( ret == - 1 ) ; ret = parse_qapi_name ( "__com.example" , false ) ; g_assert ( ret == - 1 ) ; ret = parse_qapi_name ( "__com.example_" , false ) ; g_assert ( ret == - 1 ) ; } 