__FBSDID ( "$FreeBSD$" ) ; assertEqualInt ( , ) static void test ( int pristine ) { struct archive * a = archive_write_new ( ) ; int known_option_rv = pristine ?ARCHIVE_FAILED : ARCHIVE_OK ; should ( a , ARCHIVE_OK , NULL , NULL , NULL ) ; should ( a , ARCHIVE_OK , "" , "" , "" ) ; should ( a , ARCHIVE_FAILED , "fubar" , "snafu" , NULL ) ; should ( a , ARCHIVE_FAILED , "fubar" , "snafu" , "betcha" ) ; should ( a , ARCHIVE_FAILED , NULL , "snafu" , NULL ) ; should ( a , ARCHIVE_FAILED , NULL , "snafu" , "betcha" ) ; should ( a , known_option_rv , "iso9660" , "joliet" , NULL ) ; should ( a , known_option_rv , "iso9660" , "joliet" , NULL ) ; should ( a , known_option_rv , NULL , "joliet" , NULL ) ; should ( a , known_option_rv , NULL , "joliet" , NULL ) ; archive_write_free ( a ) ; } 