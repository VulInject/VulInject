int problem_item_get_size ( struct problem_item * item , unsigned long * size ) { if ( item -> size != PROBLEM_ITEM_UNINITIALIZED_SIZE ) { * size = item -> size ; return 0 ; } if ( item -> flags & CD_FLAG_TXT ) { * size = item -> size = strlen ( item -> content ) ; return 0 ; } struct stat statbuf ; statbuf . st_size = 0 ; * size = item -> size = statbuf . st_size ; return 0 ; } 