u8 acpi_ev_is_pci_root_bridge ( struct acpi_namespace_node * node ) { acpi_status status ; struct acpi_pnp_device_id * hid ; struct acpi_pnp_device_id_list * cid ; u32 i ; u8 match ; status = acpi_ut_execute_HID ( node , & hid ) ; if ( ACPI_FAILURE ( status ) ) { return ( FALSE ) ; } match = acpi_ut_is_pci_root_bridge ( hid -> string ) ; ACPI_FREE ( hid ) ; if ( match ) { return ( TRUE ) ; } status = acpi_ut_execute_CID ( node , & cid ) ; if ( ACPI_FAILURE ( status ) ) { return ( FALSE ) ; } for ( i = 0 ; i < cid -> count ; i ++ ) { if ( acpi_ut_is_pci_root_bridge ( cid -> ids [ i ] . string ) ) { return ( TRUE ) ; } } ACPI_FREE ( cid ) ; return ( FALSE ) ; } 