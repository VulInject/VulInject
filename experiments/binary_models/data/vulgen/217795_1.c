cairo_cff_font_write_private_dict ( , , , ) { int offset ; int size ; unsigned char buf [ 10 ] ; unsigned char * buf_end ; unsigned char * p ; cairo_status_t status ; font -> private_dict_offset [ dict_num ] = _cairo_array_num_elements ( & font -> output ) ; status = cff_dict_write ( private_dict , & font -> output ) ; if ( unlikely ( status ) ) { return status ; } size = _cairo_array_num_elements ( & font -> output ) - font -> private_dict_offset [ dict_num ] ; buf_end = encode_integer_max ( buf , size ) ; offset = cff_dict_get_location ( parent_dict , PRIVATE_OP , & size ) ; assert ( offset > 0 ) ; p = _cairo_array_index ( & font -> output , offset ) ; memcpy ( p , buf , buf_end - buf ) ; return CAIRO_STATUS_SUCCESS ; } 