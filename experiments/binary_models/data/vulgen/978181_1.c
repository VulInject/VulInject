static void avc_chroma_hv_4x2_lasx ( const uint8_t * src , uint8_t * dst , ptrdiff_t stride , uint32_t coef_hor0 , uint32_t coef_hor1 , uint32_t coef_ver0 , uint32_t coef_ver1 ) { __m256i src0 , src1 , src2 ; __m256i res_hz , res_vt ; __m256i mask ; __m256i coeff_hz_vec0 = __lasx_xvreplgr2vr_b ( coef_hor0 ) ; __m256i coeff_hz_vec1 = __lasx_xvreplgr2vr_b ( coef_hor1 ) ; __m256i coeff_hz_vec = __lasx_xvilvl_b ( coeff_hz_vec0 , coeff_hz_vec1 ) ; __m256i coeff_vt_vec0 = __lasx_xvreplgr2vr_h ( coef_ver0 ) ; __m256i coeff_vt_vec1 = __lasx_xvreplgr2vr_h ( coef_ver1 ) ; __m256i coeff_vt_vec = __lasx_xvpermi_q ( coeff_vt_vec1 , coeff_vt_vec0 , 0x02 ) ; DUP2_ARG2 ( __lasx_xvld , chroma_mask_arr , 32 , src , 0 , mask , src0 ) ; DUP2_ARG2 ( __lasx_xvldx , src , stride , src , stride_2 , src1 , src2 ) ; DUP2_ARG3 ( __lasx_xvshuf_b , src1 , src0 , mask , src2 , src1 , mask , src0 , src1 ) ; src0 = __lasx_xvpermi_q ( src0 , src1 , 0x02 ) ; res_hz = __lasx_xvdp2_h_bu ( src0 , coeff_hz_vec ) ; res_vt = __lasx_xvmul_h ( res_hz , coeff_vt_vec ) ; res_hz = __lasx_xvpermi_q ( res_hz , res_vt , 0x01 ) ; res_vt = __lasx_xvadd_h ( res_hz , res_vt ) ; res_vt = __lasx_xvssrarni_bu_h ( res_vt , res_vt , 6 ) ; __lasx_xvstelm_w ( res_vt , dst , 0 , 0 ) ; __lasx_xvstelm_w ( res_vt , dst + stride , 0 , 1 ) ; } 