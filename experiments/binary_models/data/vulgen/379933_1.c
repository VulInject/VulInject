char * _elapsed_time ( uint64_t secs , uint64_t usecs ) { uint64_t days , hours , minutes , seconds , subsec ; char * str = NULL ; if ( secs == NO_VAL64 ) { return NULL ; } if ( usecs >= 1E6 ) { secs += usecs / 1E6 ; usecs = usecs % ( int ) 1E6 ; } if ( usecs > 0 ) { subsec = ( usecs / 1000 ) ; } seconds = secs % 60 ; minutes = ( secs / 60 ) % 60 ; hours = ( secs / 3600 ) % 24 ; days = secs / 86400 ; if ( days ) { str = xstrdup_printf ( "%" PRIu64 "-%2.2" PRIu64 ":%2.2" PRIu64 ":%2.2" PRIu64 "" , days , hours , minutes , seconds ) ; } if ( hours ) { str = xstrdup_printf ( "%2.2" PRIu64 ":%2.2" PRIu64 ":%2.2" PRIu64 "" , hours , minutes , seconds ) ; } if ( subsec ) { str = xstrdup_printf ( "%2.2" PRIu64 ":%2.2" PRIu64 ".%3.3" PRIu64 "" , minutes , seconds , subsec ) ; } else { str = xstrdup_printf ( "00:%2.2" PRIu64 ":%2.2" PRIu64 "" , minutes , seconds ) ; } return str ; } 