void __init spider_init_IRQ ( void ) { struct resource r ; struct device_node * dn ; int chip = 0 ; for ( dn = NULL ; ( dn = of_find_node_by_name ( dn , "interrupt-controller" ) ) ; ) { if ( of_device_is_compatible ( dn , "CBEA,platform-spider-pic" ) ) { } if ( of_device_is_compatible ( dn , "sti,platform-spider-pic" ) && ( chip < 2 ) ) { static long hard_coded_pics [ ] { 0x24000008000ul 0x34000008000ul } ; ; r . start = hard_coded_pics [ chip ] ; } else { continue ; } spider_init_one ( dn , chip ++ , r . start ) ; } } 