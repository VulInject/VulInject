void __init iop33x_init_irq ( void ) { int i ; iop_init_cp6_handler ( ) ; intctl0_write ( 0 ) ; intctl1_write ( 0 ) ; intstr0_write ( 0 ) ; intstr1_write ( 0 ) ; intbase_write ( 0 ) ; intsize_write ( 1 ) ; for ( i = 0 ; i < NR_IRQS ; i ++ ) { irq_set_chip_and_handler ( i , ( i < 32 ) ?& iop33x_irqchip1 : & iop33x_irqchip2 , handle_level_irq ) ; irq_clear_status_flags ( i , IRQ_NOREQUEST | IRQ_NOPROBE ) ; } } 