static void pre_post ( void * * state ) { char * rsc = NULL ; char * ty = NULL ; guint ms ; assert_true ( parse_op_key ( "rsc_drbd_7788:1_post_notify_start_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "rsc_drbd_7788:1" ) ; assert_string_equal ( ty , "post_notify_start" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; assert_true ( parse_op_key ( "rabbitmq-bundle-clone_pre_notify_stop_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "rabbitmq-bundle-clone" ) ; assert_string_equal ( ty , "pre_notify_stop" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; assert_true ( parse_op_key ( "post_notify_start_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "post_notify" ) ; assert_string_equal ( ty , "start" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; assert_true ( parse_op_key ( "r_confirmed-post_notify_start_0" , & rsc , & ty , & ms ) ) ; assert_string_equal ( rsc , "r" ) ; assert_string_equal ( ty , "confirmed-post_notify_start" ) ; assert_int_equal ( ms , 0 ) ; free ( rsc ) ; free ( ty ) ; } 