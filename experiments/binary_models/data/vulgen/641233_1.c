opened_xcf_file_files ( ) { Gimp * gimp = GIMP ( data ) ; GimpImage * image ; GFile * file ; gchar * filename ; GimpPDBStatusType status ; filename = g_build_filename ( g_getenv ( "GIMP_TESTING_ABS_TOP_SRCDIR" ) , "app/tests/files/gimp-2-6-file.xcf" , NULL ) ; file = g_file_new_for_path ( filename ) ; g_free ( filename ) ; image = file_open_image ( gimp , gimp_get_user_context ( gimp ) , NULL , file , FALSE , NULL , GIMP_RUN_NONINTERACTIVE , & status , NULL , NULL ) ; g_assert ( gimp_image_get_imported_file ( image ) == NULL ) ; g_assert ( gimp_image_get_exported_file ( image ) == NULL ) ; g_object_unref ( file ) ; } 