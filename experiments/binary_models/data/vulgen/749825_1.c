static void gf_route_register_service_sockets ( GF_ROUTEDmx * routedmx , GF_ROUTEService * s , Bool do_register ) { u32 i ; GF_ROUTESession * rsess ; if ( do_register ) { gf_sk_group_register ( routedmx -> active_sockets , s -> sock ) ; } else { gf_sk_group_unregister ( routedmx -> active_sockets , s -> sock ) ; } i = 0 ; while ( ( rsess = gf_list_enum ( s -> route_sessions , & i ) ) ) { if ( ! rsess -> sock ) { continue ; } if ( do_register ) { gf_sk_group_register ( routedmx -> active_sockets , rsess -> sock ) ; } else { gf_sk_group_unregister ( routedmx -> active_sockets , rsess -> sock ) ; } } } 