static rsRetVal allocOutputCaptureCtx ( outputCaptureCtx_t * * ppCtx ) { outputCaptureCtx_t * pCtx ; DEFiRet ; * ppCtx = pCtx ; pCtx -> szFileName = NULL ; pCtx -> fCreateMode = 0600 ; pCtx -> bIsRunning = 0 ; CHKiConcCtrl ( pthread_mutex_init ( & pCtx -> mutStart , NULL ) ) ; CHKiConcCtrl ( pthread_mutex_init ( & pCtx -> mutWrite , NULL ) ) ; CHKiConcCtrl ( pthread_mutex_init ( & pCtx -> mutTerm , NULL ) ) ; CHKiConcCtrl ( pthread_cond_init ( & pCtx -> condTerm , NULL ) ) ; finalize_it RETiRet ; } 