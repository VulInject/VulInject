int v_screen_end ( SCR * sp ) { VI_PRIVATE * vip ; if ( ( vip = VIP ( sp ) ) == NULL ) { return ( 0 ) ; } free ( vip -> keyw ) ; free ( vip -> rep ) ; free ( vip -> ps ) ; free ( vip ) ; sp -> vi_private = NULL ; return ( 0 ) ; } int v_optchange ( SCR * sp , int offset , char * str , u_long * valp ) { switch ( offset ) { case O_PARAGRAPHS : return ( v_buildps ( sp , str , O_STR ( sp , O_SECTIONS ) ) ) ; case O_SECTIONS : return ( v_buildps ( sp , O_STR ( sp , O_PARAGRAPHS ) , str ) ) ; case O_WINDOW : return ( vs_crel ( sp , * valp ) ) ; } return ( 0 ) ; } 