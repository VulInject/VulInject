int url_rx_list_init ( struct url_softc * sc ) { struct url_cdata * cd ; struct url_chain * c ; int i ; DPRINTF ( ( "%s: %s: enter\n" , sc -> sc_dev . dv_xname , __func__ ) ) ; cd = & sc -> sc_cdata ; for ( i = 0 ; i < URL_RX_LIST_CNT ; i ++ ) { c = & cd -> url_rx_chain [ i ] ; c -> url_sc = sc ; c -> url_idx = i ; if ( url_newbuf ( sc , c , NULL ) == ENOBUFS ) { return ( ENOBUFS ) ; } if ( c -> url_xfer == NULL ) { c -> url_xfer = usbd_alloc_xfer ( sc -> sc_udev ) ; if ( c -> url_xfer == NULL ) { return ( ENOBUFS ) ; } c -> url_buf = usbd_alloc_buffer ( c -> url_xfer , URL_BUFSZ ) ; if ( c -> url_buf == NULL ) { return ( ENOBUFS ) ; } } } return ( 0 ) ; } 