static int dac_volume_put ( struct snd_kcontrol * ctl , struct snd_ctl_elem_value * value ) { struct oxygen * chip = ctl -> private_data ; unsigned int i ; int changed ; changed = 0 ; for ( i = 0 ; i < chip -> model . dac_channels_mixer ; ++ i ) { if ( value -> value . integer . value [ i ] != chip -> dac_volume [ i ] ) { chip -> dac_volume [ i ] = value -> value . integer . value [ i ] ; changed = 1 ; } } if ( changed ) { chip -> model . update_dac_volume ( chip ) ; } mutex_unlock ( & chip -> mutex ) ; return changed ; } 