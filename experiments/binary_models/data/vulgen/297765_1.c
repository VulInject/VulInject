void rtw_hal_dm_watchdog ( struct adapter * Adapter ) { u8 hw_init_completed = false ; struct mlme_priv * pmlmepriv = NULL ; u8 bLinked = false ; hw_init_completed = Adapter -> hw_init_completed ; if ( ! hw_init_completed ) { skip_dm } pmlmepriv = & Adapter -> mlmepriv ; if ( ( check_fwstate ( pmlmepriv , WIFI_AP_STATE ) ) || ( check_fwstate ( pmlmepriv , WIFI_ADHOC_STATE | WIFI_ADHOC_MASTER_STATE ) ) ) { if ( Adapter -> stapriv . asoc_sta_count > 2 ) { bLinked = true ; } } else { if ( check_fwstate ( pmlmepriv , _FW_LINKED ) ) { bLinked = true ; } } Adapter -> HalData -> odmpriv . bLinked = bLinked ; skip_dm return ; } 