{ . data = & ( meson_sclk_ws_inv_data ) { . ph = { . reg_off = ( _reg ) . shift = ( _shift_ph ) . width = ( _width ) } . ws = { . reg_off = ( _reg ) . shift = ( _shift_ws ) . width = ( _width ) } } , . hw . init = & ( clk_init_data ) { . name = "aud_" # _name . ops = & meson_clk_phase_ops . parent_names = ( const char * [ ] ) { # _pname } . num_parents = 1 . flags = ( _iflags ) } , ; } static const struct clk_parent_data mst_mux_parent_data [ ] { { . fw_name = "mst_in0" } { . fw_name = "mst_in1" } { . fw_name = "mst_in2" } { . fw_name = "mst_in3" } { . fw_name = "mst_in4" } { . fw_name = "mst_in5" } { . fw_name = "mst_in6" } { . fw_name = "mst_in7" } } ; ; AUD_MUX ( , , 0x7 , 24 , , , 0 ) AUD_DIV ( , , 0 , 16 , , , ) AUD_GATE ( , , 31 , , ) AUD_MST_MUX ( , , ) AUD_MST_DIV ( , , ) AUD_MST_MUX ( , , 0 ) AUD_MST_DIV ( , , 0 ) AUD_GATE ( , , 31 , , 0 ) AUD_SCLK_DIV ( , , 20 , 10 , 0 , 0 , , ) AUD_GATE ( , , 30 , , ) AUD_TRIPHASE ( , , 1 , 0 , 2 , 4 , , ) AUD_SCLK_DIV ( , , 0 , 10 , 10 , 10 , , 0 ) AUD_TRIPHASE ( , , 1 , 1 , 3 , 5 , , ) static const struct clk_parent_data tdm_sclk_parent_data [ ] { { . name = "aud_mst_a_sclk" . index = - 1 } { . name = "aud_mst_b_sclk" . index = - 1 } { . name = "aud_mst_c_sclk" . index = - 1 } { . name = "aud_mst_d_sclk" . index = - 1 } { . name = "aud_mst_e_sclk" . index = - 1 } { . name = "aud_mst_f_sclk" . index = - 1 } { . fw_name = "slv_sclk0" } { . fw_name = "slv_sclk1" } { . fw_name = "slv_sclk2" } { . fw_name = "slv_sclk3" } { . fw_name = "slv_sclk4" } { . fw_name = "slv_sclk5" } { . fw_name = "slv_sclk6" } { . fw_name = "slv_sclk7" } { . fw_name = "slv_sclk8" } { . fw_name = "slv_sclk9" } } ; ; static const struct clk_parent_data tdm_lrclk_parent_data [ ] { { . name = "aud_mst_a_lrclk" . index = - 1 } { . name = "aud_mst_b_lrclk" . index = - 1 } { . name = "aud_mst_c_lrclk" . index = - 1 } { . name = "aud_mst_d_lrclk" . index = - 1 } { . name = "aud_mst_e_lrclk" . index = - 1 } { . name = "aud_mst_f_lrclk" . index = - 1 } { . fw_name = "slv_lrclk0" } { . fw_name = "slv_lrclk1" } { . fw_name = "slv_lrclk2" } { . fw_name = "slv_lrclk3" } { . fw_name = "slv_lrclk4" } { . fw_name = "slv_lrclk5" } { . fw_name = "slv_lrclk6" } { . fw_name = "slv_lrclk7" } { . fw_name = "slv_lrclk8" } { . fw_name = "slv_lrclk9" } } ; ; AUD_MUX ( , , 0xf , 24 , , , 0 ) AUD_GATE ( , , 31 , , ) AUD_GATE ( , , 30 , , ) AUD_PHASE ( , , 1 , 29 , , ) AUD_SCLK_WS ( , , 1 , 29 , 28 , , ) AUD_MUX ( , , 0xf , 20 , , , 0 ) static const struct clk_parent_data mclk_pad_ctrl_parent_data [ ] { { . name = "aud_mst_a_mclk" . index = - 1 } { . name = "aud_mst_b_mclk" . index = - 1 } { . name = "aud_mst_c_mclk" . index = - 1 } { . name = "aud_mst_d_mclk" . index = - 1 } { . name = "aud_mst_e_mclk" . index = - 1 } { . name = "aud_mst_f_mclk" . index = - 1 } } ; ; static const struct clk_parent_data sclk_pad_ctrl_parent_data [ ] { { . name = "aud_mst_a_sclk" . index = - 1 } { . name = "aud_mst_b_sclk" . index = - 1 } { . name = "aud_mst_c_sclk" . index = - 1 } { . name = "aud_mst_d_sclk" . index = - 1 } { . name = "aud_mst_e_sclk" . index = - 1 } { . name = "aud_mst_f_sclk" . index = - 1 } } ; ; static const struct clk_parent_data lrclk_pad_ctrl_parent_data [ ] { { . name = "aud_mst_a_lrclk" . index = - 1 } { . name = "aud_mst_b_lrclk" . index = - 1 } { . name = "aud_mst_c_lrclk" . index = - 1 } { . name = "aud_mst_d_lrclk" . index = - 1 } { . name = "aud_mst_e_lrclk" . index = - 1 } { . name = "aud_mst_f_lrclk" . index = } } ; ; AUD_MUX ( , , 0x7 , , 0 , , ) static struct clk_regmap ddr_arb = AUD_PCLK_GATE ( ddr_arb , AUDIO_CLK_GATE_EN , 0 ) ; static struct clk_regmap pdm = AUD_PCLK_GATE ( pdm , AUDIO_CLK_GATE_EN , 1 ) ; static struct clk_regmap tdmin_a = AUD_PCLK_GATE ( tdmin_a , AUDIO_CLK_GATE_EN , 2 ) ; static struct clk_regmap tdmin_b = AUD_PCLK_GATE ( tdmin_b , AUDIO_CLK_GATE_EN , 3 ) ; static struct clk_regmap tdmin_c = AUD_PCLK_GATE ( tdmin_c , AUDIO_CLK_GATE_EN , 4 ) ; static struct clk_regmap tdmin_lb = AUD_PCLK_GATE ( tdmin_lb , AUDIO_CLK_GATE_EN , 5 ) ; static struct clk_regmap tdmout_a = AUD_PCLK_GATE ( tdmout_a , AUDIO_CLK_GATE_EN , 6 ) ; static struct clk_regmap tdmout_b = AUD_PCLK_GATE ( tdmout_b , AUDIO_CLK_GATE_EN , 7 ) ; static struct clk_regmap tdmout_c = AUD_PCLK_GATE ( tdmout_c , AUDIO_CLK_GATE_EN , 8 ) ; static struct clk_regmap frddr_a = AUD_PCLK_GATE ( frddr_a , AUDIO_CLK_GATE_EN , 9 ) ; static struct clk_regmap frddr_b = AUD_PCLK_GATE ( frddr_b , AUDIO_CLK_GATE_EN , 10 ) ; static struct clk_regmap frddr_c = AUD_PCLK_GATE ( frddr_c , AUDIO_CLK_GATE_EN , 11 ) ; static struct clk_regmap toddr_a = AUD_PCLK_GATE ( toddr_a , AUDIO_CLK_GATE_EN , 12 ) ; static struct clk_regmap toddr_b = AUD_PCLK_GATE ( toddr_b , AUDIO_CLK_GATE_EN , 13 ) ; static struct clk_regmap toddr_c = AUD_PCLK_GATE ( toddr_c , AUDIO_CLK_GATE_EN , 14 ) ; static struct clk_regmap loopback = AUD_PCLK_GATE ( loopback , AUDIO_CLK_GATE_EN , 15 ) ; static struct clk_regmap spdifin = AUD_PCLK_GATE ( spdifin , AUDIO_CLK_GATE_EN , 16 ) ; static struct clk_regmap spdifout = AUD_PCLK_GATE ( spdifout , AUDIO_CLK_GATE_EN , 17 ) ; static struct clk_regmap resample = AUD_PCLK_GATE ( resample , AUDIO_CLK_GATE_EN , 18 ) ; static struct clk_regmap power_detect = AUD_PCLK_GATE ( power_detect , AUDIO_CLK_GATE_EN , 19 ) ; static struct clk_regmap spdifout_clk_sel = AUD_MST_MCLK_MUX ( spdifout_clk , AUDIO_CLK_SPDIFOUT_CTRL ) ; static struct clk_regmap pdm_dclk_sel = AUD_MST_MCLK_MUX ( pdm_dclk , AUDIO_CLK_PDMIN_CTRL0 ) ; static struct clk_regmap spdifin_clk_sel = AUD_MST_SYS_MUX ( spdifin_clk , AUDIO_CLK_SPDIFIN_CTRL ) ; static struct clk_regmap pdm_sysclk_sel = AUD_MST_SYS_MUX ( pdm_sysclk , AUDIO_CLK_PDMIN_CTRL1 ) ; static struct clk_regmap spdifout_b_clk_sel = AUD_MST_MCLK_MUX ( spdifout_b_clk , AUDIO_CLK_SPDIFOUT_B_CTRL ) ; static struct clk_regmap spdifout_clk_div = AUD_MST_MCLK_DIV ( spdifout_clk , AUDIO_CLK_SPDIFOUT_CTRL ) ; static struct clk_regmap pdm_dclk_div = AUD_MST_MCLK_DIV ( pdm_dclk , AUDIO_CLK_PDMIN_CTRL0 ) ; static struct clk_regmap spdifin_clk_div = AUD_MST_SYS_DIV ( spdifin_clk , AUDIO_CLK_SPDIFIN_CTRL ) ; static struct clk_regmap pdm_sysclk_div = AUD_MST_SYS_DIV ( pdm_sysclk , AUDIO_CLK_PDMIN_CTRL1 ) ; static struct clk_regmap spdifout_b_clk_div = AUD_MST_MCLK_DIV ( spdifout_b_clk , AUDIO_CLK_SPDIFOUT_B_CTRL ) ; static struct clk_regmap spdifout_clk = AUD_MST_MCLK_GATE ( spdifout_clk , AUDIO_CLK_SPDIFOUT_CTRL ) ; static struct clk_regmap spdifin_clk = AUD_MST_MCLK_GATE ( spdifin_clk , AUDIO_CLK_SPDIFIN_CTRL ) ; static struct clk_regmap pdm_dclk = AUD_MST_MCLK_GATE ( pdm_dclk , AUDIO_CLK_PDMIN_CTRL0 ) ; static struct clk_regmap pdm_sysclk = AUD_MST_MCLK_GATE ( pdm_sysclk , AUDIO_CLK_PDMIN_CTRL1 ) ; static struct clk_regmap spdifout_b_clk = AUD_MST_MCLK_GATE ( spdifout_b_clk , AUDIO_CLK_SPDIFOUT_B_CTRL ) ; static struct clk_regmap mst_a_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( a , AUDIO_MST_A_SCLK_CTRL0 ) ; static struct clk_regmap mst_b_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( b , AUDIO_MST_B_SCLK_CTRL0 ) ; static struct clk_regmap mst_c_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( c , AUDIO_MST_C_SCLK_CTRL0 ) ; static struct clk_regmap mst_d_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( d , AUDIO_MST_D_SCLK_CTRL0 ) ; static struct clk_regmap mst_e_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( e , AUDIO_MST_E_SCLK_CTRL0 ) ; static struct clk_regmap mst_f_sclk_pre_en = AUD_MST_SCLK_PRE_EN ( f , AUDIO_MST_F_SCLK_CTRL0 ) ; static struct clk_regmap mst_a_sclk_div = AUD_MST_SCLK_DIV ( a , AUDIO_MST_A_SCLK_CTRL0 ) ; static struct clk_regmap mst_b_sclk_div = AUD_MST_SCLK_DIV ( b , AUDIO_MST_B_SCLK_CTRL0 ) ; static struct clk_regmap mst_c_sclk_div = AUD_MST_SCLK_DIV ( c , AUDIO_MST_C_SCLK_CTRL0 ) ; static struct clk_regmap mst_d_sclk_div = AUD_MST_SCLK_DIV ( d , AUDIO_MST_D_SCLK_CTRL0 ) ; static struct clk_regmap mst_e_sclk_div = AUD_MST_SCLK_DIV ( e , AUDIO_MST_E_SCLK_CTRL0 ) ; static struct clk_regmap mst_f_sclk_div = AUD_MST_SCLK_DIV ( f , AUDIO_MST_F_SCLK_CTRL0 ) ; static struct clk_regmap mst_a_sclk_post_en = AUD_MST_SCLK_POST_EN ( a , AUDIO_MST_A_SCLK_CTRL0 ) ; static struct clk_regmap mst_b_sclk_post_en = AUD_MST_SCLK_POST_EN ( b , AUDIO_MST_B_SCLK_CTRL0 ) ; static struct clk_regmap mst_c_sclk_post_en = AUD_MST_SCLK_POST_EN ( c , AUDIO_MST_C_SCLK_CTRL0 ) ; static struct clk_regmap mst_d_sclk_post_en = AUD_MST_SCLK_POST_EN ( d , AUDIO_MST_D_SCLK_CTRL0 ) ; static struct clk_regmap mst_e_sclk_post_en = AUD_MST_SCLK_POST_EN ( e , AUDIO_MST_E_SCLK_CTRL0 ) ; static struct clk_regmap mst_f_sclk_post_en = AUD_MST_SCLK_POST_EN ( f , AUDIO_MST_F_SCLK_CTRL0 ) ; static struct clk_regmap mst_a_sclk = AUD_MST_SCLK ( a , AUDIO_MST_A_SCLK_CTRL1 ) ; static struct clk_regmap mst_b_sclk = AUD_MST_SCLK ( b , AUDIO_MST_B_SCLK_CTRL1 ) ; static struct clk_regmap mst_c_sclk = AUD_MST_SCLK ( c , AUDIO_MST_C_SCLK_CTRL1 ) ; static struct clk_regmap mst_d_sclk = AUD_MST_SCLK ( d , AUDIO_MST_D_SCLK_CTRL1 ) ; static struct clk_regmap mst_e_sclk = AUD_MST_SCLK ( e , AUDIO_MST_E_SCLK_CTRL1 ) ; static struct clk_regmap mst_f_sclk = AUD_MST_SCLK ( f , AUDIO_MST_F_SCLK_CTRL1 ) ; static struct clk_regmap mst_a_lrclk_div = AUD_MST_LRCLK_DIV ( a , AUDIO_MST_A_SCLK_CTRL0 ) ; static struct clk_regmap mst_b_lrclk_div = AUD_MST_LRCLK_DIV ( b , AUDIO_MST_B_SCLK_CTRL0 ) ; static struct clk_regmap mst_c_lrclk_div = AUD_MST_LRCLK_DIV ( c , AUDIO_MST_C_SCLK_CTRL0 ) ; static struct clk_regmap mst_d_lrclk_div = AUD_MST_LRCLK_DIV ( d , AUDIO_MST_D_SCLK_CTRL0 ) ; static struct clk_regmap mst_e_lrclk_div = AUD_MST_LRCLK_DIV ( e , AUDIO_MST_E_SCLK_CTRL0 ) ; static struct clk_regmap mst_f_lrclk_div = AUD_MST_LRCLK_DIV ( f , AUDIO_MST_F_SCLK_CTRL0 ) ; static struct clk_regmap mst_a_lrclk = AUD_MST_LRCLK ( a , AUDIO_MST_A_SCLK_CTRL1 ) ; static struct clk_regmap mst_b_lrclk = AUD_MST_LRCLK ( b , AUDIO_MST_B_SCLK_CTRL1 ) ; static struct clk_regmap mst_c_lrclk = AUD_MST_LRCLK ( c , AUDIO_MST_C_SCLK_CTRL1 ) ; static struct clk_regmap mst_d_lrclk = AUD_MST_LRCLK ( d , AUDIO_MST_D_SCLK_CTRL1 ) ; static struct clk_regmap mst_e_lrclk = AUD_MST_LRCLK ( e , AUDIO_MST_E_SCLK_CTRL1 ) ; static struct clk_regmap mst_f_lrclk = AUD_MST_LRCLK ( f , AUDIO_MST_F_SCLK_CTRL1 ) ; static struct clk_regmap tdmin_a_sclk_sel = AUD_TDM_SCLK_MUX ( in_a , AUDIO_CLK_TDMIN_A_CTRL ) ; static struct clk_regmap tdmin_b_sclk_sel = AUD_TDM_SCLK_MUX ( in_b , AUDIO_CLK_TDMIN_B_CTRL ) ; static struct clk_regmap tdmin_c_sclk_sel = AUD_TDM_SCLK_MUX ( in_c , AUDIO_CLK_TDMIN_C_CTRL ) ; static struct clk_regmap tdmin_lb_sclk_sel = AUD_TDM_SCLK_MUX ( in_lb , AUDIO_CLK_TDMIN_LB_CTRL ) ; static struct clk_regmap tdmout_a_sclk_sel = AUD_TDM_SCLK_MUX ( out_a , AUDIO_CLK_TDMOUT_A_CTRL ) ; static struct clk_regmap tdmout_b_sclk_sel = AUD_TDM_SCLK_MUX ( out_b , AUDIO_CLK_TDMOUT_B_CTRL ) ; static struct clk_regmap tdmout_c_sclk_sel = AUD_TDM_SCLK_MUX ( out_c , AUDIO_CLK_TDMOUT_C_CTRL ) ; static struct clk_regmap tdmin_a_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( in_a , AUDIO_CLK_TDMIN_A_CTRL ) ; static struct clk_regmap tdmin_b_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( in_b , AUDIO_CLK_TDMIN_B_CTRL ) ; static struct clk_regmap tdmin_c_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( in_c , AUDIO_CLK_TDMIN_C_CTRL ) ; static struct clk_regmap tdmin_lb_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( in_lb , AUDIO_CLK_TDMIN_LB_CTRL ) ; static struct clk_regmap tdmout_a_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( out_a , AUDIO_CLK_TDMOUT_A_CTRL ) ; static struct clk_regmap tdmout_b_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( out_b , AUDIO_CLK_TDMOUT_B_CTRL ) ; static struct clk_regmap tdmout_c_sclk_pre_en = AUD_TDM_SCLK_PRE_EN ( out_c , AUDIO_CLK_TDMOUT_C_CTRL ) ; static struct clk_regmap tdmin_a_sclk_post_en = AUD_TDM_SCLK_POST_EN ( in_a , AUDIO_CLK_TDMIN_A_CTRL ) ; static struct clk_regmap tdmin_b_sclk_post_en = AUD_TDM_SCLK_POST_EN ( in_b , AUDIO_CLK_TDMIN_B_CTRL ) ; static struct clk_regmap tdmin_c_sclk_post_en = AUD_TDM_SCLK_POST_EN ( in_c , AUDIO_CLK_TDMIN_C_CTRL ) ; static struct clk_regmap tdmin_lb_sclk_post_en = AUD_TDM_SCLK_POST_EN ( in_lb , AUDIO_CLK_TDMIN_LB_CTRL ) ; static struct clk_regmap tdmout_a_sclk_post_en = AUD_TDM_SCLK_POST_EN ( out_a , AUDIO_CLK_TDMOUT_A_CTRL ) ; static struct clk_regmap tdmout_b_sclk_post_en = AUD_TDM_SCLK_POST_EN ( out_b , AUDIO_CLK_TDMOUT_B_CTRL ) ; static struct clk_regmap tdmout_c_sclk_post_en = AUD_TDM_SCLK_POST_EN ( out_c , AUDIO_CLK_TDMOUT_C_CTRL ) ; static struct clk_regmap tdmin_a_sclk = AUD_TDM_SCLK ( in_a , AUDIO_CLK_TDMIN_A_CTRL ) ; static struct clk_regmap tdmin_b_sclk = AUD_TDM_SCLK ( in_b , AUDIO_CLK_TDMIN_B_CTRL ) ; static struct clk_regmap tdmin_c_sclk = AUD_TDM_SCLK ( in_c , AUDIO_CLK_TDMIN_C_CTRL ) ; static struct clk_regmap tdmin_lb_sclk = AUD_TDM_SCLK ( in_lb , AUDIO_CLK_TDMIN_LB_CTRL ) ; static struct clk_regmap tdmin_a_lrclk = AUD_TDM_LRLCK ( in_a , AUDIO_CLK_TDMIN_A_CTRL ) ; static struct clk_regmap tdmin_b_lrclk = AUD_TDM_LRLCK ( in_b , AUDIO_CLK_TDMIN_B_CTRL ) ; static struct clk_regmap tdmin_c_lrclk = AUD_TDM_LRLCK ( in_c , AUDIO_CLK_TDMIN_C_CTRL ) ; static struct clk_regmap tdmin_lb_lrclk = AUD_TDM_LRLCK ( in_lb , AUDIO_CLK_TDMIN_LB_CTRL ) ; static struct clk_regmap tdmout_a_lrclk = AUD_TDM_LRLCK ( out_a , AUDIO_CLK_TDMOUT_A_CTRL ) ; static struct clk_regmap tdmout_b_lrclk = AUD_TDM_LRLCK ( out_b , AUDIO_CLK_TDMOUT_B_CTRL ) ; static struct clk_regmap tdmout_c_lrclk = AUD_TDM_LRLCK ( out_c , AUDIO_CLK_TDMOUT_C_CTRL ) ; static struct clk_regmap axg_tdmout_a_sclk = AUD_TDM_SCLK ( out_a , AUDIO_CLK_TDMOUT_A_CTRL ) ; static struct clk_regmap axg_tdmout_b_sclk = AUD_TDM_SCLK ( out_b , AUDIO_CLK_TDMOUT_B_CTRL ) ; static struct clk_regmap axg_tdmout_c_sclk = AUD_TDM_SCLK ( out_c , AUDIO_CLK_TDMOUT_C_CTRL ) ; static struct clk_hw axg_aud_top = { . init = & ( clk_init_data ) { . name = "aud_top" . ops = & ( const clk_ops ) { } . parent_data = & ( const clk_parent_data ) { . fw_name = "pclk" } . num_parents = 1 } } ; 