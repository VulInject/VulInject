int scrun ( struct scsi_softc * , uint , u_char * , int , u_char * , int , volatile int * ) int scfinish ( struct scsi_softc * ) void scabort ( struct scsi_softc * , struct scsidevice * ) int scinit ( struct scsi_softc * hs , uint unit ) { void * reg ; switch ( unit ) { case 0 : reg = ( void * ) SCSI_ADDR ; break ; case 1 : reg = ( void * ) ( SCSI_ADDR + 0x40 ) ; break ; default : return 0 ; } if ( unit != 0 && machtype != LUNA_88K2 ) { return 0 ; } hs -> sc_sd = ( scsidevice * ) reg ; hs -> sc_unit = unit ; hs -> sc_flags = 0 ; hs -> sc_phase = BUS_FREE_PHASE ; hs -> sc_target = SCSI_ID ; hs -> sc_cdb = NULL ; hs -> sc_cdblen = 0 ; hs -> sc_buf = NULL ; hs -> sc_len = 0 ; hs -> sc_stat = 0 ; hs -> sc_msg [ 0 ] = 0 ; screset ( hs ) ; return ( 1 ) ; } 