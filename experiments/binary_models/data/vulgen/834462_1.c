PHP_FUNCTION ( ) { zval * tmp , * z_collection ; php_oci_collection * collection ; sb4 size = 0 ; if ( zend_parse_method_parameters ( ZEND_NUM_ARGS ( ) , getThis ( ) , "O" , & z_collection , oci_coll_class_entry_ptr ) == FAILURE ) { RETURN_THROWS ( ) ; } if ( ( tmp = zend_hash_str_find ( Z_OBJPROP_P ( z_collection ) , "collection" , sizeof ( "collection" ) - 1 ) ) == NULL ) { php_error_docref ( NULL , E_WARNING , "Unable to find collection property" ) ; } PHP_OCI_ZVAL_TO_COLLECTION ( tmp , collection ) ; if ( php_oci_collection_size ( collection , & size ) ) { RETURN_FALSE ; } RETURN_LONG ( size ) ; } 