void set_navigation ( ) { GF_Err e ; char nav ; u32 type = gf_term_get_option ( term , GF_OPT_NAVIGATION_TYPE ) ; e = GF_OK ; if ( ! type ) { fprintf ( stderr , "Content/compositor doesn't allow user-selectable navigation\n" ) ; } if ( type == 1 ) { fprintf ( stderr , "Select Navigation (\'N\'one, \'E\'xamine, \'S\'lide): " ) ; nav = do_coverage ?'N' : gf_getch ( ) ; if ( nav == 'N' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_NONE ) ; } if ( nav == 'E' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_EXAMINE ) ; } if ( nav == 'S' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_SLIDE ) ; } else { fprintf ( stderr , "Unknown selector \'%c\' - only \'N\',\'E\',\'S\' allowed\n" , nav ) ; } } if ( type == 2 ) { fprintf ( stderr , "Select Navigation (\'N\'one, \'W\'alk, \'F\'ly, \'E\'xamine, \'P\'an, \'S\'lide, \'G\'ame, \'V\'R, \'O\'rbit): " ) ; nav = do_coverage ?'N' : gf_getch ( ) ; if ( nav == 'N' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_NONE ) ; } if ( nav == 'W' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_WALK ) ; } if ( nav == 'F' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_FLY ) ; } if ( nav == 'E' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_EXAMINE ) ; } if ( nav == 'P' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_PAN ) ; } if ( nav == 'S' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_SLIDE ) ; } if ( nav == 'G' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_GAME ) ; } if ( nav == 'O' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_ORBIT ) ; } if ( nav == 'V' ) { e = gf_term_set_option ( term , GF_OPT_NAVIGATION , GF_NAVIGATE_VR ) ; } else { fprintf ( stderr , "Unknown selector %c - only \'N\',\'W\',\'F\',\'E\',\'P\',\'S\',\'G\', \'V\', \'O\' allowed\n" , nav ) ; } } } 