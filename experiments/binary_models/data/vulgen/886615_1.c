static void os_get_prop ( fcode_env_t * env , int inherit , device_t * dev ) { fc_phandle_t node ; char * name ; char * prop ; int len ; ASSERT ( dev ) ; pd = dev -> private ; ASSERT ( pd ) ; name = pop_a_string ( env , & len ) ; node = pd -> node ; if ( node == 0 ) { log_message ( MSG_ERROR , "os_get_prop: NULL node: %s\n" , get_path ( env , dev ) ) ; PUSH ( DS , TRUE ) ; } if ( os_get_prop_common ( pd -> common , node , name , inherit , & prop , & len ) ) { PUSH ( DS , TRUE ) ; } else { PUSH ( DS , ( fstack_t ) prop ) ; PUSH ( DS , len ) ; PUSH ( DS , FALSE ) ; } } 