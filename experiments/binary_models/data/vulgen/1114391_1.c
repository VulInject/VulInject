void rtl92ee_dm_dynamic_arfb_select ( struct ieee80211_hw * hw , u8 rate , bool collision_state ) { struct rtl_priv * rtlpriv = rtl_priv ( hw ) ; if ( rate >= DESC92C_RATEMCS8 && rate <= DESC92C_RATEMCS12 ) { if ( collision_state == 1 ) { if ( rate == DESC92C_RATEMCS12 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x0 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x07060501 ) ; } if ( rate == DESC92C_RATEMCS11 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x0 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x07070605 ) ; } if ( rate == DESC92C_RATEMCS10 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x0 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x08080706 ) ; } if ( rate == DESC92C_RATEMCS9 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x0 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x08080707 ) ; } else { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x0 ) ; } } else { if ( rate == DESC92C_RATEMCS12 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x05010000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x09080706 ) ; } if ( rate == DESC92C_RATEMCS11 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x06050000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x09080807 ) ; } if ( rate == DESC92C_RATEMCS10 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x07060000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x0a090908 ) ; } if ( rate == DESC92C_RATEMCS9 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x07070000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x0a090808 ) ; } else { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x08080000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x0b0a0909 ) ; } } } else { if ( collision_state == 1 ) { if ( rate == DESC92C_RATEMCS15 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x00000000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x05040302 ) ; } if ( rate == DESC92C_RATEMCS14 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x00000000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x06050302 ) ; } if ( rate == DESC92C_RATEMCS13 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x00000000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x07060502 ) ; } else { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x00000000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x06050402 ) ; } } else { if ( rate == DESC92C_RATEMCS15 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x03020000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x07060504 ) ; } if ( rate == DESC92C_RATEMCS14 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x03020000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x08070605 ) ; } if ( rate == DESC92C_RATEMCS13 ) { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x05020000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x09080706 ) ; } else { rtl_write_dword ( rtlpriv , REG_DARFRC , 0x04020000 ) ; rtl_write_dword ( rtlpriv , REG_DARFRC + 4 , 0x08070605 ) ; } } } } 