static void intel_bts_dump ( struct intel_bts * bts __maybe_unused , unsigned char * buf , size_t len ) { struct branch * branch ; size_t i , pos = 0 , br_sz = sizeof ( branch ) , sz ; const char * color = PERF_COLOR_BLUE ; color_fprintf ( stdout , color , ". ... Intel BTS data: size %zu bytes\n" , len ) ; while ( len ) { if ( len >= br_sz ) { sz = br_sz ; } else { sz = len ; } printf ( "." ) ; color_fprintf ( stdout , color , "  %08x: " , pos ) ; for ( i = 0 ; i < sz ; i ++ ) { color_fprintf ( stdout , color , " %02x" , buf [ i ] ) ; } for ( ; i < br_sz ; i ++ ) { color_fprintf ( stdout , color , "   " ) ; } else { color_fprintf ( stdout , color , " Bad record!\n" ) ; } pos += sz ; buf += sz ; len -= sz ; } } 