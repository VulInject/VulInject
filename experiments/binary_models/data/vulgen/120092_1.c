void board_gpio_init ( void ) { ccsr_gur_t * gur = ( void * ) ( CFG_SYS_MPC85xx_GUTS_ADDR ) ; par_io_t * par_io = ( par_io_t * ) & ( gur -> qe_par_io ) ; setbits_be32 ( & par_io [ GPIO_GETH_SW_PORT ] . cpdat , GPIO_GETH_SW_DATA ) ; setbits_be32 ( & par_io [ GPIO_SLIC_PORT ] . cpdat , GPIO_SLIC_DATA ) ; ccsr_gpio_t * pgpio = ( void * ) ( CFG_SYS_MPC85xx_GPIO_ADDR ) ; setbits_be32 ( & pgpio -> gpdir , 0x02130000 ) ; setbits_be32 ( & pgpio -> gpdir , 0x00200000 ) ; setbits_be32 ( & pgpio -> gpodr , 0x00200000 ) ; clrbits_be32 ( & pgpio -> gpdat , 0x00200000 ) ; udelay ( 1000 ) ; setbits_be32 ( & pgpio -> gpdat , 0x00200000 ) ; udelay ( 1000 ) ; setbits_be32 ( & pgpio -> gpdir , 0x00080000 ) ; setbits_be32 ( & pgpio -> gpdat , 0x00080000 ) ; setbits_be32 ( & pgpio -> gpdir , 0x00040000 ) ; setbits_be32 ( & pgpio -> gpdat , 0x00040000 ) ; } 