static int prom_config ( oconfig_item_t * ci ) { for ( int i = 0 ; i < ci -> children_num ; i ++ ) { oconfig_item_t * child = ci -> children + i ; if ( strcasecmp ( "Host" , child -> key ) == 0 ) { cf_util_get_string ( child , & httpd_host ) ; ERROR ( "write_prometheus plugin: Option `Host' not supported. Please " "upgrade libmicrohttpd to at least 0.9.0" ) ; return - 1 ; } if ( strcasecmp ( "Port" , child -> key ) == 0 ) { int status = cf_util_get_port_number ( child ) ; } if ( strcasecmp ( "StalenessDelta" , child -> key ) == 0 ) { cf_util_get_cdtime ( child , & staleness_delta ) ; } else { WARNING ( "write_prometheus plugin: Ignoring unknown configuration option " "\"%s\"." , child -> key ) ; } } return 0 ; } 