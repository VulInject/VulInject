ev_is_metadata_supported_for_file ( ) { GFileAttributeInfoList * namespaces ; gint i ; gboolean retval = FALSE ; namespaces = g_file_query_writable_namespaces ( file , NULL , NULL ) ; if ( ! namespaces ) { return retval ; } for ( i = 0 ; i < namespaces -> n_infos ; i ++ ) { if ( strcmp ( namespaces -> infos [ i ] . name , "metadata" ) == 0 ) { retval = TRUE ; break ; } } return retval ; } 