WINDOW * w ; const cchar_t * h ; int n ; { int x , width ; __m_trace ( "whline_set(%p, %p, %d)" , w , h , n ) ; n += w -> _curx ; if ( w -> _maxx < n ) { n = w -> _maxx ; } for ( x = w -> _curx ; x < n ; x += width ) { if ( ( width = __m_cc_replace ( w , w -> _cury , x , h , 0 ) ) == - 1 ) { return __m_return_code ( "whline_set" , ERR ) ; } } WSYNC ( w ) ; return __m_return_code ( "whline_set" , WFLUSH ( w ) ) ; } 