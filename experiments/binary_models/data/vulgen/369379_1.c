static void sharp_ls_disable ( struct omap_dss_device * dssdev ) { struct panel_drv_data * ddata = to_panel_data ( dssdev ) ; struct omap_dss_device * in = ddata -> in ; if ( ! omapdss_device_is_enabled ( dssdev ) ) { return ; } if ( ddata -> ini_gpio ) { gpiod_set_value_cansleep ( ddata -> ini_gpio , 0 ) ; } if ( ddata -> resb_gpio ) { gpiod_set_value_cansleep ( ddata -> resb_gpio , 0 ) ; } msleep ( 100 ) ; in -> ops . dpi -> disable ( in ) ; dssdev -> state = OMAP_DSS_DISPLAY_DISABLED ; } 