void test_submodule_add__url_relative ( void ) { git_submodule * sm ; git_remote * remote ; g_repo = cl_git_sandbox_init ( "testrepo2" ) ; cl_git_pass ( git_remote_rename ( & problems , g_repo , "origin" , "test_remote" ) ) ; cl_assert_equal_i ( 0 , problems . count ) ; git_strarray_dispose ( & problems ) ; cl_git_fail ( git_remote_lookup ( & remote , g_repo , "origin" ) ) ; cl_git_pass ( git_submodule_add_setup ( & sm , g_repo , "../TestGitRepository" , "TestGitRepository" , 1 ) ) ; git_submodule_free ( sm ) ; assert_submodule_url ( "TestGitRepository" , " ) } 