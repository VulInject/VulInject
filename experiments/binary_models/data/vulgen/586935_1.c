static int da9052_configure_leds ( struct da9052 * da9052 ) { int error ; error = da9052_reg_update ( da9052 , DA9052_GPIO_14_15_REG , DA9052_MASK_LOWER_NIBBLE , register_value ) ; if ( error < 0 ) { dev_err ( da9052 -> dev , "Failed to write GPIO 14-15 reg, %d\n" , error ) ; return error ; } error = da9052_reg_update ( da9052 , DA9052_GPIO_14_15_REG , DA9052_MASK_UPPER_NIBBLE , register_value << DA9052_NIBBLE_SHIFT ) ; if ( error < 0 ) { dev_err ( da9052 -> dev , "Failed to write GPIO 14-15 reg, %d\n" , error ) ; } return error ; } 