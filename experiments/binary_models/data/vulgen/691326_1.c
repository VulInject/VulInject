process_restart ( ) { arith_entropy_ptr entropy = ( arith_entropy_ptr ) cinfo -> entropy ; int ci ; jpeg_component_info * compptr ; if ( ! * cinfo -> marker -> read_restart_marker ( cinfo ) ) { MEMZERO ( entropy -> ac_stats [ compptr -> ac_tbl_no ] , 0 ) ; } for ( ci = 0 ; ci < cinfo -> comps_in_scan ; ci ++ ) { compptr = cinfo -> cur_comp_info [ ci ] ; if ( ! cinfo -> progressive_mode || ( cinfo -> Ss == 0 && cinfo -> Ah == 0 ) ) { MEMZERO ( entropy -> dc_stats [ compptr -> dc_tbl_no ] , DC_STAT_BINS ) ; entropy -> last_dc_val [ ci ] = 0 ; entropy -> dc_context [ ci ] = 0 ; } if ( ( ! cinfo -> progressive_mode && cinfo -> lim_Se ) || ( cinfo -> progressive_mode && cinfo -> Ss ) ) { MEMZERO ( entropy -> ac_stats [ compptr -> ac_tbl_no ] , AC_STAT_BINS ) ; } } entropy -> c = 0 ; entropy -> a = 0 ; entropy -> ct = - 16 ; entropy -> restarts_to_go = cinfo -> restart_interval ; } 