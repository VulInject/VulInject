static void usb_msd_send_status ( MSDState * s , USBPacket * p ) { int len ; trace_usb_msd_send_status ( s -> csw . status , le32_to_cpu ( s -> csw . tag ) , p -> iov . size ) ; assert ( s -> csw . sig == cpu_to_le32 ( 0x53425355 ) ) ; len = MIN ( sizeof ( s -> csw ) , p -> iov . size ) ; usb_packet_copy ( p , & s -> csw , len ) ; } 