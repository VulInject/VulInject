struct mlxsw_afa_block * mlxsw_afa_block_create ( struct mlxsw_afa * mlxsw_afa ) { struct mlxsw_afa_block * block ; block = kzalloc ( sizeof ( * block ) , GFP_KERNEL ) ; if ( ! block ) { return NULL ; } block -> afa = mlxsw_afa ; block -> first_set = mlxsw_afa_set_create ( true ) ; if ( ! block -> first_set ) { err_first_set_create } block -> cur_set = block -> first_set ; return block ; err_first_set_create kfree ( block ) ; return NULL ; } 