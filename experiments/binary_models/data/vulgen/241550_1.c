static inline void dct_get ( ASV1Context * a , const AVFrame * frame , int mb_x , int mb_y ) { int linesize = frame -> linesize [ 0 ] ; int i ; uint8_t * ptr_y = frame -> data [ 0 ] + ( mb_y * 16 * linesize ) + mb_x * 16 ; uint8_t * ptr_cb = frame -> data [ 1 ] + ( mb_y * 8 * frame -> linesize [ 1 ] ) + mb_x * 8 ; uint8_t * ptr_cr = frame -> data [ 2 ] + ( mb_y * 8 * frame -> linesize [ 2 ] ) + mb_x * 8 ; a -> pdsp . get_pixels ( block [ 0 ] , ptr_y , linesize ) ; a -> pdsp . get_pixels ( block [ 1 ] , ptr_y + 8 , linesize ) ; a -> pdsp . get_pixels ( block [ 2 ] , ptr_y + 8 * linesize , linesize ) ; a -> pdsp . get_pixels ( block [ 3 ] , ptr_y + 8 * linesize + 8 , linesize ) ; for ( i = 0 ; i < 4 ; i ++ ) { a -> fdsp . fdct ( block [ i ] ) ; } if ( ! ( a -> avctx -> flags & AV_CODEC_FLAG_GRAY ) ) { a -> pdsp . get_pixels ( block [ 4 ] , ptr_cb , frame -> linesize [ 1 ] ) ; a -> pdsp . get_pixels ( block [ 5 ] , ptr_cr , frame -> linesize [ 2 ] ) ; for ( i = 4 ; i < 6 ; i ++ ) { a -> fdsp . fdct ( block [ i ] ) ; } } } 