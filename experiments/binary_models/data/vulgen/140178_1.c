{ DYNMEM_PROTOCOL_VERSION_1 = DYNMEM_MAKE_VERSION ( 0 , 3 ) , DYNMEM_PROTOCOL_VERSION_2 = DYNMEM_MAKE_VERSION ( 1 , 0 ) , DYNMEM_PROTOCOL_VERSION_3 = DYNMEM_MAKE_VERSION ( 2 , 0 ) , DYNMEM_PROTOCOL_VERSION_WIN7 = DYNMEM_PROTOCOL_VERSION_1 , DYNMEM_PROTOCOL_VERSION_WIN8 = DYNMEM_PROTOCOL_VERSION_2 , DYNMEM_PROTOCOL_VERSION_WIN10 = DYNMEM_PROTOCOL_VERSION_3 , DYNMEM_PROTOCOL_VERSION_CURRENT = DYNMEM_PROTOCOL_VERSION_WIN10 } dm_message_type { DM_ERROR = 0 , DM_VERSION_REQUEST = 1 , DM_VERSION_RESPONSE = 2 , DM_CAPABILITIES_REPORT = 3 , DM_CAPABILITIES_RESPONSE = 4 , DM_STATUS_REPORT = 5 , DM_BALLOON_REQUEST = 6 , DM_BALLOON_RESPONSE = 7 , DM_UNBALLOON_REQUEST = 8 , DM_UNBALLOON_RESPONSE = 9 , DM_MEM_HOT_ADD_REQUEST = 10 , DM_MEM_HOT_ADD_RESPONSE = 11 , DM_VERSION_03_MAX = 11 , DM_INFO_MESSAGE = 12 , DM_VERSION_1_MAX = 12 } dm_version { { __u16 minor_version ; __u16 major_version ; } __u32 version ; } , __packed dm_caps { { __u64 balloon 1 ; __u64 hot_add 1 ; __u64 hot_add_alignment 4 ; __u64 reservedz 58 ; } , cap_bits __u64 caps ; } , __packed dm_mem_page_range { { __u64 start_page 40 ; __u64 page_cnt 24 ; } , finfo __u64 page_range ; } , __packed dm_header { __u16 type ; __u16 size ; __u32 trans_id ; } , __packed dm_message { struct dm_header hdr ; __u8 data [ ] ; } , __packed dm_version_request { struct dm_header hdr ; union dm_version version ; __u32 is_last_attempt 1 ; __u32 reservedz 31 ; } , __packed dm_version_response { struct dm_header hdr ; __u64 is_accepted 1 ; __u64 reservedz 63 ; } , __packed dm_capabilities { struct dm_header hdr ; union dm_caps caps ; __u64 min_page_cnt ; __u64 max_page_number ; } , __packed dm_capabilities_resp_msg { struct dm_header hdr ; __u64 is_accepted 1 ; __u64 reservedz 63 ; } , __packed dm_status { struct dm_header hdr ; __u64 num_avail ; __u64 num_committed ; __u64 page_file_size ; __u64 zero_free ; __u32 page_file_writes ; __u32 io_diff ; } , __packed dm_balloon { struct dm_header hdr ; __u32 num_pages ; __u32 reservedz ; } , __packed dm_balloon_response { struct dm_header hdr ; __u32 reservedz ; __u32 more_pages 1 ; __u32 range_count 31 ; union dm_mem_page_range range_array [ ] ; } , __packed dm_unballoon_request { struct dm_header hdr ; __u32 more_pages 1 ; __u32 reservedz 31 ; __u32 range_count ; union dm_mem_page_range range_array [ ] ; } , __packed dm_unballoon_response { struct dm_header hdr ; } , __packed dm_hot_add { struct dm_header hdr ; int range ; } , __packed 