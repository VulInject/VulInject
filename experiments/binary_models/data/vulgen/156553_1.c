static int __init topology_init ( void ) { int i ; for_each_possible_cpu ( ) { struct cpu * cpu = & per_cpu ( cpu_data . cpu , i ) ; register_cpu ( cpu , i ) ; } return 0 ; } 