gimp_color_notebook_init ( ) { GimpColorNotebookPrivate * private = GET_PRIVATE ( notebook ) ; GType * selector_types ; guint n_selector_types ; guint i ; notebook -> priv = gimp_color_notebook_get_instance_private ( notebook ) ; private = notebook -> priv ; private -> notebook = gtk_notebook_new ( ) ; gtk_notebook_popup_enable ( GTK_NOTEBOOK ( private -> notebook ) ) ; gtk_box_pack_start ( GTK_BOX ( notebook ) , private -> notebook , TRUE , TRUE , 0 ) ; gtk_widget_show ( private -> notebook ) ; g_signal_connect ( private -> notebook , "switch-page" , G_CALLBACK ( gimp_color_notebook_switch_page ) , notebook ) ; g_signal_connect ( private -> notebook , "remove" , G_CALLBACK ( gimp_color_notebook_remove_selector ) , notebook ) ; selector_types = g_type_children ( GIMP_TYPE_COLOR_SELECTOR , & n_selector_types ) ; if ( n_selector_types == 2 ) { gtk_notebook_set_show_tabs ( GTK_NOTEBOOK ( private -> notebook ) , FALSE ) ; gtk_notebook_set_show_border ( GTK_NOTEBOOK ( private -> notebook ) , FALSE ) ; } for ( i = 0 ; i < n_selector_types ; i ++ ) { if ( g_type_is_a ( selector_types [ i ] , GIMP_TYPE_COLOR_NOTEBOOK ) ) { continue ; } if ( g_type_is_a ( selector_types [ i ] , GIMP_TYPE_COLOR_SCALES ) ) { continue ; } gimp_color_notebook_add_page ( notebook , selector_types [ i ] ) ; } } 