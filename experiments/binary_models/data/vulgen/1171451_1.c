static void dim2_configure_cat ( u8 cat_base , u8 ch_addr , u8 ch_type , bool read_not_write ) { bool isoc_fce = ch_type == CAT_CT_VAL_ISOC ; u16 const cat = ( read_not_write << CAT_RNW_BIT ) | ( ch_type << CAT_CT_SHIFT ) | ( ch_addr << CAT_CL_SHIFT ) | ( isoc_fce << CAT_FCE_BIT ) | ( sync_mfe << CAT_MFE_BIT ) | ( false << CAT_MT_BIT ) | ( true << CAT_CE_BIT ) ; u8 const ctr_addr = cat_base + ch_addr / 8 ; u8 const idx = ( ch_addr % 8 ) / 2 ; u8 const shift = ( ch_addr % 2 ) * 16 ; u32 mask [ 4 ] { 0 0 0 0 } ; ; u32 value [ 4 ] { 0 0 0 0 } ; ; mask [ idx ] = ( u32 ) 0xFFFF << shift ; value [ idx ] = cat << shift ; dim2_write_ctr_mask ( ctr_addr , mask , value ) ; } 