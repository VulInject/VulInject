wavlike_ima_init ( , , ) { int error ; if ( psf -> codec_data != NULL ) { psf_log_printf ( psf , "*** psf->codec_data is not NULL.\n" ) ; return SFE_INTERNAL ; } if ( psf -> file . mode == SFM_RDWR ) { return SFE_BAD_MODE_RW ; } if ( psf -> file . mode == SFM_READ ) { if ( ( error = ima_reader_init ( psf , blockalign , samplesperblock ) ) ) { return error ; } } psf -> codec_close = ima_close ; psf -> seek = wavlike_ima_seek ; return 0 ; } 