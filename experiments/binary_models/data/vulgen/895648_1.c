pv_add_constant ( , ) { struct prologue_value pv_k ; pv_set_to_constant ( & pv_k , k ) ; pv_add ( v , v , & pv_k ) ; } static void pv_subtract ( struct prologue_value * diff , struct prologue_value * a , struct prologue_value * b ) { if ( b -> kind == pv_constant && ( a -> kind == pv_register || a -> kind == pv_constant ) ) { diff -> kind = a -> kind ; diff -> reg = a -> reg ; diff -> k = a -> k - b -> k ; } if ( a -> kind == pv_register && b -> kind == pv_register && a -> reg == b -> reg ) { diff -> kind = pv_constant ; diff -> k = a -> k - b -> k ; } else { diff -> kind = pv_unknown ; } } 