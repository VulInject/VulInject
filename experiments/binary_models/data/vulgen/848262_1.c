static DEFINE_PER_CPU ( scomp_scratch , scomp_scratch ) = { . lock = __SPIN_LOCK_UNLOCKED ( scomp_scratch . lock ) } ; static const struct crypto_type crypto_scomp_type ; static int scomp_scratch_users ; static DEFINE_MUTEX ( scomp_lock ) ; static int crypto_scomp_report ( struct sk_buff * skb , struct crypto_alg * alg ) { struct crypto_report_comp rscomp ; strscpy ( rscomp . type , "scomp" , sizeof ( rscomp . type ) ) ; return nla_put ( skb , CRYPTOCFGA_REPORT_COMPRESS , sizeof ( rscomp ) , & rscomp ) ; } 