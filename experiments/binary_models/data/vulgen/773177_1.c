char * * explode ( char * str , char * delimiter ) { static char * ret [ EL_AR_MAX + 1 ] ; static char buf [ 1024 ] ; char * p , * name ; int cnt = 0 ; strlcpy ( buf , str , sizeof ( buf ) ) ; for ( name = strtoken ( & p , buf , delimiter ) ; name ; name = strtoken ( & p , NULL , delimiter ) ) { ret [ cnt ++ ] = name ; if ( cnt == EL_AR_MAX ) { break ; } } ret [ cnt ] = NULL ; return ret ; } 