static void inotify_fdinfo ( struct seq_file * m , struct fsnotify_mark * mark ) { struct inotify_inode_mark * inode_mark ; struct inode * inode ; inode_mark = container_of ( mark , inotify_inode_mark , fsn_mark ) ; inode = igrab ( mark -> connector -> inode ) ; if ( inode ) { u32 mask = mark -> mask & IN_ALL_EVENTS ; seq_printf ( m , "inotify wd:%x ino:%lx sdev:%x mask:%x ignored_mask:%x " , inode_mark -> wd , inode -> i_ino , inode -> i_sb -> s_dev , mask , mark -> ignored_mask ) ; show_mark_fhandle ( m , inode ) ; seq_putc ( m , '\n' ) ; iput ( inode ) ; } } 