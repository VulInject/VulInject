static int rtllib_parse_qos_info_param_IE ( struct rtllib_device * ieee , struct rtllib_info_element * info_element , struct rtllib_network * network ) { int rc = 0 ; struct rtllib_qos_information_element qos_info_element ; rc = rtllib_read_qos_info_element ( & qos_info_element , info_element ) ; if ( rc == 0 ) { network -> qos_data . param_count = qos_info_element . ac_info & 0x0F ; network -> flags |= NETWORK_HAS_QOS_INFORMATION ; } else { struct rtllib_qos_parameter_info param_element ; rc = rtllib_read_qos_param_element ( & param_element , info_element ) ; if ( rc == 0 ) { network -> flags |= NETWORK_HAS_QOS_PARAMETERS ; network -> qos_data . param_count = param_element . info_element . ac_info & 0x0F ; } } if ( rc == 0 ) { netdev_dbg ( ieee -> dev , "QoS is supported\n" ) ; network -> qos_data . supported = 1 ; } return rc ; } 