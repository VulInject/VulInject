FT_CALLBACK_DEF ( ) cff_cmap_encoding_init ( , ) { TT_Face face = ( TT_Face ) FT_CMAP_FACE ( cmap ) ; CFF_Font cff = ( CFF_Font ) face -> extra . data ; CFF_Encoding encoding = & cff -> encoding ; FT_UNUSED ( pointer ) ; cmap -> gids = encoding -> codes ; return 0 ; } FT_CALLBACK_DEF ( ) cff_cmap_encoding_done ( ) { cmap -> gids = NULL ; } FT_CALLBACK_DEF ( ) cff_cmap_encoding_char_index ( , ) { FT_UInt result = 0 ; if ( char_code < 256 ) { result = cmap -> gids [ char_code ] ; } return result ; } FT_CALLBACK_DEF ( ) cff_cmap_encoding_char_next ( , ) { FT_UInt result = 0 ; FT_UInt32 char_code = * pchar_code ; * pchar_code = 0 ; if ( char_code < 255 ) { FT_UInt code = ( FT_UInt ) ( char_code + 1 ) ; for ( ; ; ) { if ( code >= 256 ) { break ; } result = cmap -> gids [ code ] ; code ++ ; } } return result ; } FT_DEFINE_CMAP_CLASS ( , , , , , , , ) 