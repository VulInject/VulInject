void showpools_live ( fd , role , plstp , poolname , opts ) int fd , role ; ip_pool_stat_t * plstp ; char * poolname ; int opts ; { ipflookupiter_t iter ; ip_pool_t pool ; ipfobj_t obj ; obj . ipfo_rev = IPFILTER_VERSION ; obj . ipfo_type = IPFOBJ_LOOKUPITER ; obj . ipfo_size = sizeof ( iter ) ; obj . ipfo_ptr = & iter ; iter . ili_type = IPLT_POOL ; iter . ili_otype = IPFLOOKUPITER_LIST ; iter . ili_ival = IPFGENITER_LOOKUP ; iter . ili_data = & pool ; iter . ili_unit = role ; * iter . ili_name = '\0' ; while ( plstp -> ipls_list [ role ] != NULL ) { ( void ) printpool_live ( & pool , fd , poolname , opts ) ; plstp -> ipls_list [ role ] = pool . ipo_next ; } } 