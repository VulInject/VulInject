lbitset_prune ( , ) { if ( elt -> prev ) { LBITSET_TAIL ( bset ) = elt -> prev ; bset -> b . cdata = elt -> prev -> words ; bset -> b . cindex = elt -> prev -> index ; elt -> prev -> next = 0 ; } else { LBITSET_HEAD ( bset ) = 0 ; LBITSET_TAIL ( bset ) = 0 ; bset -> b . cdata = 0 ; bset -> b . csize = 0 ; } lbitset_elt * next ; for ( ; elt ; elt = next ) { next = elt -> next ; lbitset_elt_free ( elt ) ; } } 