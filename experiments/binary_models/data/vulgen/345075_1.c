static int scmi_clock_protocol_attributes_get ( const struct scmi_protocol_handle * ph , struct clock_info * ci ) { int ret ; struct scmi_xfer * t ; struct scmi_msg_resp_clock_protocol_attributes * attr ; if ( ret ) { return ret ; } attr = t -> rx . buf ; ret = ph -> xops -> do_xfer ( ph , t ) ; if ( ! ret ) { ci -> num_clocks = le16_to_cpu ( attr -> num_clocks ) ; ci -> max_async_req = attr -> max_async_req ; } ph -> xops -> xfer_put ( ph , t ) ; return ret ; } 