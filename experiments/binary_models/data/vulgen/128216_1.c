static void openh264_uninit ( H264_CONTEXT * h264 ) { UINT32 x ; H264_CONTEXT_OPENH264 * sysContexts ; WINPR_ASSERT ( h264 ) ; sysContexts = ( H264_CONTEXT_OPENH264 * ) h264 -> pSystemData ; if ( sysContexts ) { for ( x = 0 ; x < h264 -> numSystemData ; x ++ ) { H264_CONTEXT_OPENH264 * sys = & sysContexts [ x ] ; if ( sys -> pDecoder ) { ( * sys -> pDecoder ) -> Uninitialize ( sys -> pDecoder ) ; sysContexts -> WelsDestroyDecoder ( sys -> pDecoder ) ; sys -> pDecoder = NULL ; } if ( sys -> pEncoder ) { ( * sys -> pEncoder ) -> Uninitialize ( sys -> pEncoder ) ; sysContexts -> WelsDestroySVCEncoder ( sys -> pEncoder ) ; sys -> pEncoder = NULL ; } } if ( sysContexts -> lib ) { FreeLibrary ( sysContexts -> lib ) ; } h264 -> pSystemData = NULL ; } } 