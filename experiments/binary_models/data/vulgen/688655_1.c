cmsFormatter _cmsGetStockOutputFormatter ( cmsUInt32Number dwInput , cmsUInt32Number dwFlags ) { cmsUInt32Number i ; cmsFormatter fr ; dwInput &= ~ OPTIMIZED_SH ( 1 ) ; switch ( dwFlags ) { case CMS_PACK_FLAGS_16BITS : { for ( i = 0 ; i < sizeof ( OutputFormatters16 ) / sizeof ( cmsFormatters16 ) ; i ++ ) { cmsFormatters16 * f = OutputFormatters16 + i ; if ( ( dwInput & ~ f -> Mask ) == f -> Type ) { fr . Fmt16 = f -> Frm ; return fr ; } } } break ; case CMS_PACK_FLAGS_FLOAT : { for ( i = 0 ; i < sizeof ( OutputFormattersFloat ) / sizeof ( cmsFormattersFloat ) ; i ++ ) { cmsFormattersFloat * f = OutputFormattersFloat + i ; if ( ( dwInput & ~ f -> Mask ) == f -> Type ) { return fr ; } } } break ; default : } fr . Fmt16 = NULL ; return fr ; } 