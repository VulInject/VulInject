may_propagate_copy ( , ) { tree type_d = TREE_TYPE ( dest ) ; tree type_o = TREE_TYPE ( orig ) ; if ( TREE_CODE ( dest ) == SSA_NAME && TREE_CODE ( orig ) == SSA_NAME && POINTER_TYPE_P ( type_d ) && POINTER_TYPE_P ( type_o ) ) { tree mt_dest = var_ann ( SSA_NAME_VAR ( dest ) ) -> symbol_mem_tag ; tree mt_orig = var_ann ( SSA_NAME_VAR ( orig ) ) -> symbol_mem_tag ; if ( mt_dest && mt_orig && mt_dest != mt_orig ) { return false ; } if ( ! lang_hooks . types_compatible_p ( type_d , type_o ) ) { return false ; } if ( get_alias_set ( TREE_TYPE ( type_d ) ) != get_alias_set ( TREE_TYPE ( type_o ) ) ) { return false ; } if ( SSA_NAME_PTR_INFO ( orig ) && SSA_NAME_PTR_INFO ( dest ) ) { struct ptr_info_def * orig_ptr_info = SSA_NAME_PTR_INFO ( orig ) ; struct ptr_info_def * dest_ptr_info = SSA_NAME_PTR_INFO ( dest ) ; if ( orig_ptr_info -> name_mem_tag && dest_ptr_info -> name_mem_tag && orig_ptr_info -> pt_vars && dest_ptr_info -> pt_vars && ! bitmap_intersect_p ( dest_ptr_info -> pt_vars , orig_ptr_info -> pt_vars ) ) { return false ; } } } if ( TREE_CODE ( dest ) == SSA_NAME && ! is_gimple_reg ( dest ) ) { if ( TREE_CODE ( orig ) == SSA_NAME && ! is_gimple_reg ( orig ) ) { return true ; } return false ; } if ( TREE_CODE ( orig ) == SSA_NAME && SSA_NAME_OCCURS_IN_ABNORMAL_PHI ( orig ) ) { return false ; } if ( TREE_CODE ( dest ) == SSA_NAME && SSA_NAME_OCCURS_IN_ABNORMAL_PHI ( dest ) ) { return false ; } return true ; } 