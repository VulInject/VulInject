static int pvr2_s_ext_ctrls ( struct file * file , void * priv , struct v4l2_ext_controls * ctls ) { struct pvr2_v4l2_fh * fh = file -> private_data ; struct pvr2_hdw * hdw = fh -> channel . mc_head -> hdw ; struct v4l2_ext_control * ctrl ; unsigned int idx ; int ret ; ret = 0 ; for ( idx = 0 ; idx < ctls -> count ; idx ++ ) { ctrl = ctls -> controls + idx ; if ( ret ) { ctls -> error_idx = idx ; commit } } commit pvr2_hdw_commit_ctl ( hdw ) ; return ret ; } 