db_breakpoint_t db_set_temp_breakpoint ( vaddr_t addr ) { db_breakpoint_t bkpt ; if ( ! DB_VALID_BREAKPOINT ( addr ) ) { db_printf ( "Not a valid address for a breakpoint.\n" ) ; return ( 0 ) ; } bkpt = db_breakpoint_alloc ( ) ; if ( bkpt == 0 ) { db_printf ( "Too many breakpoints.\n" ) ; return ( 0 ) ; } bkpt -> address = addr ; bkpt -> flags = BKPT_TEMP ; bkpt -> init_count = 1 ; bkpt -> count = 1 ; db_put_value ( bkpt -> address , BKPT_SIZE , BKPT_SET ( bkpt -> bkpt_inst ) ) ; return bkpt ; } 