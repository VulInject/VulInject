int msFlatGeobufLayerInitItemInfo ( layerObj * layer ) { if ( ! layer -> layerinfo ) { msSetError ( MS_FGBERR , "FlatGeobuf layer has not been opened." , "msFlatGeobufLayerInitItemInfo()" ) ; return MS_FAILURE ; } flatgeobuf_ctx * ctx ; ctx = layer -> layerinfo ; if ( ! ctx ) { return MS_FAILURE ; } for ( int j = 0 ; j < ctx -> columns_len ; j ++ ) { ctx -> columns [ j ] . itemindex = - 1 ; for ( int i = 0 ; i < layer -> numitems ; i ++ ) { if ( strcasecmp ( layer -> items [ i ] , ctx -> columns [ j ] . name ) == 0 ) { ctx -> columns [ j ] . itemindex = i ; break ; } } } return MS_SUCCESS ; } 