void eigrp_if_rmap_update ( struct if_rmap * if_rmap ) { struct interface * ifp ; struct eigrp_interface * ei , * ei2 ; struct listnode * node , * nnode ; struct route_map * rmap ; struct eigrp * e ; ifp = if_lookup_by_name ( if_rmap -> ifname ) ; ei = NULL ; e = eigrp_lookup ( ) ; for ( ALL_LIST_ELEMENTS ( e -> eiflist , node , nnode , ei2 ) ; ) { if ( strcmp ( ei2 -> ifp -> name , ifp -> name ) == 0 ) { ei = ei2 ; break ; } } if ( if_rmap -> routemap [ IF_RMAP_IN ] ) { rmap = route_map_lookup_by_name ( if_rmap -> routemap [ IF_RMAP_IN ] ) ; if ( rmap ) { ei -> routemap [ IF_RMAP_IN ] = rmap ; } else { ei -> routemap [ IF_RMAP_IN ] = NULL ; } } else { ei -> routemap [ EIGRP_FILTER_IN ] = NULL ; } if ( if_rmap -> routemap [ IF_RMAP_OUT ] ) { rmap = route_map_lookup_by_name ( if_rmap -> routemap [ IF_RMAP_OUT ] ) ; if ( rmap ) { ei -> routemap [ IF_RMAP_OUT ] = rmap ; } else { ei -> routemap [ IF_RMAP_OUT ] = NULL ; } } else { ei -> routemap [ EIGRP_FILTER_OUT ] = NULL ; } } 