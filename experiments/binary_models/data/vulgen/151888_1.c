int has_zone ( zonetbl_t * tbl , zoneid_t id ) { long i ; if ( tbl -> z_nent ) { for ( i = 0 ; i < tbl -> z_nent ; i ++ ) { if ( tbl -> z_list [ i ] . z_id == id ) { return ( 1 ) ; } } return ( 0 ) ; } return ( 1 ) ; } void convert_zone ( zonetbl_t * tbl ) { long i ; zoneid_t id ; for ( i = 0 ; i < tbl -> z_nent ; i ++ ) { name = tbl -> z_list [ i ] . z_name ; if ( name != NULL ) { if ( ( id = getzoneidbyname ( name ) ) != - 1 ) { tbl -> z_list [ i ] . z_id = id ; } } } } 