static void test_dealloc_partial ( void ) { static const char text [ ] "don't leak me" ; ; UserDefTwo * ud2 = NULL ; Error * err = NULL ; { QDict * ud2_dict ; Visitor * v ; ud2_dict = qdict_new ( ) ; qdict_put_str ( ud2_dict , "string0" , text ) ; v = qobject_input_visitor_new ( QOBJECT ( ud2_dict ) ) ; visit_type_UserDefTwo ( v , NULL , & ud2 , & err ) ; visit_free ( v ) ; qobject_unref ( ud2_dict ) ; } error_free_or_abort ( & err ) ; assert ( ! ud2 ) ; ud2 -> string0 = g_strdup ( text ) ; qapi_free_UserDefTwo ( ud2 ) ; } 