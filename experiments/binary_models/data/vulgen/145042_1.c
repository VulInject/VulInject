static bool check_cache_active ( void ) { long pages ; pages = get_nr_swap_pages ( ) ; if ( ! swap_slot_cache_active ) { if ( pages > num_online_cpus ( ) * THRESHOLD_ACTIVATE_SWAP_SLOTS_CACHE ) { reactivate_swap_slots_cache ( ) ; } out } if ( pages < num_online_cpus ( ) * THRESHOLD_DEACTIVATE_SWAP_SLOTS_CACHE ) { deactivate_swap_slots_cache ( ) ; } out return swap_slot_cache_active ; } 