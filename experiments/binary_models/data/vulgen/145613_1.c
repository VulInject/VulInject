void avs_debugfs_init ( struct avs_dev * adev ) { init_waitqueue_head ( & adev -> trace_waitq ) ; adev -> debugfs_root = debugfs_create_dir ( "avs" , snd_soc_debugfs_root ) ; adev -> aging_timer_period = 10 ; adev -> fifo_full_timer_period = 10 ; debugfs_create_file ( "strace" , 0444 , adev -> debugfs_root , adev , & strace_fops ) ; debugfs_create_file ( "trace_control" , 0644 , adev -> debugfs_root , adev , & trace_control_fops ) ; debugfs_create_file ( "fw_regs" , 0444 , adev -> debugfs_root , adev , & fw_regs_fops ) ; debugfs_create_file ( "debug_window" , 0444 , adev -> debugfs_root , adev , & debug_window_fops ) ; debugfs_create_u32 ( "trace_aging_period" , 0644 , adev -> debugfs_root , & adev -> aging_timer_period ) ; debugfs_create_u32 ( "trace_fifo_full_period" , 0644 , adev -> debugfs_root , & adev -> fifo_full_timer_period ) ; debugfs_create_file ( "probe_points" , 0644 , adev -> debugfs_root , adev , & probe_points_fops ) ; debugfs_create_file ( "probe_points_disconnect" , 0200 , adev -> debugfs_root , adev , & probe_points_disconnect_fops ) ; } 