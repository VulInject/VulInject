static void def_program ( definition * ) static void def_enum ( definition * ) static void def_const ( definition * ) static void def_union ( definition * ) static void def_typedef ( definition * ) static void get_declaration ( declaration * , defkind ) static void get_prog_declaration ( declaration * , defkind , int ) static void get_type ( char * * , char * * , defkind ) static void unsigned_dec ( char * * ) definition * get_definition ( void ) { definition * defp ; token tok ; defp = malloc ( sizeof ( definition ) ) ; get_token ( & tok ) ; switch ( tok . kind ) { case TOK_STRUCT : def_struct ( defp ) ; break ; case TOK_UNION : def_union ( defp ) ; break ; case TOK_TYPEDEF : def_typedef ( defp ) ; break ; case TOK_ENUM : def_enum ( defp ) ; break ; case TOK_PROGRAM : def_program ( defp ) ; break ; case TOK_CONST : def_const ( defp ) ; break ; case TOK_EOF : return ( NULL ) ; default : error ( "definition keyword expected" ) ; } scan ( TOK_SEMICOLON , & tok ) ; isdefined ( defp ) ; return ( defp ) ; } 