{ var = ( var & ~ IO_MASK_ ( reg # # _ , field # # _ ) ) | IO_FIELD_ ( reg # # _ , field # # _ , val ) ; } 0 ; { } while ( 0 ) { sync_port { const volatile unsigned * const status ; volatile unsigned * const ctrl_data ; volatile unsigned * const output_dma_first ; volatile unsigned char * const output_dma_cmd ; volatile unsigned char * const output_dma_clr_irq ; volatile unsigned * const input_dma_first ; volatile unsigned char * const input_dma_cmd ; volatile unsigned * const input_dma_descr ; volatile unsigned char * const input_dma_clr_irq ; volatile unsigned * const data_out ; const volatile unsigned * const data_in ; char data_avail_bit ; char transmitter_ready_bit ; char input_dma_descr_bit ; char output_dma_bit ; char started ; char port_nbr ; char busy ; char enabled ; char use_dma ; char tr_running ; char init_irqs ; unsigned int ctrl_data_shadow ; volatile unsigned int out_count ; unsigned char * outp ; volatile unsigned char * volatile readp ; volatile unsigned char * volatile writep ; unsigned int in_buffer_size ; unsigned int inbufchunk ; struct etrax_dma_descr out_descr __attribute__ ( ( aligned ( 32 ) ) ) ; struct etrax_dma_descr in_descr [ NUM_IN_DESCR ] __attribute__ ( ( aligned ( 32 ) ) ) ; unsigned char out_buffer [ OUT_BUFFER_SIZE ] __attribute__ ( ( aligned ( 32 ) ) ) ; unsigned char in_buffer [ IN_BUFFER_SIZE ] __attribute__ ( ( aligned ( 32 ) ) ) ; unsigned char flip [ IN_BUFFER_SIZE ] __attribute__ ( ( aligned ( 32 ) ) ) ; struct etrax_dma_descr * next_rx_desc ; struct etrax_dma_descr * prev_rx_desc ; int full ; wait_queue_head_t out_wait_q ; wait_queue_head_t in_wait_q ; } } 