static int cs35l41_init ( struct snd_soc_pcm_runtime * rtd ) { struct snd_soc_card * card = rtd -> card ; int ret ; ret = snd_soc_dapm_new_controls ( & card -> dapm , cs35l41_dapm_widgets , ARRAY_SIZE ( cs35l41_dapm_widgets ) ) ; if ( ret ) { dev_err ( rtd -> dev , "fail to add dapm controls, ret %d\n" , ret ) ; return ret ; } ret = snd_soc_add_card_controls ( card , cs35l41_kcontrols , ARRAY_SIZE ( cs35l41_kcontrols ) ) ; if ( ret ) { dev_err ( rtd -> dev , "fail to add card controls, ret %d\n" , ret ) ; return ret ; } ret = snd_soc_dapm_add_routes ( & card -> dapm , cs35l41_dapm_routes , ARRAY_SIZE ( cs35l41_dapm_routes ) ) ; return ret ; } static const { unsigned int rx [ 2 ] ; } , cs35l41_channel_map [ ] { { . rx = { 0 1 } } { . rx = { 1 0 } } { . rx = { 0 1 } } { . rx = { 1 0 } } } ; 