static void moxart_dma_start_sg ( struct moxart_chan * ch , unsigned int idx ) { struct moxart_desc * d = ch -> desc ; struct moxart_sg * sg = ch -> desc -> sg + idx ; if ( ch -> desc -> dma_dir == DMA_MEM_TO_DEV ) { moxart_dma_set_params ( ch , sg -> addr , d -> dev_addr ) ; } if ( ch -> desc -> dma_dir == DMA_DEV_TO_MEM ) { moxart_dma_set_params ( ch , d -> dev_addr , sg -> addr ) ; } moxart_start_dma ( ch ) ; } 