static void _il_push_maskgroup ( cff_CharstringIL * il , glyf_MaskList * masks , uint16_t contours , uint16_t points , uint16_t nh , uint16_t nv , uint16_t * jm , int32_t op ) { while ( * jm < n && ( masks -> items [ * jm ] . contoursBefore < contours || ( masks -> items [ * jm ] . contoursBefore == contours && masks -> items [ * jm ] . pointsBefore <= points ) ) ) { il_push_op ( il , op ) ; uint8_t maskByte = 0 ; uint8_t bits = 0 ; for ( uint16_t j = 0 ; j < nh ; j ++ ) { maskByte = maskByte << 1 | ( masks -> items [ * jm ] . maskH [ j ] & 1 ) ; bits += 1 ; if ( bits == 8 ) { il_push_special ( il , maskByte ) ; bits = 0 ; } } for ( uint16_t j = 0 ; j < nv ; j ++ ) { maskByte = maskByte << 1 | ( masks -> items [ * jm ] . maskV [ j ] & 1 ) ; bits += 1 ; if ( bits == 8 ) { il_push_special ( il , maskByte ) ; bits = 0 ; } } if ( bits ) { maskByte = maskByte << ( 8 - bits ) ; il_push_special ( il , maskByte ) ; } * jm += 1 ; } } 