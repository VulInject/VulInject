static void decrement_locked_vm ( struct mm_struct * mm , long npages ) { if ( ! mm || ! npages ) { return ; } down_write ( & mm -> mmap_sem ) ; if ( WARN_ON_ONCE ( npages > mm -> locked_vm ) ) { npages = mm -> locked_vm ; } mm -> locked_vm -= npages ; pr_debug ( "[%d] RLIMIT_MEMLOCK -%ld %ld/%ld\n" , current -> pid , npages << PAGE_SHIFT , mm -> locked_vm << PAGE_SHIFT , rlimit ( RLIMIT_MEMLOCK ) ) ; up_write ( & mm -> mmap_sem ) ; } tce_iommu_group { struct list_head next ; struct iommu_group * grp ; } tce_iommu_prereg { struct list_head next ; struct mm_iommu_table_group_mem_t * mem ; } tce_container { struct mutex lock ; bool enabled ; bool v2 ; bool def_window_pending ; struct mm_struct * mm ; struct iommu_table * tables [ IOMMU_TABLE_GROUP_MAX_TABLES ] ; struct list_head group_list ; struct list_head prereg_list ; } 