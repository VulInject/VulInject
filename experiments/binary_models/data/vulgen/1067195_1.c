void FLAC__metadata_object_delete_data ( FLAC__StreamMetadata * object ) { FLAC__ASSERT ( object != NULL ) ; switch ( object -> type ) { case FLAC__METADATA_TYPE_STREAMINFO : case FLAC__METADATA_TYPE_PADDING : break ; case FLAC__METADATA_TYPE_APPLICATION : if ( object -> data . application . data != NULL ) { free ( object -> data . application . data ) ; object -> data . application . data = NULL ; } break ; case FLAC__METADATA_TYPE_SEEKTABLE : if ( object -> data . seek_table . points != NULL ) { free ( object -> data . seek_table . points ) ; object -> data . seek_table . points = NULL ; } break ; case FLAC__METADATA_TYPE_VORBIS_COMMENT : if ( object -> data . vorbis_comment . vendor_string . entry != NULL ) { free ( object -> data . vorbis_comment . vendor_string . entry ) ; object -> data . vorbis_comment . vendor_string . entry = 0 ; } if ( object -> data . vorbis_comment . comments != NULL ) { FLAC__ASSERT ( object -> data . vorbis_comment . num_comments > 0 ) ; vorbiscomment_entry_array_delete_ ( object -> data . vorbis_comment . comments , object -> data . vorbis_comment . num_comments ) ; object -> data . vorbis_comment . comments = NULL ; object -> data . vorbis_comment . num_comments = 0 ; } break ; case FLAC__METADATA_TYPE_CUESHEET : if ( object -> data . cue_sheet . tracks != NULL ) { FLAC__ASSERT ( object -> data . cue_sheet . num_tracks > 0 ) ; cuesheet_track_array_delete_ ( object -> data . cue_sheet . tracks , object -> data . cue_sheet . num_tracks ) ; object -> data . cue_sheet . tracks = NULL ; object -> data . cue_sheet . num_tracks = 0 ; } break ; case FLAC__METADATA_TYPE_PICTURE : if ( object -> data . picture . mime_type != NULL ) { free ( object -> data . picture . mime_type ) ; object -> data . picture . mime_type = NULL ; } if ( object -> data . picture . description != NULL ) { free ( object -> data . picture . description ) ; object -> data . picture . description = NULL ; } if ( object -> data . picture . data != NULL ) { free ( object -> data . picture . data ) ; object -> data . picture . data = NULL ; } break ; default : break ; } } 