char * CalendarToString ( const struct calendar cal ) { char buffer [ 100 ] "" ; ; * str = '\0' ; snprintf ( buffer , 100 , "%u" , cal . year ) ; strcat ( str , buffer ) ; strcat ( str , "-" ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . month ) ; strcat ( str , buffer ) ; strcat ( str , "-" ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . monthday ) ; strcat ( str , buffer ) ; strcat ( str , " (" ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . yearday ) ; strcat ( str , buffer ) ; strcat ( str , ") " ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . hour ) ; strcat ( str , buffer ) ; strcat ( str , ":" ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . minute ) ; strcat ( str , buffer ) ; strcat ( str , ":" ) ; snprintf ( buffer , 100 , "%u" , ( u_int ) cal . second ) ; strcat ( str , buffer ) ; return str ; } 