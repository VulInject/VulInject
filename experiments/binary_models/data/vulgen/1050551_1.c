static acpi_status acpi_db_convert_to_buffer ( char * string , union acpi_object * object ) { u32 i ; u32 j ; u32 length ; u8 * buffer ; acpi_status status ; acpi_ut_remove_whitespace ( & string ) ; for ( i = 0 , length = 0 ; string [ i ] ; ) { i += 2 ; length ++ ; while ( string [ i ] && ( ( string [ i ] == ',' ) || ( string [ i ] == ' ' ) ) ) { i ++ ; } } buffer = ACPI_ALLOCATE ( length ) ; if ( ! buffer ) { return ( AE_NO_MEMORY ) ; } for ( i = 0 , j = 0 ; string [ i ] ; ) { status = acpi_db_hex_byte_to_binary ( & string [ i ] , & buffer [ j ] ) ; if ( ACPI_FAILURE ( status ) ) { return ( status ) ; } j ++ ; i += 2 ; while ( string [ i ] && ( ( string [ i ] == ',' ) || ( string [ i ] == ' ' ) ) ) { i ++ ; } } object -> type = ACPI_TYPE_BUFFER ; object -> buffer . pointer = buffer ; object -> buffer . length = length ; return ( AE_OK ) ; } 