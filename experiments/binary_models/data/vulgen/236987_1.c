static struct amdgpu_pmu_entry * create_pmu_entry ( struct amdgpu_device * adev , unsigned int pmu_type , char * pmu_type_name , char * pmu_file_prefix ) { struct amdgpu_pmu_entry * pmu_entry ; pmu_entry = kzalloc ( sizeof ( amdgpu_pmu_entry ) , GFP_KERNEL ) ; pmu_entry -> adev = adev ; pmu_entry -> fmt_attr_group . name = "format" ; pmu_entry -> fmt_attr_group . attrs = NULL ; pmu_entry -> evt_attr_group . name = "events" ; pmu_entry -> evt_attr_group . attrs = NULL ; pmu_entry -> pmu_perf_type = pmu_type ; pmu_entry -> pmu_type_name = pmu_type_name ; pmu_entry -> pmu_file_prefix = pmu_file_prefix ; return pmu_entry ; } 