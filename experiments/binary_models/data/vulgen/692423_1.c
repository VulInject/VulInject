CWD_API FILE * virtual_fopen ( const char * path , const char * mode ) { cwd_state new_state ; FILE * f ; if ( path [ 0 ] == '\0' ) { return NULL ; } CWD_STATE_COPY ( & new_state , & CWDG ( cwd ) ) ; if ( virtual_file_ex ( & new_state , path , NULL , CWD_EXPAND ) ) { return NULL ; } f = php_win32_ioutil_fopen ( new_state . cwd , mode ) ; f = fopen ( new_state . cwd , mode ) ; CWD_STATE_FREE_ERR ( & new_state ) ; return f ; } 