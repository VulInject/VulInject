static const char * dt_name_from_class ( uint8_t class ) uint8_t subclass , uint8_t iface { const PCIClass * pclass ; const PCISubClass * psubclass ; const PCIIFace * piface ; const char * name ; pclass = pci_classes + class ; name = pclass -> name ; if ( pclass -> subc == NULL ) { return name ; } psubclass = pclass -> subc ; while ( ( psubclass -> subclass & 0xff ) != 0xff ) { if ( ( psubclass -> subclass & 0xff ) == subclass ) { name = psubclass -> name ; break ; } psubclass ++ ; } piface = psubclass -> iface ; if ( piface == NULL ) { return name ; } while ( ( piface -> iface & 0xff ) != 0xff ) { if ( ( piface -> iface & 0xff ) == iface ) { name = piface -> name ; break ; } piface ++ ; } return name ; } ; 