void ia_css_isys_csi_rx_lut_rmgr_release ( csi_rx_backend_ID_t backend , csi_mipi_packet_type_t packet_type , csi_rx_backend_lut_entry_t * entry ) { uint32_t max_num_packets ; isys_csi_rx_rsrc_t * cur_rsrc = NULL ; uint32_t packet_entry = 0 ; assert ( backend < N_CSI_RX_BACKEND_ID ) ; assert ( entry != NULL ) ; assert ( ( packet_type >= CSI_MIPI_PACKET_TYPE_LONG ) || ( packet_type <= CSI_MIPI_PACKET_TYPE_SHORT ) ) ; if ( ( backend < N_CSI_RX_BACKEND_ID ) && ( entry != NULL ) ) { if ( packet_type == CSI_MIPI_PACKET_TYPE_LONG ) { max_num_packets = N_LONG_PACKET_LUT_ENTRIES [ backend ] ; packet_entry = entry -> long_packet_entry ; } else { max_num_packets = N_SHORT_PACKET_LUT_ENTRIES [ backend ] ; packet_entry = entry -> short_packet_entry ; } cur_rsrc = & isys_csi_rx_rsrc [ backend ] ; if ( ( packet_entry < max_num_packets ) && ( cur_rsrc -> num_active > 0 ) ) { if ( bitop_getbit ( cur_rsrc -> active_table , packet_entry ) == 1 ) { if ( packet_type == CSI_MIPI_PACKET_TYPE_LONG ) { cur_rsrc -> num_long_packets -- ; } else { cur_rsrc -> num_short_packets -- ; } cur_rsrc -> num_active -- ; } } } } 