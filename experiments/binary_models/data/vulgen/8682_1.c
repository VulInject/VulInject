void rtl8188e_HalDmWatchDog ( struct adapter * Adapter ) { u8 hw_init_completed = Adapter -> hw_init_completed ; struct hal_data_8188e * hal_data = & Adapter -> haldata ; struct mlme_priv * pmlmepriv = & Adapter -> mlmepriv ; u8 bLinked = false ; if ( ! hw_init_completed ) { return ; } if ( ( check_fwstate ( pmlmepriv , WIFI_AP_STATE ) ) || ( check_fwstate ( pmlmepriv , WIFI_ADHOC_STATE | WIFI_ADHOC_MASTER_STATE ) ) ) { if ( Adapter -> stapriv . asoc_sta_count > 2 ) { bLinked = true ; } } else { if ( check_fwstate ( pmlmepriv , _FW_LINKED ) ) { bLinked = true ; } } hal_data -> odmpriv . bLinked = bLinked ; } 