static noinline void check_multi_find_1 ( struct xarray * xa , unsigned order ) { unsigned long multi = 3 << order ; unsigned long next = 4 << order ; unsigned long index ; xa_store_order ( xa , multi , order , xa_mk_value ( multi ) , GFP_KERNEL ) ; XA_BUG_ON ( xa , xa_store_index ( xa , next , GFP_KERNEL ) != NULL ) ; XA_BUG_ON ( xa , xa_store_index ( xa , next + 1 , GFP_KERNEL ) != NULL ) ; index = 0 ; XA_BUG_ON ( xa , xa_find ( xa , & index , ULONG_MAX , XA_PRESENT ) != xa_mk_value ( multi ) ) ; XA_BUG_ON ( xa , index != multi ) ; index = multi + 1 ; XA_BUG_ON ( xa , xa_find ( xa , & index , ULONG_MAX , XA_PRESENT ) != xa_mk_value ( multi ) ) ; XA_BUG_ON ( xa , xa_find_after ( xa , & index , ULONG_MAX , XA_PRESENT ) != xa_mk_value ( next ) ) ; XA_BUG_ON ( xa , index != next ) ; XA_BUG_ON ( xa , xa_find_after ( xa , & index , next , XA_PRESENT ) != NULL ) ; XA_BUG_ON ( xa , index != next ) ; xa_erase_index ( xa , multi ) ; xa_erase_index ( xa , next ) ; xa_erase_index ( xa , next + 1 ) ; XA_BUG_ON ( xa , ! xa_empty ( xa ) ) ; } 