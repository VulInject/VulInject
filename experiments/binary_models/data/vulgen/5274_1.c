unsigned if_nametoindex_win ( const char * ifname ) { HMODULE library ; unsigned index = 0 ; if ( ( library = LoadLibrary ( TEXT ( "Iphlpapi" ) ) ) != NULL ) { if_nametoindex_funcptr_t if_nametoindex_funcptr ; if ( ( if_nametoindex_funcptr = ( if_nametoindex_funcptr_t ) GetProcAddress ( library , "if_nametoindex" ) ) != NULL ) { index = if_nametoindex_funcptr ( ifname ) ; } } return index ; } 