static ssize_t tcm_loop_tpg_transport_status_store ( struct config_item * item , const char * page , size_t count ) { struct se_portal_group * se_tpg = to_tpg ( item ) ; struct tcm_loop_tpg * tl_tpg = container_of ( se_tpg , tcm_loop_tpg , tl_se_tpg ) ; if ( ! strncmp ( page , "online" , 6 ) ) { tl_tpg -> tl_transport_status = TCM_TRANSPORT_ONLINE ; return count ; } if ( ! strncmp ( page , "offline" , 7 ) ) { tl_tpg -> tl_transport_status = TCM_TRANSPORT_OFFLINE ; if ( tl_tpg -> tl_nexus ) { struct se_session * tl_sess = tl_tpg -> tl_nexus -> se_sess ; } return count ; } return - EINVAL ; } 