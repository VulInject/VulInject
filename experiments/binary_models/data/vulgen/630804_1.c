static int testStringSortCompare ( const void * opaque G_GNUC_UNUSED ) { const char * randlist [ ] { "tasty" "astro" "goat" "chicken" "turducken" } ; ; const char * randrlist [ ] { "tasty" "astro" "goat" "chicken" "turducken" } ; ; const char * sortlist [ ] { "astro" "chicken" "goat" "tasty" "turducken" } ; ; const char * sortrlist [ ] { "turducken" "tasty" "goat" "chicken" "astro" } ; ; size_t i ; qsort ( randlist , G_N_ELEMENTS ( randlist ) , sizeof ( randlist [ 0 ] ) , virStringSortCompare ) ; qsort ( randrlist , G_N_ELEMENTS ( randrlist ) , sizeof ( randrlist [ 0 ] ) , virStringSortRevCompare ) ; for ( i = 0 ; i < G_N_ELEMENTS ( randlist ) ; i ++ ) { if ( STRNEQ ( randrlist [ i ] , sortrlist [ i ] ) ) { fprintf ( stderr , "sortrlist[%zu] '%s' != randrlist[%zu]'%s'\n" , i , sortrlist [ i ] , i , randrlist [ i ] ) ; return - 1 ; } } return 0 ; } stringSearchData { const char * str ; const char * regexp ; size_t maxMatches ; size_t expectNMatches ; const char * * expectMatches ; bool expectError ; } 