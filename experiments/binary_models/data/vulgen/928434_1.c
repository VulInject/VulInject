void coh901318_lli_free ( struct coh901318_pool * pool , struct coh901318_lli * * lli ) { struct coh901318_lli * l ; struct coh901318_lli * next ; l = * lli ; if ( l == NULL ) { return ; } spin_lock ( & pool -> lock ) ; while ( l -> link_addr ) { next = l -> virt_link_addr ; dma_pool_free ( pool -> dmapool , l , l -> phy_this ) ; DEBUGFS_POOL_COUNTER_ADD ( pool , - 1 ) ; l = next ; } dma_pool_free ( pool -> dmapool , l , l -> phy_this ) ; DEBUGFS_POOL_COUNTER_ADD ( pool , - 1 ) ; spin_unlock ( & pool -> lock ) ; * lli = NULL ; } 