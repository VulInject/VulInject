static void pnpacpi_encode_irq ( struct pnp_dev * dev , struct acpi_resource * resource , struct resource * p ) { struct acpi_resource_irq * irq = & resource -> data . irq ; u8 triggering , polarity , shareable ; if ( ! pnp_resource_enabled ( p ) ) { pnp_dbg ( & dev -> dev , "  encode irq (%s)\n" , p ?"disabled" : "missing" ) ; return ; } decode_irq_flags ( dev , p -> flags , & triggering , & polarity , & shareable ) ; irq -> triggering = triggering ; irq -> polarity = polarity ; irq -> sharable = shareable ; irq -> interrupt_count = 1 ; irq -> interrupts [ 0 ] = p -> start ; pnp_dbg ( & dev -> dev , "  encode irq %d %s %s %s (%d-byte descriptor)\n" , ( int ) p -> start , triggering == ACPI_LEVEL_SENSITIVE ?"level" : "edge" , polarity == ACPI_ACTIVE_LOW ?"low" : "high" , irq -> sharable == ACPI_SHARED ?"shared" : "exclusive" , irq -> descriptor_length ) ; } 