static void bundle_print_xml ( pe_resource_t * rsc , const char * pre_text , long options , void * print_data ) { pe__bundle_variant_data_t * bundle_data = NULL ; char * child_text = NULL ; CRM_CHECK ( , ) child_text = crm_strdup_printf ( "%s        " , pre_text ) ; get_bundle_variant_data ( bundle_data , rsc ) ; status_print ( "%s<bundle " , pre_text ) ; status_print ( XML_ATTR_ID "=\"%s\" " , rsc -> id ) ; status_print ( "type=\"%s\" " , container_agent_str ( bundle_data -> agent_type ) ) ; status_print ( "image=\"%s\" " , bundle_data -> image ) ; status_print ( "unique=\"%s\" " , pe__rsc_bool_str ( rsc , pe_rsc_unique ) ) ; status_print ( "managed=\"%s\" " , pe__rsc_bool_str ( rsc , pe_rsc_managed ) ) ; status_print ( "failed=\"%s\" " , pe__rsc_bool_str ( rsc , pe_rsc_failed ) ) ; status_print ( ">\n" ) ; for ( GList * gIter = bundle_data -> replicas ; gIter != NULL ; gIter = gIter -> next ) { pe__bundle_replica_t * replica = gIter -> data ; CRM_ASSERT ( replica ) ; status_print ( "%s<replica " XML_ATTR_ID "=\"%d\">\n" , pre_text , replica -> offset ) ; print_rsc_in_list ( replica -> ip , child_text , options , print_data ) ; print_rsc_in_list ( replica -> child , child_text , options , print_data ) ; print_rsc_in_list ( replica -> container , child_text , options , print_data ) ; print_rsc_in_list ( replica -> remote , child_text , options , print_data ) ; status_print ( "%s</replica>\n" , pre_text ) ; } status_print ( "%s</bundle>\n" , pre_text ) ; free ( child_text ) ; } 