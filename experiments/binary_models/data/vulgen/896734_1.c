static BlockAIOCB * blk_aio_prwv ( BlockBackend * blk , int64_t offset , int64_t bytes , void * iobuf , CoroutineEntry co_entry , BdrvRequestFlags flags , BlockCompletionFunc * cb , void * opaque ) { BlkAioEmAIOCB * acb ; Coroutine * co ; blk_inc_in_flight ( blk ) ; acb = blk_aio_get ( & blk_aio_em_aiocb_info , blk , cb , opaque ) ; acb -> rwco = ( BlkRwCo ) { . blk = blk . offset = offset . iobuf = iobuf . flags = flags . ret = NOT_DONE } ; acb -> bytes = bytes ; acb -> has_returned = false ; co = qemu_coroutine_create ( co_entry , acb ) ; acb -> has_returned = true ; if ( acb -> rwco . ret != NOT_DONE ) { replay_bh_schedule_oneshot_event ( blk_get_aio_context ( blk ) , blk_aio_complete_bh , acb ) ; } return & acb -> common ; } 