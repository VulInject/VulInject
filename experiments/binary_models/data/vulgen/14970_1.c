static void setupQuad ( long xOff , long yOff ) { long numQuadCels , i , x , y ; byte * temp ; if ( xOff == cin . oldXOff && yOff == cin . oldYOff && cinTable [ currentHandle ] . ysize == cin . oldysize && cinTable [ currentHandle ] . xsize == cin . oldxsize ) { return ; } cin . oldXOff = xOff ; cin . oldYOff = yOff ; cin . oldysize = cinTable [ currentHandle ] . ysize ; cin . oldxsize = cinTable [ currentHandle ] . xsize ; numQuadCels = ( cinTable [ currentHandle ] . xsize * cinTable [ currentHandle ] . ysize ) / ( 16 ) ; numQuadCels += numQuadCels / 4 ; numQuadCels += 64 ; cinTable [ currentHandle ] . onQuad = 0 ; for ( y = 0 ; y < ( long ) cinTable [ currentHandle ] . ysize ; y += 16 ) { for ( x = 0 ; x < ( long ) cinTable [ currentHandle ] . xsize ; x += 16 ) { recurseQuad ( x , y , 16 , xOff , yOff ) ; } } for ( i = ( numQuadCels - 64 ) ; i < numQuadCels ; i ++ ) { cin . qStatus [ 0 ] [ i ] = temp ; cin . qStatus [ 1 ] [ i ] = temp ; } } 