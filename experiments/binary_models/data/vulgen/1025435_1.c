static void get_statistics ( struct ucc_geth_private * ugeth , struct ucc_geth_tx_firmware_statistics * tx_firmware_statistics , struct ucc_geth_rx_firmware_statistics * rx_firmware_statistics , struct ucc_geth_hardware_statistics * hardware_statistics ) { struct ucc_fast __iomem * uf_regs ; struct ucc_geth __iomem * ug_regs ; struct ucc_geth_tx_firmware_statistics_pram * p_tx_fw_statistics_pram ; struct ucc_geth_rx_firmware_statistics_pram * p_rx_fw_statistics_pram ; ug_regs = ugeth -> ug_regs ; uf_regs = ( ucc_fast __iomem * ) ug_regs ; p_tx_fw_statistics_pram = ugeth -> p_tx_fw_statistics_pram ; p_rx_fw_statistics_pram = ugeth -> p_rx_fw_statistics_pram ; if ( tx_firmware_statistics && p_tx_fw_statistics_pram ) { tx_firmware_statistics -> sicoltx = in_be32 ( & p_tx_fw_statistics_pram -> sicoltx ) ; tx_firmware_statistics -> mulcoltx = in_be32 ( & p_tx_fw_statistics_pram -> mulcoltx ) ; tx_firmware_statistics -> latecoltxfr = in_be32 ( & p_tx_fw_statistics_pram -> latecoltxfr ) ; tx_firmware_statistics -> frabortduecol = in_be32 ( & p_tx_fw_statistics_pram -> frabortduecol ) ; tx_firmware_statistics -> frlostinmactxer = in_be32 ( & p_tx_fw_statistics_pram -> frlostinmactxer ) ; tx_firmware_statistics -> carriersenseertx = in_be32 ( & p_tx_fw_statistics_pram -> carriersenseertx ) ; tx_firmware_statistics -> frtxok = in_be32 ( & p_tx_fw_statistics_pram -> frtxok ) ; tx_firmware_statistics -> txfrexcessivedefer = in_be32 ( & p_tx_fw_statistics_pram -> txfrexcessivedefer ) ; tx_firmware_statistics -> txpkts256 = in_be32 ( & p_tx_fw_statistics_pram -> txpkts256 ) ; tx_firmware_statistics -> txpkts512 = in_be32 ( & p_tx_fw_statistics_pram -> txpkts512 ) ; tx_firmware_statistics -> txpkts1024 = in_be32 ( & p_tx_fw_statistics_pram -> txpkts1024 ) ; tx_firmware_statistics -> txpktsjumbo = in_be32 ( & p_tx_fw_statistics_pram -> txpktsjumbo ) ; } if ( hardware_statistics && ( in_be32 ( & uf_regs -> upsmr ) & UCC_GETH_UPSMR_HSE ) ) { hardware_statistics -> tx64 = in_be32 ( & ug_regs -> tx64 ) ; hardware_statistics -> tx127 = in_be32 ( & ug_regs -> tx127 ) ; hardware_statistics -> tx255 = in_be32 ( & ug_regs -> tx255 ) ; hardware_statistics -> rx64 = in_be32 ( & ug_regs -> rx64 ) ; hardware_statistics -> rx127 = in_be32 ( & ug_regs -> rx127 ) ; hardware_statistics -> rx255 = in_be32 ( & ug_regs -> rx255 ) ; hardware_statistics -> txok = in_be32 ( & ug_regs -> txok ) ; hardware_statistics -> txcf = in_be16 ( & ug_regs -> txcf ) ; hardware_statistics -> tmca = in_be32 ( & ug_regs -> tmca ) ; hardware_statistics -> tbca = in_be32 ( & ug_regs -> tbca ) ; hardware_statistics -> rxfok = in_be32 ( & ug_regs -> rxfok ) ; hardware_statistics -> rxbok = in_be32 ( & ug_regs -> rxbok ) ; hardware_statistics -> rbyt = in_be32 ( & ug_regs -> rbyt ) ; hardware_statistics -> rmca = in_be32 ( & ug_regs -> rmca ) ; hardware_statistics -> rbca = in_be32 ( & ug_regs -> rbca ) ; } } 