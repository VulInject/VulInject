int test_basic_prep ( int sigfd_flags ) { sigset_t mask ; assert ( sigemptyset ( & mask ) == 0 ) ; assert ( sigaddset ( & mask , SIGUSR1 ) == 0 ) ; assert ( sigaddset ( & mask , SIGUSR2 ) == 0 ) ; assert ( sigaddset ( & mask , SIGALRM ) == 0 ) ; assert ( fd >= 0 ) ; assert ( sigprocmask ( SIG_BLOCK , & mask , NULL ) == 0 ) ; return ( fd ) ; } 