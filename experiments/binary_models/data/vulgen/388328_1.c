void load_platform_drivers ( void ) { dev_info_t * dip ; if ( i_ddi_attach_hw_nodes ( "power" ) != DDI_SUCCESS ) { cmn_err ( CE_WARN , "Failed to install \"power\" driver." ) ; } ( void ) ddi_hold_driver ( ddi_name_to_major ( "power" ) ) ; ( void ) i_ddi_attach_hw_nodes ( "us" ) ; if ( i_ddi_attach_hw_nodes ( "grbeep" ) != DDI_SUCCESS ) { cmn_err ( CE_WARN , "Failed to install \"beep\" driver." ) ; } if ( i_ddi_attach_hw_nodes ( "mc-us3i" ) != DDI_SUCCESS ) { cmn_err ( CE_WARN , "mc-us3i driver failed to install" ) ; } ( void ) ddi_hold_driver ( ddi_name_to_major ( "mc-us3i" ) ) ; dip = e_ddi_hold_devi_by_path ( ENCHILADA_ISA_PATHNAME , 0 ) ; if ( pci_config_setup ( dip , & isa_handle ) != DDI_SUCCESS ) { cmn_err ( CE_PANIC , "Could not get the config space of isa\n" ) ; return ; } } 