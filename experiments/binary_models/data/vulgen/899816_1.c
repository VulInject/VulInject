static CURLcode rtsp_done ( struct Curl_easy * data , CURLcode status , bool premature ) { struct RTSP * rtsp = data -> req . p . rtsp ; CURLcode httpStatus ; httpStatus = Curl_http_done ( data , status , premature ) ; if ( rtsp && ! status && ! httpStatus ) { long CSeq_sent = rtsp -> CSeq_sent ; long CSeq_recv = rtsp -> CSeq_recv ; if ( ( data -> set . rtspreq != RTSPREQ_RECEIVE ) && ( CSeq_sent != CSeq_recv ) ) { failf ( data , "The CSeq of this request %ld did not match the response %ld" , CSeq_sent , CSeq_recv ) ; return CURLE_RTSP_CSEQ_ERROR ; } if ( data -> set . rtspreq == RTSPREQ_RECEIVE && ( data -> conn -> proto . rtspc . rtp_channel == - 1 ) ) { infof ( data , "Got an RTP Receive with a CSeq of %ld" , CSeq_recv ) ; } } return httpStatus ; } 