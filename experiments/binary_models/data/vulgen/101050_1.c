PyObject * pyevt_record_new ( libevt_record_t * record , PyObject * parent_object ) { pyevt_record_t * pyevt_record = NULL ; static char * function = "pyevt_record_new" ; if ( record == NULL ) { PyErr_Format ( PyExc_ValueError , "%s: invalid record." , function ) ; return ( NULL ) ; } pyevt_record = PyObject_New ( pyevt_record , & pyevt_record_type_object ) ; if ( pyevt_record == NULL ) { PyErr_Format ( PyExc_MemoryError , "%s: unable to initialize record." , function ) ; on_error } pyevt_record -> record = record ; pyevt_record -> parent_object = parent_object ; if ( pyevt_record -> parent_object != NULL ) { Py_IncRef ( pyevt_record -> parent_object ) ; } return ( ( PyObject * ) pyevt_record ) ; on_error return ( NULL ) ; } 