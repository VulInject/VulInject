void trace2_cmd_exit_fl ( const char * file , int line , int code ) { struct tr2_tgt * tgt_j ; int j ; uint64_t us_now ; uint64_t us_elapsed_absolute ; trace_git_fsync_stats ( ) ; trace2_collect_process_info ( TRACE2_PROCESS_INFO_EXIT ) ; tr2main_exit_code = code ; us_now = getnanotime ( ) / 1000 ; us_elapsed_absolute = tr2tls_absolute_elapsed ( us_now ) ; for_each_wanted_builtin ( , ) if ( tgt_j -> pfn_exit_fl ) { tgt_j -> pfn_exit_fl ( file , line , us_elapsed_absolute , code ) ; } } 