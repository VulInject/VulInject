double dStart , dNow , dUserTime ; struct rusage ru ; int i ; getrusage ( RUSAGE_SELF , & ru ) ; dStart = ( double ) ru . ru_utime . tv_sec + ( double ) ru . ru_utime . tv_usec * 0.000001 ; for ( i = 0 ; i < k ; i ++ ) { { op ; } } getrusage ( RUSAGE_SELF , & ru ) ; dNow = ( double ) ru . ru_utime . tv_sec + ( double ) ru . ru_utime . tv_usec * 0.000001 ; dUserTime = dNow - dStart ; 