static struct _vboxDriver * vboxDriverObjNew ( void ) { struct _vboxDriver * driver ; if ( ! ( driver = virObjectLockableNew ( vboxDriverClass ) ) ) { return NULL ; } if ( ! ( driver -> caps = vboxCapsInit ( ) ) || ! ( driver -> xmlopt = virDomainXMLOptionNew ( & vboxDomainDefParserConfig , NULL , NULL , NULL , NULL , NULL ) ) ) { cleanup } return driver ; cleanup virObjectUnref ( driver ) ; return NULL ; } 