static void consolidateFDSelect ( fd_handle * h , table_CFF * cff , const otfcc_Options * options , const sds gname ) { if ( h -> state == HANDLE_STATE_INDEX ) { if ( h -> index >= cff -> fdArrayCount ) { h -> index = 0 ; } Handle . consolidateTo ( h , h -> index , cff -> fdArray [ h -> index ] -> fontName ) ; } if ( h -> name ) { bool found = false ; for ( tableid_t j = 0 ; j < cff -> fdArrayCount ; j ++ ) { if ( strcmp ( h -> name , cff -> fdArray [ j ] -> fontName ) == 0 ) { found = true ; Handle . consolidateTo ( h , j , cff -> fdArray [ j ] -> fontName ) ; break ; } } if ( ! found ) { logWarning ( "[Consolidate] CID Subfont %s is not defined. (in glyph /%s).\n" , h -> name , gname ) ; Handle . dispose ( h ) ; } } if ( h -> name ) { Handle . dispose ( h ) ; } } 