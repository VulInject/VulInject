static int squashfs_init_fs_context ( struct fs_context * fc ) { struct squashfs_mount_opts * opts ; opts = kzalloc ( sizeof ( * opts ) , GFP_KERNEL ) ; if ( ! opts ) { return - ENOMEM ; } opts -> thread_ops = & squashfs_decompressor_single ; opts -> thread_ops = & squashfs_decompressor_multi ; opts -> thread_num = 0 ; fc -> fs_private = opts ; fc -> ops = & squashfs_context_ops ; return 0 ; } 