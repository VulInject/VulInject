static const struct rtw89_mac_dbg_port_info * rtw89_debug_mac_dbg_port_sel ( struct seq_file * m , struct rtw89_dev * rtwdev , u32 sel ) { const struct rtw89_mac_dbg_port_info * info ; u32 index ; u32 val32 ; u16 val16 ; u8 val8 ; switch ( sel ) { case RTW89_DBG_PORT_SEL_PTCL_C0 : info = & dbg_port_ptcl_c0 ; val16 = rtw89_read16 ( rtwdev , R_AX_PTCL_DBG ) ; val16 |= B_AX_PTCL_DBG_EN ; rtw89_write16 ( rtwdev , R_AX_PTCL_DBG , val16 ) ; seq_puts ( m , "Enable PTCL C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PTCL_C1 : info = & dbg_port_ptcl_c1 ; val16 = rtw89_read16 ( rtwdev , R_AX_PTCL_DBG_C1 ) ; val16 |= B_AX_PTCL_DBG_EN ; rtw89_write16 ( rtwdev , R_AX_PTCL_DBG_C1 , val16 ) ; seq_puts ( m , "Enable PTCL C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_SCH_C0 : info = & dbg_port_sch_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_SCH_DBG_SEL ) ; val32 |= B_AX_SCH_DBG_EN ; rtw89_write32 ( rtwdev , R_AX_SCH_DBG_SEL , val32 ) ; seq_puts ( m , "Enable SCH C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_SCH_C1 : info = & dbg_port_sch_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_SCH_DBG_SEL_C1 ) ; val32 |= B_AX_SCH_DBG_EN ; rtw89_write32 ( rtwdev , R_AX_SCH_DBG_SEL_C1 , val32 ) ; seq_puts ( m , "Enable SCH C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TMAC_C0 : info = & dbg_port_tmac_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBGSEL_TRXPTCL ) ; val32 = u32_replace_bits ( val32 , TRXPTRL_DBG_SEL_TMAC , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write32 ( rtwdev , R_AX_DBGSEL_TRXPTCL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , TMAC_DBG_SEL_C0 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , TMAC_DBG_SEL_C0 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; seq_puts ( m , "Enable TMAC C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TMAC_C1 : info = & dbg_port_tmac_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 ) ; val32 = u32_replace_bits ( val32 , TRXPTRL_DBG_SEL_TMAC , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write32 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , TMAC_DBG_SEL_C1 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , TMAC_DBG_SEL_C1 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; seq_puts ( m , "Enable TMAC C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMAC_C0 : info = & dbg_port_rmac_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBGSEL_TRXPTCL ) ; val32 = u32_replace_bits ( val32 , TRXPTRL_DBG_SEL_RMAC , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write32 ( rtwdev , R_AX_DBGSEL_TRXPTCL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , RMAC_DBG_SEL_C0 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , RMAC_DBG_SEL_C0 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; val8 = rtw89_read8 ( rtwdev , R_AX_DBGSEL_TRXPTCL ) ; val8 = u8_replace_bits ( val8 , RMAC_CMAC_DBG_SEL , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write8 ( rtwdev , R_AX_DBGSEL_TRXPTCL , val8 ) ; seq_puts ( m , "Enable RMAC C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMAC_C1 : info = & dbg_port_rmac_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 ) ; val32 = u32_replace_bits ( val32 , TRXPTRL_DBG_SEL_RMAC , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write32 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , RMAC_DBG_SEL_C1 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , RMAC_DBG_SEL_C1 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; val8 = rtw89_read8 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 ) ; val8 = u8_replace_bits ( val8 , RMAC_CMAC_DBG_SEL , B_AX_DBGSEL_TRXPTCL_MASK ) ; rtw89_write8 ( rtwdev , R_AX_DBGSEL_TRXPTCL_C1 , val8 ) ; seq_puts ( m , "Enable RMAC C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMACST_C0 : info = & dbg_port_rmacst_c0 ; seq_puts ( m , "Enable RMAC state C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMACST_C1 : info = & dbg_port_rmacst_c1 ; seq_puts ( m , "Enable RMAC state C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMAC_PLCP_C0 : info = & dbg_port_rmac_plcp_c0 ; seq_puts ( m , "Enable RMAC PLCP C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_RMAC_PLCP_C1 : info = & dbg_port_rmac_plcp_c1 ; seq_puts ( m , "Enable RMAC PLCP C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TRXPTCL_C0 : info = & dbg_port_trxptcl_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , TRXPTCL_DBG_SEL_C0 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , TRXPTCL_DBG_SEL_C0 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; seq_puts ( m , "Enable TRXPTCL C0 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TRXPTCL_C1 : info = & dbg_port_trxptcl_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , TRXPTCL_DBG_SEL_C1 , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , TRXPTCL_DBG_SEL_C1 , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; val32 = rtw89_read32 ( rtwdev , R_AX_SYS_STATUS1 ) ; val32 = u32_replace_bits ( val32 , MAC_DBG_SEL , B_AX_SEL_0XC0_MASK ) ; rtw89_write32 ( rtwdev , R_AX_SYS_STATUS1 , val32 ) ; seq_puts ( m , "Enable TRXPTCL C1 dbgport.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TX_INFOL_C0 : info = & dbg_port_tx_infol_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1 , val32 ) ; seq_puts ( m , "Enable tx infol dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TX_INFOH_C0 : info = & dbg_port_tx_infoh_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1 , val32 ) ; seq_puts ( m , "Enable tx infoh dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TX_INFOL_C1 : info = & dbg_port_tx_infol_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1_C1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1_C1 , val32 ) ; seq_puts ( m , "Enable tx infol dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TX_INFOH_C1 : info = & dbg_port_tx_infoh_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1_C1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1_C1 , val32 ) ; seq_puts ( m , "Enable tx infoh dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TXTF_INFOL_C0 : info = & dbg_port_txtf_infol_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1 , val32 ) ; seq_puts ( m , "Enable tx tf infol dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TXTF_INFOH_C0 : info = & dbg_port_txtf_infoh_c0 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1 , val32 ) ; seq_puts ( m , "Enable tx tf infoh dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TXTF_INFOL_C1 : info = & dbg_port_txtf_infol_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1_C1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1_C1 , val32 ) ; seq_puts ( m , "Enable tx tf infol dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_TXTF_INFOH_C1 : info = & dbg_port_txtf_infoh_c1 ; val32 = rtw89_read32 ( rtwdev , R_AX_TCR1_C1 ) ; val32 |= B_AX_TCR_FORCE_READ_TXDFIFO ; rtw89_write32 ( rtwdev , R_AX_TCR1_C1 , val32 ) ; seq_puts ( m , "Enable tx tf infoh dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_BUFMGN_FREEPG : info = & dbg_port_wde_bufmgn_freepg ; seq_puts ( m , "Enable wde bufmgn freepg dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_BUFMGN_QUOTA : info = & dbg_port_wde_bufmgn_quota ; seq_puts ( m , "Enable wde bufmgn quota dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_BUFMGN_PAGELLT : info = & dbg_port_wde_bufmgn_pagellt ; seq_puts ( m , "Enable wde bufmgn pagellt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_BUFMGN_PKTINFO : info = & dbg_port_wde_bufmgn_pktinfo ; seq_puts ( m , "Enable wde bufmgn pktinfo dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_QUEMGN_PREPKT : info = & dbg_port_wde_quemgn_prepkt ; seq_puts ( m , "Enable wde quemgn prepkt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_QUEMGN_NXTPKT : info = & dbg_port_wde_quemgn_nxtpkt ; seq_puts ( m , "Enable wde quemgn nxtpkt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_QUEMGN_QLNKTBL : info = & dbg_port_wde_quemgn_qlnktbl ; seq_puts ( m , "Enable wde quemgn qlnktbl dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_WDE_QUEMGN_QEMPTY : info = & dbg_port_wde_quemgn_qempty ; seq_puts ( m , "Enable wde quemgn qempty dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_BUFMGN_FREEPG : info = & dbg_port_ple_bufmgn_freepg ; seq_puts ( m , "Enable ple bufmgn freepg dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_BUFMGN_QUOTA : info = & dbg_port_ple_bufmgn_quota ; seq_puts ( m , "Enable ple bufmgn quota dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_BUFMGN_PAGELLT : info = & dbg_port_ple_bufmgn_pagellt ; seq_puts ( m , "Enable ple bufmgn pagellt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_BUFMGN_PKTINFO : info = & dbg_port_ple_bufmgn_pktinfo ; seq_puts ( m , "Enable ple bufmgn pktinfo dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_QUEMGN_PREPKT : info = & dbg_port_ple_quemgn_prepkt ; seq_puts ( m , "Enable ple quemgn prepkt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_QUEMGN_NXTPKT : info = & dbg_port_ple_quemgn_nxtpkt ; seq_puts ( m , "Enable ple quemgn nxtpkt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_QUEMGN_QLNKTBL : info = & dbg_port_ple_quemgn_qlnktbl ; seq_puts ( m , "Enable ple quemgn qlnktbl dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PLE_QUEMGN_QEMPTY : info = & dbg_port_ple_quemgn_qempty ; seq_puts ( m , "Enable ple quemgn qempty dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PKTINFO : info = & dbg_port_pktinfo ; seq_puts ( m , "Enable pktinfo dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX0 : rtw89_write32_mask ( rtwdev , R_AX_DBG_CTRL , B_AX_DBG_SEL0 , 0x80 ) ; rtw89_write32_mask ( rtwdev , R_AX_SYS_STATUS1 , B_AX_SEL_0XC0_MASK , 1 ) ; fallthrough ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX1 : case RTW89_DBG_PORT_SEL_DSPT_HDT_TX2 : case RTW89_DBG_PORT_SEL_DSPT_HDT_TX3 : case RTW89_DBG_PORT_SEL_DSPT_HDT_TX4 : case RTW89_DBG_PORT_SEL_DSPT_HDT_TX5 : info = & dbg_port_dspt_hdt_tx0_5 ; index = sel - RTW89_DBG_PORT_SEL_DSPT_HDT_TX0 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , index ) ; seq_printf ( m , "Enable Dispatcher hdt tx%x dump.\n" , index ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX6 : info = & dbg_port_dspt_hdt_tx6 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 6 ) ; seq_puts ( m , "Enable Dispatcher hdt tx6 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX7 : info = & dbg_port_dspt_hdt_tx7 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 7 ) ; seq_puts ( m , "Enable Dispatcher hdt tx7 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX8 : info = & dbg_port_dspt_hdt_tx8 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 8 ) ; seq_puts ( m , "Enable Dispatcher hdt tx8 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TX9 : case RTW89_DBG_PORT_SEL_DSPT_HDT_TXA : case RTW89_DBG_PORT_SEL_DSPT_HDT_TXB : case RTW89_DBG_PORT_SEL_DSPT_HDT_TXC : info = & dbg_port_dspt_hdt_tx9_C ; index = sel + 9 - RTW89_DBG_PORT_SEL_DSPT_HDT_TX9 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , index ) ; seq_printf ( m , "Enable Dispatcher hdt tx%x dump.\n" , index ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_TXD : info = & dbg_port_dspt_hdt_txD ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 0 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 0xD ) ; seq_puts ( m , "Enable Dispatcher hdt txD dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX0 : info = & dbg_port_dspt_cdt_tx0 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 0 ) ; seq_puts ( m , "Enable Dispatcher cdt tx0 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX1 : info = & dbg_port_dspt_cdt_tx1 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 1 ) ; seq_puts ( m , "Enable Dispatcher cdt tx1 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX3 : info = & dbg_port_dspt_cdt_tx3 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 3 ) ; seq_puts ( m , "Enable Dispatcher cdt tx3 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX4 : info = & dbg_port_dspt_cdt_tx4 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 4 ) ; seq_puts ( m , "Enable Dispatcher cdt tx4 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX5 : case RTW89_DBG_PORT_SEL_DSPT_CDT_TX6 : case RTW89_DBG_PORT_SEL_DSPT_CDT_TX7 : case RTW89_DBG_PORT_SEL_DSPT_CDT_TX8 : info = & dbg_port_dspt_cdt_tx5_8 ; index = sel + 5 - RTW89_DBG_PORT_SEL_DSPT_CDT_TX5 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , index ) ; seq_printf ( m , "Enable Dispatcher cdt tx%x dump.\n" , index ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TX9 : info = & dbg_port_dspt_cdt_tx9 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 9 ) ; seq_puts ( m , "Enable Dispatcher cdt tx9 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_TXA : case RTW89_DBG_PORT_SEL_DSPT_CDT_TXB : case RTW89_DBG_PORT_SEL_DSPT_CDT_TXC : info = & dbg_port_dspt_cdt_txA_C ; index = sel + 0xA - RTW89_DBG_PORT_SEL_DSPT_CDT_TXA ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 1 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , index ) ; seq_printf ( m , "Enable Dispatcher cdt tx%x dump.\n" , index ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_RX0 : info = & dbg_port_dspt_hdt_rx0 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 2 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 0 ) ; seq_puts ( m , "Enable Dispatcher hdt rx0 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_RX1 : case RTW89_DBG_PORT_SEL_DSPT_HDT_RX2 : info = & dbg_port_dspt_hdt_rx1_2 ; index = sel + 1 - RTW89_DBG_PORT_SEL_DSPT_HDT_RX1 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 2 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , index ) ; seq_printf ( m , "Enable Dispatcher hdt rx%x dump.\n" , index ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_RX3 : info = & dbg_port_dspt_hdt_rx3 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 2 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 3 ) ; seq_puts ( m , "Enable Dispatcher hdt rx3 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_RX4 : info = & dbg_port_dspt_hdt_rx4 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 2 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 4 ) ; seq_puts ( m , "Enable Dispatcher hdt rx4 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_HDT_RX5 : info = & dbg_port_dspt_hdt_rx5 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 2 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 5 ) ; seq_puts ( m , "Enable Dispatcher hdt rx5 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_RX_P0_0 : info = & dbg_port_dspt_cdt_rx_p0_0 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 3 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 0 ) ; seq_puts ( m , "Enable Dispatcher cdt rx part0 0 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_RX_P0 : case RTW89_DBG_PORT_SEL_DSPT_CDT_RX_P0_1 : info = & dbg_port_dspt_cdt_rx_p0_1 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 3 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 1 ) ; seq_puts ( m , "Enable Dispatcher cdt rx part0 1 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_RX_P0_2 : info = & dbg_port_dspt_cdt_rx_p0_2 ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 3 ) ; rtw89_write16_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_CH_SEL_MASK , 2 ) ; seq_puts ( m , "Enable Dispatcher cdt rx part0 2 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_CDT_RX_P1 : info = & dbg_port_dspt_cdt_rx_p1 ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 3 ) ; seq_puts ( m , "Enable Dispatcher cdt rx part1 dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_STF_CTRL : info = & dbg_port_dspt_stf_ctrl ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 4 ) ; seq_puts ( m , "Enable Dispatcher stf control dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_ADDR_CTRL : info = & dbg_port_dspt_addr_ctrl ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 5 ) ; seq_puts ( m , "Enable Dispatcher addr control dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_WDE_INTF : info = & dbg_port_dspt_wde_intf ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 6 ) ; seq_puts ( m , "Enable Dispatcher wde interface dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_PLE_INTF : info = & dbg_port_dspt_ple_intf ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 7 ) ; seq_puts ( m , "Enable Dispatcher ple interface dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_DSPT_FLOW_CTRL : info = & dbg_port_dspt_flow_ctrl ; rtw89_write8_mask ( rtwdev , info -> sel_addr , B_AX_DISPATCHER_INTN_SEL_MASK , 8 ) ; seq_puts ( m , "Enable Dispatcher flow control dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_TXDMA : info = & dbg_port_pcie_txdma ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_TXDMA_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_TXDMA_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie txdma dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_RXDMA : info = & dbg_port_pcie_rxdma ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_RXDMA_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_RXDMA_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie rxdma dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_CVT : info = & dbg_port_pcie_cvt ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_CVT_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_CVT_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie cvt dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_CXPL : info = & dbg_port_pcie_cxpl ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_CXPL_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_CXPL_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie cxpl dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_IO : info = & dbg_port_pcie_io ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_IO_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_IO_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie io dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_MISC : info = & dbg_port_pcie_misc ; val32 = rtw89_read32 ( rtwdev , R_AX_DBG_CTRL ) ; val32 = u32_replace_bits ( val32 , PCIE_MISC_DBG_SEL , B_AX_DBG_SEL0 ) ; val32 = u32_replace_bits ( val32 , PCIE_MISC_DBG_SEL , B_AX_DBG_SEL1 ) ; rtw89_write32 ( rtwdev , R_AX_DBG_CTRL , val32 ) ; seq_puts ( m , "Enable pcie misc dump.\n" ) ; break ; case RTW89_DBG_PORT_SEL_PCIE_MISC2 : info = & dbg_port_pcie_misc2 ; val16 = rtw89_read16 ( rtwdev , R_AX_PCIE_DBG_CTRL ) ; val16 = u16_replace_bits ( val16 , PCIE_MISC2_DBG_SEL , B_AX_PCIE_DBG_SEL_MASK ) ; rtw89_write16 ( rtwdev , R_AX_PCIE_DBG_CTRL , val16 ) ; seq_puts ( m , "Enable pcie misc2 dump.\n" ) ; break ; default : return NULL ; } return info ; } 