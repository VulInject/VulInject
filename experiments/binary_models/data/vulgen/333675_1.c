int BotLoadWeaponWeights ( int weaponstate , char * filename ) { bot_weaponstate_t * ws ; ws = BotWeaponStateFromHandle ( weaponstate ) ; BotFreeWeaponWeights ( weaponstate ) ; ws -> weaponweightconfig = ReadWeightConfig ( filename ) ; if ( ! ws -> weaponweightconfig ) { botimport . Print ( PRT_FATAL , "couldn't load weapon config %s\n" , filename ) ; return BLERR_CANNOTLOADWEAPONWEIGHTS ; } if ( ! weaponconfig ) { return BLERR_CANNOTLOADWEAPONCONFIG ; } ws -> weaponweightindex = WeaponWeightIndex ( ws -> weaponweightconfig , weaponconfig ) ; return BLERR_NOERROR ; } 