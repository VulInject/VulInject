void unsetv1 ( struct varent * p ) { struct varent * c , * pp ; int f ; tprintf ( "TRACE- unsetv1()\n" ) ; blkfree ( p -> vec ) ; if ( p -> v_right == 0 ) { c = p -> v_left ; } if ( p -> v_left == 0 ) { c = p -> v_right ; } else { for ( c = p -> v_left ; c -> v_right ; c = c -> v_right ) { } p -> v_name = c -> v_name ; p -> vec = c -> vec ; p = c ; c = p -> v_left ; } pp = p -> v_parent ; f = pp -> v_right == p ; if ( pp -> v_link [ f ] = c ) { c -> v_parent = pp ; } xfree ( p ) ; balance ( pp , f , 1 ) ; } 