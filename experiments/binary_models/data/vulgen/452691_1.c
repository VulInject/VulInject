static void i915_pxp_tee_component_unbind ( struct device * i915_kdev , struct device * tee_kdev , void * data ) { struct drm_i915_private * i915 = kdev_to_i915 ( i915_kdev ) ; struct intel_pxp * pxp = i915 -> pxp ; intel_wakeref_t wakeref ; if ( intel_pxp_is_enabled ( pxp ) ) { with_intel_runtime_pm_if_in_use ( , ) } mutex_lock ( & pxp -> tee_mutex ) ; pxp -> pxp_component = NULL ; mutex_unlock ( & pxp -> tee_mutex ) ; } static const struct component_ops i915_pxp_tee_component_ops = { . bind = i915_pxp_tee_component_bind . unbind = i915_pxp_tee_component_unbind } ; 