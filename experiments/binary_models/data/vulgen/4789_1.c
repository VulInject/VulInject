* This program is free software ; you can redistribute it and / or modify it * under the terms of the GNU General Public License version 2 as published * by the Free Software Foundation . * / static char prog [ LEN_MAX ] ; static void do_exec ( unsigned long parent_dscr ) { unsigned long cur_dscr , cur_dscr_usr ; cur_dscr = get_dscr ( ) ; cur_dscr_usr = get_dscr_usr ( ) ; if ( cur_dscr != parent_dscr ) { fprintf ( stderr , "Parent DSCR %ld was not inherited " "over exec (kernel value)\n" , parent_dscr ) ; exit ( 1 ) ; } if ( cur_dscr_usr != parent_dscr ) { fprintf ( stderr , "Parent DSCR %ld was not inherited " "over exec (user value)\n" , parent_dscr ) ; exit ( 1 ) ; } } 