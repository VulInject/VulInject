rewind_source * init_libpq_source ( PGconn * conn ) { libpq_source * src ; init_libpq_conn ( conn ) ; src = pg_malloc0 ( sizeof ( libpq_source ) ) ; src -> common . traverse_files = libpq_traverse_files ; src -> common . fetch_file = libpq_fetch_file ; src -> common . queue_fetch_file = libpq_queue_fetch_file ; src -> common . queue_fetch_range = libpq_queue_fetch_range ; src -> common . finish_fetch = libpq_finish_fetch ; src -> common . get_current_wal_insert_lsn = libpq_get_current_wal_insert_lsn ; src -> common . destroy = libpq_destroy ; src -> conn = conn ; initStringInfo ( & src -> paths ) ; initStringInfo ( & src -> offsets ) ; return & src -> common ; } 