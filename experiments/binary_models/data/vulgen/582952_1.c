char * ns_printer_name_list ( const ns_printer_t * printer ) { char buf [ BUFSIZ ] ; if ( ( printer == NULL ) || ( printer -> name == NULL ) ) { return ( NULL ) ; } if ( snprintf ( buf , sizeof ( buf ) , "%s|" , printer -> name ) >= sizeof ( buf ) ) { syslog ( LOG_ERR , "ns_printer_name:buffer overflow" ) ; return ( NULL ) ; } list_iterate ( ( void * * ) printer -> aliases , _ns_append_printer_name , buf , sizeof ( buf ) ) ; return ( strdup ( buf ) ) ; } 