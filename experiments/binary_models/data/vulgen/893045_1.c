static u8 HT_PickMCSRate ( struct ieee80211_device * ieee , u8 * pOperateMCS ) { if ( ! pOperateMCS ) { IEEE80211_DEBUG ( IEEE80211_DL_ERR , "pOperateMCS can't be null in %s\n" , __func__ ) ; return false ; } switch ( ieee -> mode ) { case IEEE_A : case IEEE_B : case IEEE_G : break ; case IEEE_N_24G : case IEEE_N_5G : pOperateMCS [ 0 ] &= RATE_ADPT_1SS_MASK ; pOperateMCS [ 1 ] &= RATE_ADPT_2SS_MASK ; pOperateMCS [ 3 ] &= RATE_ADPT_MCS32_MASK ; break ; default : break ; } return true ; } 