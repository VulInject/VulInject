static void dw_spi_init_mem_ops ( struct dw_spi * dws ) { if ( ! dws -> mem_ops . exec_op && ! ( dws -> caps & DW_SPI_CAP_CS_OVERRIDE ) && ! dws -> set_cs ) { dws -> mem_ops . adjust_op_size = dw_spi_adjust_mem_op_size ; dws -> mem_ops . supports_op = dw_spi_supports_mem_op ; dws -> mem_ops . exec_op = dw_spi_exec_mem_op ; } } 