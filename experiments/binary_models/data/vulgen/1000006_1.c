static u32 ath9k_hw_ar9287_get_eeprom ( struct ath_hw * ah , enum eeprom_param param ) { struct ar9287_eeprom * eep = & ah -> eeprom . map9287 ; struct modal_eep_ar9287_header * pModal = & eep -> modalHeader ; struct base_eep_ar9287_header * pBase = & eep -> baseEepHeader ; switch ( param ) { case EEP_NFTHRESH_2 : return pModal -> noiseFloorThreshCh [ 0 ] ; case EEP_MAC_LSW : return get_unaligned_be16 ( pBase -> macAddr ) ; case EEP_MAC_MID : return get_unaligned_be16 ( pBase -> macAddr + 2 ) ; case EEP_MAC_MSW : return get_unaligned_be16 ( pBase -> macAddr + 4 ) ; case EEP_REG_0 : return le16_to_cpu ( pBase -> regDmn [ 0 ] ) ; case EEP_OP_CAP : return le16_to_cpu ( pBase -> deviceCap ) ; case EEP_OP_MODE : return pBase -> opCapFlags ; case EEP_RF_SILENT : return le16_to_cpu ( pBase -> rfSilent ) ; case EEP_TX_MASK : return pBase -> txMask ; case EEP_RX_MASK : return pBase -> rxMask ; case EEP_DEV_TYPE : return pBase -> deviceType ; case EEP_OL_PWRCTRL : return pBase -> openLoopPwrCntl ; case EEP_TEMPSENSE_SLOPE : if ( ver_minor >= AR9287_EEP_MINOR_VER_2 ) { return pBase -> tempSensSlope ; } else { return 0 ; } case EEP_TEMPSENSE_SLOPE_PAL_ON : if ( ver_minor >= AR9287_EEP_MINOR_VER_3 ) { return pBase -> tempSensSlopePalOn ; } else { return 0 ; } case EEP_ANTENNA_GAIN_2G : return max_t ( u8 , pModal -> antennaGainCh [ 0 ] , pModal -> antennaGainCh [ 1 ] ) ; default : return 0 ; } } 