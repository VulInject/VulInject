PGFileType get_dirent_type ( const char * path , const struct dirent * de , bool look_through_symlinks , int elevel ) { PGFileType result ; if ( de -> d_type == DT_REG ) { result = PGFILETYPE_REG ; } if ( de -> d_type == DT_DIR ) { result = PGFILETYPE_DIR ; } if ( de -> d_type == DT_LNK && ! look_through_symlinks ) { result = PGFILETYPE_LNK ; } else { result = PGFILETYPE_UNKNOWN ; } result = PGFILETYPE_UNKNOWN ; return result ; } 