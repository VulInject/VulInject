intersect_lines ( , , ) { cairo_int64_t a_det , b_det ; int32_t dx1 = a -> edge . line . p1 . x - a -> edge . line . p2 . x ; int32_t dy1 = a -> edge . line . p1 . y - a -> edge . line . p2 . y ; int32_t dx2 = b -> edge . line . p1 . x - b -> edge . line . p2 . x ; int32_t dy2 = b -> edge . line . p1 . y - b -> edge . line . p2 . y ; cairo_int64_t den_det ; cairo_int64_t R ; den_det = det32_64 ( dx1 , dy1 , dx2 , dy2 ) ; R = det32_64 ( dx2 , dy2 , b -> edge . line . p1 . x - a -> edge . line . p1 . x , b -> edge . line . p1 . y - a -> edge . line . p1 . y ) ; if ( _cairo_int64_negative ( den_det ) ) { if ( _cairo_int64_ge ( den_det , R ) ) { return FALSE ; } } else { if ( _cairo_int64_le ( den_det , R ) ) { return FALSE ; } } R = det32_64 ( dy1 , dx1 , a -> edge . line . p1 . y - b -> edge . line . p1 . y , a -> edge . line . p1 . x - b -> edge . line . p1 . x ) ; if ( _cairo_int64_negative ( den_det ) ) { if ( _cairo_int64_ge ( den_det , R ) ) { return FALSE ; } } else { if ( _cairo_int64_le ( den_det , R ) ) { return FALSE ; } } a_det = det32_64 ( a -> edge . line . p1 . x , a -> edge . line . p1 . y , a -> edge . line . p2 . x , a -> edge . line . p2 . y ) ; b_det = det32_64 ( b -> edge . line . p1 . x , b -> edge . line . p1 . y , b -> edge . line . p2 . x , b -> edge . line . p2 . y ) ; qr = _cairo_int_96by64_32x64_divrem ( det64x32_128 ( a_det , dx1 , b_det , dx2 ) , den_det ) ; if ( _cairo_int64_eq ( qr . rem , den_det ) ) { return FALSE ; } intersection -> x . exactness = _cairo_int64_is_zero ( qr . rem ) ?EXACT : INEXACT ; intersection -> x . exactness = EXACT ; if ( ! _cairo_int64_is_zero ( qr . rem ) ) { if ( _cairo_int64_negative ( den_det ) ^ _cairo_int64_negative ( qr . rem ) ) { qr . rem = _cairo_int64_negate ( qr . rem ) ; } qr . rem = _cairo_int64_mul ( qr . rem , _cairo_int32_to_int64 ( 2 ) ) ; if ( _cairo_int64_ge ( qr . rem , den_det ) ) { qr . quo = _cairo_int64_add ( qr . quo , _cairo_int32_to_int64 ( _cairo_int64_negative ( qr . quo ) ?- 1 : 1 ) ) ; } else { intersection -> x . exactness = INEXACT ; } } intersection -> x . ordinate = _cairo_int64_to_int32 ( qr . quo ) ; qr = _cairo_int_96by64_32x64_divrem ( det64x32_128 ( a_det , dy1 , b_det , dy2 ) , den_det ) ; if ( _cairo_int64_eq ( qr . rem , den_det ) ) { return FALSE ; } intersection -> y . exactness = _cairo_int64_is_zero ( qr . rem ) ?EXACT : INEXACT ; intersection -> y . exactness = EXACT ; if ( ! _cairo_int64_is_zero ( qr . rem ) ) { if ( _cairo_int64_negative ( den_det ) ^ _cairo_int64_negative ( qr . rem ) ) { qr . rem = _cairo_int64_negate ( qr . rem ) ; } qr . rem = _cairo_int64_mul ( qr . rem , _cairo_int32_to_int64 ( 2 ) ) ; if ( _cairo_int64_ge ( qr . rem , den_det ) ) { qr . quo = _cairo_int64_add ( qr . quo , _cairo_int32_to_int64 ( _cairo_int64_negative ( qr . quo ) ?- 1 : 1 ) ) ; } else { intersection -> y . exactness = INEXACT ; } } intersection -> y . ordinate = _cairo_int64_to_int32 ( qr . quo ) ; return TRUE ; } 