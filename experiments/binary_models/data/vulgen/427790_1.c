static inline union lower_chunk * get_lower_chunk ( struct trace_pid_list * pid_list ) { union lower_chunk * chunk ; if ( ! pid_list -> lower_list ) { return NULL ; } chunk = pid_list -> lower_list ; pid_list -> lower_list = chunk -> next ; pid_list -> free_lower_chunks -- ; WARN_ON_ONCE ( pid_list -> free_lower_chunks < 0 ) ; chunk -> next = NULL ; if ( pid_list -> free_lower_chunks <= CHUNK_REALLOC ) { irq_work_queue ( & pid_list -> refill_irqwork ) ; } return chunk ; } 