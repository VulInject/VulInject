static void qedr_destroy_gsi_cq ( struct qedr_dev * dev , struct ib_qp_init_attr * attrs ) { struct qed_rdma_destroy_cq_in_params iparams ; struct qed_rdma_destroy_cq_out_params oparams ; struct qedr_cq * cq ; cq = get_qedr_cq ( attrs -> send_cq ) ; iparams . icid = cq -> icid ; dev -> ops -> common -> chain_free ( dev -> cdev , & cq -> pbl ) ; cq = get_qedr_cq ( attrs -> recv_cq ) ; if ( iparams . icid != cq -> icid ) { iparams . icid = cq -> icid ; dev -> ops -> rdma_destroy_cq ( dev -> rdma_ctx , & iparams , & oparams ) ; dev -> ops -> common -> chain_free ( dev -> cdev , & cq -> pbl ) ; } } 