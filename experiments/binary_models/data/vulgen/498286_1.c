size_t M_parser_consume_whitespace ( M_parser_t * parser , M_uint32 flags ) { size_t i ; for ( i = 0 ; i < parser -> data_len ; i ++ ) { if ( flags & M_PARSER_WHITESPACE_TO_NEWLINE && parser -> data [ i ] == '\n' ) { i ++ ; break ; } if ( flags & M_PARSER_WHITESPACE_SPACEONLY ) { if ( parser -> data [ i ] != ' ' ) { break ; } } else { if ( ! M_chr_isspace ( ( char ) parser -> data [ i ] ) ) { break ; } } } M_parser_consume ( parser , i ) ; return i ; } 