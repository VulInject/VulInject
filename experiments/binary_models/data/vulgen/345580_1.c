is_sysrooted_pathname ( , ) { char * realname = ld_canon_sysroot ?lrealpath ( name ) : NULL ; int len ; bfd_boolean result ; len = strlen ( realname ) ; if ( ( ( ! notsame && len == ld_canon_sysroot_len ) || ( len >= ld_canon_sysroot_len && IS_DIR_SEPARATOR ( realname [ ld_canon_sysroot_len ] ) && ( realname [ ld_canon_sysroot_len ] = '\0' ) == '\0' ) ) && FILENAME_CMP ( ld_canon_sysroot , realname ) == 0 ) { result = TRUE ; } else { result = FALSE ; } if ( realname ) { free ( realname ) ; } return result ; } 