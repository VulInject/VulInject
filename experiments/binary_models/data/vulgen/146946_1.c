static void __init at91_reset_status ( struct platform_device * pdev ) { u32 reg = readl ( at91_rstc_base + AT91_RSTC_SR ) ; char * reason ; switch ( ( reg & AT91_RSTC_RSTTYP ) >> 8 ) { case RESET_TYPE_GENERAL : reason = "general reset" ; break ; case RESET_TYPE_WAKEUP : reason = "wakeup" ; break ; case RESET_TYPE_WATCHDOG : reason = "watchdog reset" ; break ; case RESET_TYPE_SOFTWARE : reason = "software reset" ; break ; case RESET_TYPE_USER : reason = "user reset" ; break ; default : reason = "unknown reset" ; break ; } } static const struct of_device_id at91_ramc_of_match [ ] { { . compatible = "atmel,at91sam9260-sdramc" } { . compatible = "atmel,at91sam9g45-ddramc" } { } } ; ; 