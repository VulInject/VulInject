static int pyra_init_pyra_device_struct ( struct usb_device * usb_dev , struct pyra_device * pyra ) { struct pyra_settings settings ; int retval , i ; retval = pyra_get_settings ( usb_dev , & settings ) ; if ( retval ) { return retval ; } for ( i = 0 ; i < 5 ; ++ i ) { retval = pyra_get_profile_settings ( usb_dev , & pyra -> profile_settings [ i ] , i ) ; if ( retval ) { return retval ; } } profile_activated ( pyra , settings . startup_profile ) ; return 0 ; } 