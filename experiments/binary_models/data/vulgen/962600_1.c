void test_filebuf__1 ( void ) { git_filebuf file = GIT_FILEBUF_INIT ; char test [ ] "test" ; ; cl_git_mkfile ( test , "libgit2 rocks\n" ) ; cl_git_pass ( git_filebuf_open ( & file , test , GIT_FILEBUF_APPEND , 0666 ) ) ; cl_git_pass ( git_filebuf_printf ( & file , "%s\n" , "libgit2 rocks" ) ) ; cl_git_pass ( git_filebuf_commit ( & file ) ) ; cl_assert_equal_file ( "libgit2 rocks\nlibgit2 rocks\n" , 0 , test ) ; } 