static int dup_merg ( struct cfextra * ext1 , struct cfextra * ext2 ) { struct cfent * ept1 , * ept2 ; ept1 = & ( ext1 -> cf_ent ) ; ept2 = & ( ext2 -> cf_ent ) ; if ( strchr ( "?dx" , ept1 -> ftype ) ) { return ( 0 ) ; } if ( strchr ( "?dx" , ept2 -> ftype ) ) { return ( 0 ) ; } if ( ext2 -> mstat . preloaded ) { char * path = ept2 -> path ; char * local = ept2 -> ainfo . local ; short npkgs = ept2 -> npkgs ; struct pinfo * pinfo = ept2 -> pinfo ; ( void ) memcpy ( ept2 , ept1 , sizeof ( cfent ) ) ; ept2 -> path = path ; ept2 -> ainfo . local = local ; ept2 -> npkgs = npkgs ; ept2 -> pinfo = pinfo ; } if ( ext1 -> mstat . preloaded ) { ept2 -> pinfo = ept1 -> pinfo ; size_xchng ( ext1 , ext2 ) ; } else { return ( 0 ) ; } return ( 1 ) ; } 