static void tem_text_display ( struct tem_vt_state * tem __unused , term_char_t * string , int count , screen_pos_t row , screen_pos_t col ) { struct vis_consdisplay da ; int i ; tem_char_t c ; text_color_t bg , fg ; da . data = ( unsigned char * ) & c ; da . width = 1 ; da . row = row ; da . col = col ; for ( i = 0 ; i < count ; i ++ ) { tem_get_color ( tem , & fg , & bg , & string [ i ] ) ; tem_set_color ( & fg , & da . fg_color ) ; tem_set_color ( & bg , & da . bg_color ) ; c = TEM_CHAR ( string [ i ] . tc_char ) ; tems_display ( & da ) ; da . col ++ ; } } 