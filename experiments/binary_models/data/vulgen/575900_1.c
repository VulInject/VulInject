static void smu_v11_0_i2c_abort ( struct i2c_adapter * control ) { struct amdgpu_smu_i2c_bus * smu_i2c = i2c_get_adapdata ( control ) ; struct amdgpu_device * adev = smu_i2c -> adev ; uint32_t reg ; reg = REG_SET_FIELD ( reg , CKSVII2C_IC_ENABLE , ENABLE , 1 ) ; WREG32_SOC15 ( SMUIO , 0 , mmCKSVII2C_IC_ENABLE , reg ) ; reg = REG_SET_FIELD ( reg , CKSVII2C_IC_ENABLE , ABORT , 1 ) ; WREG32_SOC15 ( SMUIO , 0 , mmCKSVII2C_IC_ENABLE , reg ) ; DRM_DEBUG_DRIVER ( "I2C_Abort() Done." ) ; } 