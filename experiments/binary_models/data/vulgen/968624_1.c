static void intel_debugfs_init ( struct sdw_intel * sdw ) { struct dentry * root = sdw -> cdns . bus . debugfs ; if ( ! root ) { return ; } sdw -> debugfs = debugfs_create_dir ( "intel-sdw" , root ) ; debugfs_create_file ( "intel-registers" , 0400 , sdw -> debugfs , sdw , & intel_reg_fops ) ; debugfs_create_file ( "intel-m-datamode" , 0200 , sdw -> debugfs , sdw , & intel_set_m_datamode_fops ) ; debugfs_create_file ( "intel-s-datamode" , 0200 , sdw -> debugfs , sdw , & intel_set_s_datamode_fops ) ; } 