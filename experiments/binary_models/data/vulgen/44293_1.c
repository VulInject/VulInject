xtensa_funcUnit_use * xtensa_opcode_funcUnit_use ( xtensa_isa isa , xtensa_opcode opc , int u ) { xtensa_isa_internal * intisa = ( xtensa_isa_internal * ) isa ; CHECK_OPCODE ( intisa , opc , NULL ) ; if ( u < 0 || u >= intisa -> opcodes [ opc ] . num_funcUnit_uses ) { sprintf ( xtisa_error_msg , "invalid functional unit use number (%d); " "opcode \"%s\" has %d" , u , intisa -> opcodes [ opc ] . name , intisa -> opcodes [ opc ] . num_funcUnit_uses ) ; return NULL ; } return & intisa -> opcodes [ opc ] . funcUnit_uses [ u ] ; } 