cris_gen_movem_load ( , , ) { int nregs = INTVAL ( nregs_rtx ) ; rtvec vec ; int eltno = 1 ; int i ; rtx srcreg = XEXP ( src , 0 ) ; int regno_inc = - 1 ; if ( GET_CODE ( srcreg ) == POST_INC ) { srcreg = XEXP ( srcreg , 0 ) ; } CRIS_ASSERT ( REG_P ( srcreg ) ) ; if ( nregs == 1 ) { return gen_movsi ( gen_rtx_REG ( SImode , 0 ) , src ) ; } vec = rtvec_alloc ( nprefix + nregs + ( GET_CODE ( XEXP ( src , 0 ) ) == POST_INC ) ) ; if ( GET_CODE ( XEXP ( src , 0 ) ) == POST_INC ) { RTVEC_ELT ( vec , nprefix + 1 ) = gen_rtx_SET ( VOIDmode , srcreg , plus_constant ( srcreg , nregs * 4 ) ) ; eltno ++ ; } src = replace_equiv_address ( src , srcreg ) ; RTVEC_ELT ( vec , nprefix ) = gen_rtx_SET ( VOIDmode , gen_rtx_REG ( SImode , regno ) , src ) ; regno += regno_inc ; for ( i = 1 ; i < nregs ; i ++ , eltno ++ ) { RTVEC_ELT ( vec , nprefix + eltno ) = gen_rtx_SET ( VOIDmode , gen_rtx_REG ( SImode , regno ) , adjust_address_nv ( src , SImode , i * 4 ) ) ; regno += regno_inc ; } return gen_rtx_PARALLEL ( VOIDmode , vec ) ; } 