void v_emsg ( SCR * sp , char * p , vim_t which ) { switch ( which ) { case VIM_COMBUF : msgq ( sp , M_ERR , "Buffers should be specified before the command" ) ; break ; case VIM_EMPTY : msgq ( sp , M_BERR , "The file is empty" ) ; break ; case VIM_EOF : msgq ( sp , M_BERR , "Already at end-of-file" ) ; break ; case VIM_EOL : msgq ( sp , M_BERR , "Already at end-of-line" ) ; break ; case VIM_NOCOM : case VIM_NOCOM_B : msgq ( sp , which == VIM_NOCOM_B ?M_BERR : M_ERR , "%s isn't a vi command" , p ) ; break ; case VIM_WRESIZE : msgq ( sp , M_ERR , "Window resize interrupted text input mode" ) ; break ; case VIM_USAGE : break ; } } 