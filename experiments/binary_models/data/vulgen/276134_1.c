DUK_LOCAL void duk__run_voluntary_gc ( duk_heap * heap ) { if ( DUK_HEAP_HAS_MARKANDSWEEP_RUNNING ( heap ) ) { DUK_DD ( DUK_DDPRINT ( "mark-and-sweep in progress ->skip voluntary mark-and-sweep now" ) ) ; } else { duk_small_uint_t flags ; duk_bool_t rc ; DUK_D ( DUK_DPRINT ( "triggering voluntary mark-and-sweep" ) ) ; rc = duk_heap_mark_and_sweep ( heap , flags ) ; DUK_UNREF ( rc ) ; } } 