static int win32_path_iter_next ( const wchar_t * * out , size_t * out_len , struct win32_path_iter * iter ) { const wchar_t * start ; wchar_t term ; size_t len = 0 ; term = ( * iter -> current_dir == L '"' ) ?* iter -> current_dir ++ : L ';' ; start = iter -> current_dir ; while ( * iter -> current_dir && * iter -> current_dir != term ) { iter -> current_dir ++ ; len ++ ; } * out = start ; * out_len = len ; if ( term == L '"' && * iter -> current_dir ) { iter -> current_dir ++ ; } while ( * iter -> current_dir == L ';' ) { iter -> current_dir ++ ; } return 0 ; } 