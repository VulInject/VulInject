int main ( int argc , char * argv [ ] ) { int i ; int size , rank ; time_t now ; MPI_Init ( & argc , & argv ) ; MPI_Comm_size ( MPI_COMM_WORLD , & size ) ; MPI_Comm_rank ( MPI_COMM_WORLD , & rank ) ; for ( i = 0 ; i < ITERATIONS ; i ++ ) { if ( i ) { sleep ( 1 ) ; } pass_its_neighbor ( rank , size ) ; if ( ( ITERATIONS > 1 ) && ( rank == 0 ) ) { static time_t last_time = 0 ; now = time ( NULL ) ; printf ( "Iteration:%d Time:%s" , i , ctime ( & now ) ) ; last_time = now ; } } MPI_Finalize ( ) ; return 0 ; } 