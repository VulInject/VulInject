obj_som_version ( ) int unused ; { char * version , c ; if ( version_seen ) { as_bad ( _ ( "Only one .version pseudo-op per file!" ) ) ; ignore_rest_of_line ( ) ; return ; } SKIP_WHITESPACE ( ) ; if ( * input_line_pointer == '\"' ) { version = input_line_pointer ; ++ input_line_pointer ; while ( is_a_char ( next_char_of_string ( ) ) ) { } c = * input_line_pointer ; * input_line_pointer = '\000' ; } else { as_bad ( _ ( "Expected quoted string" ) ) ; ignore_rest_of_line ( ) ; return ; } version_seen = 1 ; if ( ! bfd_som_attach_aux_hdr ( stdoutput , VERSION_AUX_ID , version ) ) { as_perror ( _ ( "FATAL: Attaching version header %s" ) , stdoutput -> filename ) ; exit ( EXIT_FAILURE ) ; } * input_line_pointer = c ; demand_empty_rest_of_line ( ) ; } 