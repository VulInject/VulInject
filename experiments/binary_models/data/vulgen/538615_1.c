int mgt_commit_list ( islpci_private * priv , enum oid_num_t * l , int n ) { int i , ret = 0 ; struct islpci_mgmtframe * response ; for ( i = 0 ; i < n ; i ++ ) { struct oid_t * t = & ( isl_oid [ l [ i ] ] ) ; void * data = priv -> mib [ l [ i ] ] ; int j = 0 ; u32 oid = t -> oid ; BUG_ON ( data == NULL ) ; while ( j <= t -> range ) { if ( response ) { r |= ( response -> header -> operation == PIMFOR_OP_ERROR ) ; islpci_mgt_release ( response ) ; } if ( r ) { printk ( KERN_ERR "%s: mgt_commit_list: failure. " "oid=%08x err=%d\n" , priv -> ndev -> name , oid , r ) ; } ret |= r ; j ++ ; oid ++ ; data += t -> size ; } } return ret ; } 