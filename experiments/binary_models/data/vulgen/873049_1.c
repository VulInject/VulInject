int dbt_table_free ( dbt_table_p _dtp ) { dbt_column_p _cp = NULL , _cp0 = NULL ; if ( ! _dtp ) { return - 1 ; } if ( _dtp -> name . s ) { shm_free ( _dtp -> name . s ) ; } if ( _dtp -> dbname . s ) { shm_free ( _dtp -> dbname . s ) ; } if ( _dtp -> rows && _dtp -> nrrows > 0 ) { dbt_table_free_rows ( _dtp ) ; } _cp = _dtp -> cols ; while ( _cp ) { _cp0 = _cp ; _cp = _cp -> next ; dbt_column_free ( _cp0 ) ; } shm_free ( _dtp ) ; return 0 ; } 