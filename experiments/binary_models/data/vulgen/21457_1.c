static int dpif_netlink_enumerate ( struct sset * all_dps , const struct dpif_class * dpif_class OVS_UNUSED ) { struct nl_dump dump ; uint64_t reply_stub [ NL_DUMP_BUFSIZE / 8 ] ; struct ofpbuf msg , buf ; int error ; error = dpif_netlink_init ( ) ; if ( error ) { return error ; } dpif_netlink_dp_dump_start ( & dump ) ; while ( nl_dump_next ( & dump , & msg , & buf ) ) { struct dpif_netlink_dp dp ; if ( ! dpif_netlink_dp_from_ofpbuf ( & dp , & msg ) ) { sset_add ( all_dps , dp . name ) ; } } ofpbuf_uninit ( & buf ) ; return nl_dump_done ( & dump ) ; } 