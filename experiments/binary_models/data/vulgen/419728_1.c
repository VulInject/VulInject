static void __init dir_utime ( void ) { struct dir_entry * de , * tmp ; list_for_each_entry_safe ( , , , ) { list_del ( & de -> list ) ; do_utime ( de -> name , de -> mtime ) ; kfree ( de ) ; } } static __initdata time_t mtime ; static __initdata unsigned long ino , major , minor , nlink ; static __initdata umode_t mode ; static __initdata unsigned long body_len , name_len ; static __initdata uid_t uid ; static __initdata gid_t gid ; static __initdata unsigned rdev ; static void __init parse_header ( char * s ) { unsigned long parsed [ 12 ] ; char buf [ 9 ] ; int i ; buf [ 8 ] = '\0' ; for ( i = 0 , s += 6 ; i < 12 ; i ++ , s += 8 ) { memcpy ( buf , s , 8 ) ; parsed [ i ] = simple_strtoul ( buf , NULL , 16 ) ; } ino = parsed [ 0 ] ; mode = parsed [ 1 ] ; uid = parsed [ 2 ] ; gid = parsed [ 3 ] ; nlink = parsed [ 4 ] ; mtime = parsed [ 5 ] ; body_len = parsed [ 6 ] ; major = parsed [ 7 ] ; minor = parsed [ 8 ] ; rdev = new_encode_dev ( MKDEV ( parsed [ 9 ] , parsed [ 10 ] ) ) ; name_len = parsed [ 11 ] ; } 