static int xfs_fs_set_info ( struct super_block * sb , int type , struct qc_info * info ) { struct xfs_mount * mp = XFS_M ( sb ) ; struct qc_dqblk newlim ; if ( sb_rdonly ( sb ) ) { return - EROFS ; } if ( info -> i_fieldmask & ~ XFS_QC_SETINFO_MASK ) { return - EINVAL ; } if ( ( info -> i_fieldmask & XFS_QC_SETINFO_MASK ) == 0 ) { return 0 ; } newlim . d_fieldmask = info -> i_fieldmask ; newlim . d_spc_timer = info -> i_spc_timelimit ; newlim . d_ino_timer = info -> i_ino_timelimit ; newlim . d_rt_spc_timer = info -> i_rt_spc_timelimit ; newlim . d_ino_warns = info -> i_ino_warnlimit ; newlim . d_spc_warns = info -> i_spc_warnlimit ; newlim . d_rt_spc_warns = info -> i_rt_spc_warnlimit ; return xfs_qm_scall_setqlim ( mp , 0 , xfs_quota_type ( type ) , & newlim ) ; } 