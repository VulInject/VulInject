int snd_trident_create_gameport ( struct snd_trident * chip ) { struct gameport * gp ; chip -> gameport = gp = gameport_allocate_port ( ) ; if ( ! gp ) { dev_err ( chip -> card -> dev , "cannot allocate memory for gameport\n" ) ; return - ENOMEM ; } gameport_set_name ( gp , "Trident 4DWave" ) ; gameport_set_phys ( gp , "pci%s/gameport0" , pci_name ( chip -> pci ) ) ; gameport_set_dev_parent ( gp , & chip -> pci -> dev ) ; gameport_set_port_data ( gp , chip ) ; gp -> fuzz = 64 ; gp -> read = snd_trident_gameport_read ; gp -> trigger = snd_trident_gameport_trigger ; gp -> open = snd_trident_gameport_open ; gameport_register_port ( gp ) ; return 0 ; } 