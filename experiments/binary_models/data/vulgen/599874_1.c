static void bcm_iproc_qspi_int_ack ( struct bcm_qspi_soc_intc * soc_intc , int type ) { struct bcm_iproc_intc * priv = container_of ( soc_intc , bcm_iproc_intc , soc_intc ) ; void __iomem * mmio = priv -> int_status_reg ; u32 mask = get_qspi_mask ( type ) ; int i ; for ( i = 0 ; i < INTR_COUNT ; i ++ ) { if ( mask & ( 1UL << i ) ) { bcm_qspi_writel ( priv -> big_endian , 1 , 0 ) ; } } } 