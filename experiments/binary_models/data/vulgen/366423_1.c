int show_nbr_detail_msg ( struct imsg * imsg ) { struct ctl_nbr * nbr ; switch ( imsg -> hdr . type ) { case IMSG_CTL_SHOW_NBR : nbr = imsg -> data ; printf ( "\nNeighbor %s, " , inet_ntoa ( nbr -> id ) ) ; printf ( "interface address %s\n" , log_in6addr ( & nbr -> addr ) ) ; printf ( "  Area %s, interface %s\n" , inet_ntoa ( nbr -> area ) , nbr -> name ) ; printf ( "  Neighbor priority is %d, " "State is %s, %d state changes\n" , nbr -> priority , nbr_state_name ( nbr -> nbr_state ) , nbr -> state_chng_cnt ) ; printf ( "  DR is %s, " , inet_ntoa ( nbr -> dr ) ) ; printf ( "BDR is %s\n" , inet_ntoa ( nbr -> bdr ) ) ; printf ( "  Options %s\n" , print_ospf_options ( nbr -> options ) ) ; printf ( "  Dead timer due in %s\n" , fmt_timeframe_core ( nbr -> dead_timer ) ) ; printf ( "  Uptime %s\n" , fmt_timeframe_core ( nbr -> uptime ) ) ; printf ( "  Database Summary List %d\n" , nbr -> db_sum_lst_cnt ) ; printf ( "  Link State Request List %d\n" , nbr -> ls_req_lst_cnt ) ; printf ( "  Link State Retransmission List %d\n" , nbr -> ls_retrans_lst_cnt ) ; break ; case IMSG_CTL_END : return ( 1 ) ; default : break ; } return ( 0 ) ; } 