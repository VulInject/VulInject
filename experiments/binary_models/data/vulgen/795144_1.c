static void rt61pci_clear_entry ( struct queue_entry * entry ) { struct queue_entry_priv_mmio * entry_priv = entry -> priv_data ; u32 word ; if ( entry -> queue -> qid == QID_RX ) { rt2x00_desc_read ( entry_priv -> desc , 5 , & word ) ; rt2x00_set_field32 ( & word , RXD_W5_BUFFER_PHYSICAL_ADDRESS , skbdesc -> skb_dma ) ; rt2x00_desc_write ( entry_priv -> desc , 5 , word ) ; rt2x00_desc_read ( entry_priv -> desc , 0 , & word ) ; rt2x00_set_field32 ( & word , RXD_W0_OWNER_NIC , 1 ) ; rt2x00_desc_write ( entry_priv -> desc , 0 , word ) ; } else { rt2x00_desc_read ( entry_priv -> desc , 0 , & word ) ; rt2x00_set_field32 ( & word , TXD_W0_VALID , 0 ) ; rt2x00_set_field32 ( & word , TXD_W0_OWNER_NIC , 0 ) ; rt2x00_desc_write ( entry_priv -> desc , 0 , word ) ; } } 