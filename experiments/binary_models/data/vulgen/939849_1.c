static void system_time_samplescangetsamplesize ( PlannerInfo * root , RelOptInfo * baserel , List * paramexprs , BlockNumber * pages , double * tuples ) { Node * limitnode ; double millis ; double spc_random_page_cost ; double npages ; double ntuples ; limitnode = ( Node * ) linitial ( paramexprs ) ; limitnode = estimate_expression_value ( root , limitnode ) ; if ( IsA ( limitnode , Const ) && ! ( ( Const * ) limitnode ) -> constisnull ) { if ( millis < 0 || isnan ( millis ) ) { millis = 1000 ; } } else { millis = 1000 ; } get_tablespace_page_costs ( baserel -> reltablespace , & spc_random_page_cost , NULL ) ; if ( spc_random_page_cost > 0 ) { npages = millis / spc_random_page_cost ; } else { npages = millis ; } npages = clamp_row_est ( Min ( ( double ) baserel -> pages , npages ) ) ; if ( baserel -> tuples > 0 && baserel -> pages > 0 ) { double density = baserel -> tuples / ( double ) baserel -> pages ; ntuples = npages * density ; } else { ntuples = npages ; } ntuples = clamp_row_est ( Min ( baserel -> tuples , ntuples ) ) ; * pages = npages ; * tuples = ntuples ; } 