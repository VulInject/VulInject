( mlx4_buf_free ) ; static struct mlx4_db_pgdir * mlx4_alloc_db_pgdir ( struct device * dma_device , gfp_t gfp ) { struct mlx4_db_pgdir * pgdir ; pgdir = kzalloc ( sizeof pgdir , gfp ) ; if ( ! pgdir ) { return NULL ; } pgdir -> bits [ 0 ] = pgdir -> order0 ; pgdir -> bits [ 1 ] = pgdir -> order1 ; pgdir -> db_page = dma_alloc_coherent ( dma_device , PAGE_SIZE , & pgdir -> db_dma , gfp ) ; if ( ! pgdir -> db_page ) { kfree ( pgdir ) ; return NULL ; } return pgdir ; } 