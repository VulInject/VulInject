static void zdma_load_dst_descriptor ( XlnxZDMA * s ) { uint64_t dst_addr ; unsigned int ptype = ARRAY_FIELD_EX32 ( s -> regs , ZDMA_CH_CTRL0 , POINT_TYPE ) ; bool dst_type ; dst_addr = zdma_get_regaddr64 ( s , R_ZDMA_CH_DST_CUR_DSCR_LSB ) ; if ( ! zdma_load_descriptor ( s , dst_addr , & s -> dsc_dst ) ) { ARRAY_FIELD_DP32 ( s -> regs , ZDMA_CH_ISR , AXI_RD_DST_DSCR , true ) ; } dst_type = FIELD_EX32 ( s -> dsc_dst . words [ 3 ] , ZDMA_CH_DST_DSCR_WORD3 , TYPE ) ; zdma_update_descr_addr ( s , dst_type , R_ZDMA_CH_DST_CUR_DSCR_LSB ) ; } 