static int first_shadow_cpu ( struct perf_evsel * evsel , int id ) { int i ; if ( stat_config . aggr_mode == AGGR_NONE ) { return id ; } if ( stat_config . aggr_mode == AGGR_GLOBAL ) { return 0 ; } for ( i = 0 ; i < perf_evsel__nr_cpus ( evsel ) ; i ++ ) { int cpu2 = perf_evsel__cpus ( evsel ) -> map [ i ] ; if ( aggr_get_id ( evsel_list -> cpus , cpu2 ) == id ) { return cpu2 ; } } return 0 ; } 