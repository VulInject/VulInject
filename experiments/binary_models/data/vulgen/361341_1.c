void ospf_generate_indication_lsa ( struct ospf * ospf , struct ospf_area * area ) { bool area_fr_not_supp = false ; area_fr_not_supp = ospf_check_fr_enabled_all ( ospf ) ?false : true ; if ( area_fr_not_supp && ! area -> fr_info . area_ind_lsa_recvd && ! area -> fr_info . indication_lsa_self && ! area -> fr_info . area_dc_clear ) { struct prefix_ipv4 p ; ospf_lsa * new ; p . family = AF_INET ; p . prefix = ospf -> router_id ; p . prefixlen = IPV4_MAX_BITLEN ; new = ospf_summary_asbr_lsa_originate ( & p , OSPF_LS_INFINITY , area ) ; area -> fr_info . indication_lsa_self = new ; } } 