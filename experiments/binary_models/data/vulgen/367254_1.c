void cdns_torrent_dp_pma_cmn_vco_cfg_19_2mhz ( struct cdns_torrent_phy * cdns_phy , u32 rate , bool ssc ) { struct regmap * regmap = cdns_phy -> regmap_common_cdb ; switch ( rate ) { case 2700 : case 5400 : cdns_torrent_phy_write ( regmap , CMN_PLL0_INTDIV_M0 , 0x0119 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVL_M0 , 0x4000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_HIGH_THR_M0 , 0x00BC ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_INTDIV_M0 , 0x0119 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVL_M0 , 0x4000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_HIGH_THR_M0 , 0x00BC ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL1_CTRL_M0 , 0x0012 ) ; if ( ssc ) { cdns_torrent_dp_enable_ssc_19_2mhz ( cdns_phy , 0x033A , 0x006A ) ; } break ; case 1620 : case 2430 : case 3240 : cdns_torrent_phy_write ( regmap , CMN_PLL0_INTDIV_M0 , 0x01FA ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVL_M0 , 0x4000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_HIGH_THR_M0 , 0x0152 ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL0_CTRL_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_INTDIV_M0 , 0x01FA ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVL_M0 , 0x4000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_HIGH_THR_M0 , 0x0152 ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL1_CTRL_M0 , 0x0002 ) ; if ( ssc ) { cdns_torrent_dp_enable_ssc_19_2mhz ( cdns_phy , 0x05DD , 0x0069 ) ; } break ; case 2160 : case 4320 : cdns_torrent_phy_write ( regmap , CMN_PLL0_INTDIV_M0 , 0x01C2 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVL_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_HIGH_THR_M0 , 0x012C ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL0_CTRL_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_INTDIV_M0 , 0x01C2 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVL_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_HIGH_THR_M0 , 0x012C ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL1_CTRL_M0 , 0x0002 ) ; if ( ssc ) { cdns_torrent_dp_enable_ssc_19_2mhz ( cdns_phy , 0x0536 , 0x0069 ) ; } break ; case 8100 : cdns_torrent_phy_write ( regmap , CMN_PLL0_INTDIV_M0 , 0x01A5 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVL_M0 , 0xE000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_HIGH_THR_M0 , 0x011A ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL0_CTRL_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_INTDIV_M0 , 0x01A5 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVL_M0 , 0xE000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_FRACDIVH_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_HIGH_THR_M0 , 0x011A ) ; cdns_torrent_phy_write ( regmap , CMN_PDIAG_PLL1_CTRL_M0 , 0x0002 ) ; if ( ssc ) { cdns_torrent_dp_enable_ssc_19_2mhz ( cdns_phy , 0x04D7 , 0x006A ) ; } break ; } if ( ssc ) { cdns_torrent_phy_write ( regmap , CMN_PLL0_VCOCAL_PLLCNT_START , 0x025E ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_LOCK_PLLCNT_THR , 0x0005 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_VCOCAL_PLLCNT_START , 0x025E ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_LOCK_PLLCNT_THR , 0x0005 ) ; } else { cdns_torrent_phy_write ( regmap , CMN_PLL0_VCOCAL_PLLCNT_START , 0x0260 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_VCOCAL_PLLCNT_START , 0x0260 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_SS_CTRL1_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_SS_CTRL2_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_SS_CTRL3_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_SS_CTRL4_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_LOCK_PLLCNT_THR , 0x0003 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_SS_CTRL1_M0 , 0x0002 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_SS_CTRL2_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_SS_CTRL3_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_SS_CTRL4_M0 , 0x0000 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_LOCK_PLLCNT_THR , 0x0003 ) ; } cdns_torrent_phy_write ( regmap , CMN_PLL0_LOCK_REFCNT_START , 0x0099 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL0_LOCK_PLLCNT_START , 0x0099 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_LOCK_REFCNT_START , 0x0099 ) ; cdns_torrent_phy_write ( regmap , CMN_PLL1_LOCK_PLLCNT_START , 0x0099 ) ; } 