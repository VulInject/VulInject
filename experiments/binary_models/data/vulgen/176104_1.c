int anon_swap_adjust ( pgcnt_t npages ) { pgcnt_t unlocked_mem_swap ; mutex_enter ( & anoninfo_lock ) ; ASSERT ( k_anoninfo . ani_mem_resv >= k_anoninfo . ani_locked_swap ) ; ASSERT ( k_anoninfo . ani_max >= k_anoninfo . ani_phys_resv ) ; unlocked_mem_swap = k_anoninfo . ani_mem_resv - k_anoninfo . ani_locked_swap ; k_anoninfo . ani_locked_swap += npages ; ASSERT ( k_anoninfo . ani_mem_resv >= k_anoninfo . ani_locked_swap ) ; ASSERT ( k_anoninfo . ani_max >= k_anoninfo . ani_phys_resv ) ; mutex_exit ( & anoninfo_lock ) ; return ( 0 ) ; } 