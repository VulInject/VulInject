static struct reserve_info * flat_read_mem_reserve ( struct inbuf * inb ) { struct reserve_info * reservelist = NULL ; reserve_info * new ; struct fdt_reserve_entry re ; while ( 1 ) { uint64_t address , size ; flat_read_chunk ( inb , & re , sizeof ( re ) ) ; address = fdt64_to_cpu ( re . address ) ; size = fdt64_to_cpu ( re . size ) ; new = build_reserve_entry ( address , size ) ; reservelist = add_reserve_entry ( reservelist , new ) ; } return reservelist ; } 