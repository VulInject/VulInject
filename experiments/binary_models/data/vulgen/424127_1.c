skip_colonthing ( , , , , , , ) sign_type sign ; char * ptr ; h8500_operand_info * exp ; int def ; int size8 ; int size16 ; int size24 ; { ptr = parse_exp ( ptr , & exp -> exp , & exp -> page ) ; if ( * ptr == ':' ) { ptr ++ ; if ( * ptr == '8' ) { ptr ++ ; exp -> type = size8 ; } if ( ptr [ 0 ] == '1' && ptr [ 1 ] == '6' ) { ptr += 2 ; exp -> type = size16 ; } if ( ptr [ 0 ] == '2' && ptr [ 1 ] == '4' ) { ptr += 2 ; exp -> type = size24 ; } else { as_bad ( _ ( "expect :8,:16 or :24" ) ) ; exp -> type = size16 ; } } else { if ( exp -> page == 'p' ) { exp -> type = IMM8 ; } if ( exp -> page == 'h' ) { exp -> type = IMM16 ; } else { int n = exp -> exp . X_add_number ; if ( size8 && exp -> exp . X_op == O_constant && ( ( sign == exp_signed && ( n >= - 128 && n <= 127 ) ) || ( sign == exp_unsigned && ( n >= 0 && ( n <= 255 ) ) ) || ( sign == exp_sandu && ( n >= - 128 && ( n <= 255 ) ) ) ) ) { exp -> type = size8 ; } else { exp -> type = def ; } } } return ptr ; } 