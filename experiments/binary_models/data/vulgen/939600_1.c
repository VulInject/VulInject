add_toggle_button ( , , , , ) { GtkWidget * tool_icon ; GtkToolItem * toggle_tool_button ; gtk_widget_show ( GTK_WIDGET ( tool_icon ) ) ; toggle_tool_button = gtk_toggle_tool_button_new ( ) ; gtk_tool_button_set_icon_widget ( GTK_TOOL_BUTTON ( toggle_tool_button ) , tool_icon ) ; gtk_tool_button_set_label ( GTK_TOOL_BUTTON ( toggle_tool_button ) , label ) ; gtk_widget_show ( GTK_WIDGET ( toggle_tool_button ) ) ; gtk_tool_item_set_tooltip_text ( toggle_tool_button , tooltip ) ; gtk_actionable_set_detailed_action_name ( GTK_ACTIONABLE ( toggle_tool_button ) , action ) ; gtk_toolbar_insert ( GTK_TOOLBAR ( toolbar ) , toggle_tool_button , - 1 ) ; return GTK_WIDGET ( toggle_tool_button ) ; } 