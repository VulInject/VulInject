static void confirm_Bsend ( struct bchannel * bch ) { struct sk_buff * skb ; if ( bch -> rcount >= 64 ) { printk ( KERN_WARNING "B-channel %p receive queue overflow, " "flushing!\n" , bch ) ; skb_queue_purge ( & bch -> rqueue ) ; bch -> rcount = 0 ; } if ( ! skb ) { printk ( KERN_ERR "%s: no skb id %x\n" , __func__ , mISDN_HEAD_ID ( bch -> tx_skb ) ) ; return ; } bch -> rcount ++ ; skb_queue_tail ( & bch -> rqueue , skb ) ; schedule_event ( bch , FLG_RECVQUEUE ) ; } 