void pciehp_queue_pushbutton_work ( struct work_struct * work ) { struct slot * p_slot = container_of ( work , slot , work . work ) ; mutex_lock ( & p_slot -> lock ) ; switch ( p_slot -> state ) { case BLINKINGOFF_STATE : pciehp_queue_power_work ( p_slot , DISABLE_REQ ) ; break ; case BLINKINGON_STATE : pciehp_queue_power_work ( p_slot , ENABLE_REQ ) ; break ; default : break ; } } 