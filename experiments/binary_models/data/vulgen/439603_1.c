static int arn_resume ( dev_info_t * devinfo ) { struct arn_softc * sc ; int ret = DDI_SUCCESS ; if ( sc == NULL ) { ARN_DBG ( ( ARN_DBG_INIT , "ath: ath_resume(): " "failed to get soft state\n" ) ) ; return ( DDI_FAILURE ) ; } ARN_LOCK ( sc ) ; if ( arn_pci_setup ( sc ) != 0 ) { ARN_DBG ( ( ARN_DBG_INIT , "ath: ath_resume(): " "ath_pci_setup() failed\n" ) ) ; ARN_UNLOCK ( sc ) ; return ( DDI_FAILURE ) ; } if ( ! ( sc -> sc_flags & SC_OP_INVALID ) ) { ret = arn_open ( sc ) ; } ARN_UNLOCK ( sc ) ; return ( ret ) ; } 