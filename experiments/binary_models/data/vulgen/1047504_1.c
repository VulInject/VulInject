static void asus_wmi_tablet_sw_init ( struct asus_wmi * asus , u32 dev_id , int event_code ) { struct device * dev = & asus -> platform_device -> dev ; int result ; if ( result >= 0 ) { input_set_capability ( asus -> inputdev , EV_SW , SW_TABLET_MODE ) ; asus_wmi_tablet_sw_report ( asus , result ) ; asus -> tablet_switch_dev_id = dev_id ; asus -> tablet_switch_event_code = event_code ; } if ( result == - ENODEV ) { dev_err ( dev , "This device has tablet-mode-switch quirk but got ENODEV checking it. This is a bug." ) ; } else { dev_err ( dev , "Error checking for tablet-mode-switch: %d\n" , result ) ; } } 