void aws_kinesis_cleanup ( struct instance * instance ) { info ( "EXPORTING: cleaning up instance %s ..." , instance -> config . name ) ; kinesis_shutdown ( instance -> connector_specific_data ) ; freez ( instance -> connector_specific_data ) ; struct aws_kinesis_specific_config * connector_specific_config = instance -> config . connector_specific_config ; if ( connector_specific_config ) { freez ( connector_specific_config -> auth_key_id ) ; freez ( connector_specific_config -> secure_key ) ; freez ( connector_specific_config -> stream_name ) ; } info ( "EXPORTING: instance %s exited" , instance -> config . name ) ; instance -> exited = 1 ; } 