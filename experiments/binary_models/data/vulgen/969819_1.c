int snmpc_mibtree ( int argc , char * argv [ ] ) { struct oid * oid ; struct ber_oid soid ; int i ; if ( argc == 0 ) { for ( oid = NULL ; ( oid = smi_foreach ( oid ) ) != NULL ; ) { smi_oid2string ( & oid -> o_id , buf , sizeof ( buf ) , oid_lookup ) ; printf ( "%s\n" , buf ) ; } } else { for ( i = 0 ; i < argc ; i ++ ) { if ( smi_string2oid ( argv [ i ] , & soid ) == - 1 ) { warnx ( "%s: Unknown object identifier" , argv [ i ] ) ; continue ; } smi_oid2string ( & soid , buf , sizeof ( buf ) , oid_lookup ) ; printf ( "%s\n" , buf ) ; } } return 0 ; } 