gfig_style_save_as_attributes ( , ) { gchar buffer [ G_ASCII_DTOSTR_BUF_SIZE ] ; gchar buffer_r [ G_ASCII_DTOSTR_BUF_SIZE ] ; gchar buffer_g [ G_ASCII_DTOSTR_BUF_SIZE ] ; gchar buffer_b [ G_ASCII_DTOSTR_BUF_SIZE ] ; gchar buffer_a [ G_ASCII_DTOSTR_BUF_SIZE ] ; gint blen = G_ASCII_DTOSTR_BUF_SIZE ; g_string_append_printf ( string , "BrushName=\"%s\" " , gimp_resource_get_id ( GIMP_RESOURCE ( style -> brush ) ) ) ; g_string_append_printf ( string , "Foreground=\"%s %s %s %s\" " , g_ascii_dtostr ( buffer_r , blen , style -> foreground . r ) , g_ascii_dtostr ( buffer_g , blen , style -> foreground . g ) , g_ascii_dtostr ( buffer_b , blen , style -> foreground . b ) , g_ascii_dtostr ( buffer_a , blen , style -> foreground . a ) ) ; g_string_append_printf ( string , "Background=\"%s %s %s %s\" " , g_ascii_dtostr ( buffer_r , blen , style -> background . r ) , g_ascii_dtostr ( buffer_g , blen , style -> background . g ) , g_ascii_dtostr ( buffer_b , blen , style -> background . b ) , g_ascii_dtostr ( buffer_a , blen , style -> background . a ) ) ; g_string_append_printf ( string , "FillType=%d " , style -> fill_type ) ; g_string_append_printf ( string , "PaintType=%d " , style -> paint_type ) ; g_string_append_printf ( string , "FillOpacity=%s " , g_ascii_dtostr ( buffer , blen , style -> fill_opacity ) ) ; } 