static int put_compat_cmd ( struct comedi32_cmd_struct __user * cmd32 , struct comedi_cmd __user * cmd ) { int err ; unsigned int temp ; err = 0 ; err |= __get_user ( temp , & cmd -> subdev ) ; err |= __put_user ( temp , & cmd32 -> subdev ) ; err |= __get_user ( temp , & cmd -> flags ) ; err |= __put_user ( temp , & cmd32 -> flags ) ; err |= __get_user ( temp , & cmd -> start_src ) ; err |= __put_user ( temp , & cmd32 -> start_src ) ; err |= __get_user ( temp , & cmd -> start_arg ) ; err |= __put_user ( temp , & cmd32 -> start_arg ) ; err |= __get_user ( temp , & cmd -> scan_begin_src ) ; err |= __put_user ( temp , & cmd32 -> scan_begin_src ) ; err |= __get_user ( temp , & cmd -> scan_begin_arg ) ; err |= __put_user ( temp , & cmd32 -> scan_begin_arg ) ; err |= __get_user ( temp , & cmd -> convert_src ) ; err |= __put_user ( temp , & cmd32 -> convert_src ) ; err |= __get_user ( temp , & cmd -> convert_arg ) ; err |= __put_user ( temp , & cmd32 -> convert_arg ) ; err |= __get_user ( temp , & cmd -> scan_end_src ) ; err |= __put_user ( temp , & cmd32 -> scan_end_src ) ; err |= __get_user ( temp , & cmd -> scan_end_arg ) ; err |= __put_user ( temp , & cmd32 -> scan_end_arg ) ; err |= __get_user ( temp , & cmd -> stop_src ) ; err |= __put_user ( temp , & cmd32 -> stop_src ) ; err |= __get_user ( temp , & cmd -> stop_arg ) ; err |= __put_user ( temp , & cmd32 -> stop_arg ) ; err |= __get_user ( temp , & cmd -> chanlist_len ) ; err |= __put_user ( temp , & cmd32 -> chanlist_len ) ; err |= __get_user ( temp , & cmd -> data_len ) ; err |= __put_user ( temp , & cmd32 -> data_len ) ; return err ?- EFAULT : 0 ; } 