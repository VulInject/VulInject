static void solaris_setleds ( const char * led_path , int leds ) { i2c_gpio_t gpio ; int fd = open ( led_path , O_RDWR ) ; gpio . reg_val = ( leds ^ 0xff ) ; gpio . reg_mask = 0xffffffff ; if ( ioctl ( fd , GPIO_SET_CONFIG , & gpio ) == 0 ) { gpio . reg_val = ( leds ^ 0xff ) ; gpio . reg_mask = 0xffffffff ; ( void ) ioctl ( fd , GPIO_SET_OUTPUT , & gpio ) ; } ( void ) close ( fd ) ; } 