void ssubscribeCommand ( client * c ) { if ( c -> flags & CLIENT_DENY_BLOCKING ) { addReplyError ( c , "SSUBSCRIBE isn't allowed for a DENY BLOCKING client" ) ; return ; } for ( int j = 1 ; j < c -> argc ; j ++ ) { if ( server . cluster_enabled & ( dictFind ( * pubSubShardType . serverPubSubChannels , c -> argv [ j ] ) == NULL ) ) { slotToChannelAdd ( 0 ) ; } pubsubSubscribeChannel ( c , c -> argv [ j ] , pubSubShardType ) ; } c -> flags |= CLIENT_PUBSUB ; } 