static void compose_report ( const struct simap * usage , struct ds * s ) { const struct simap_node * * nodes = simap_sort ( usage ) ; size_t n = simap_count ( usage ) ; size_t i ; for ( i = 0 ; i < n ; i ++ ) { const struct simap_node * node = nodes [ i ] ; ds_put_format ( s , "%s:%u " , node -> name , node -> data ) ; } ds_chomp ( s , ' ' ) ; } 