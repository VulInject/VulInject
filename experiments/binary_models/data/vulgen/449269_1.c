static struct vfsmount * nfs_do_root_mount ( struct file_system_type * fs_type , int flags , void * data , const char * hostname ) { struct vfsmount * root_mnt ; char * root_devname ; size_t len ; len = strlen ( hostname ) + 5 ; root_devname = kmalloc ( len , GFP_KERNEL ) ; if ( root_devname == NULL ) { return ERR_PTR ( - ENOMEM ) ; } if ( strchr ( hostname , ':' ) ) { snprintf ( root_devname , len , "[%s]:/" , hostname ) ; } else { snprintf ( root_devname , len , "%s:/" , hostname ) ; } root_mnt = vfs_kern_mount ( fs_type , flags , root_devname , data ) ; return root_mnt ; } nfs_referral_count { struct list_head list ; const struct task_struct * task ; unsigned int referral_count ; } 