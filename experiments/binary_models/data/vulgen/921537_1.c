void acpi_ns_get_internal_name_length ( struct acpi_namestring_info * info ) { const char * next_external_char ; u32 i ; ACPI_FUNCTION_ENTRY ( ) ; next_external_char = info -> external_name ; info -> num_carats = 0 ; info -> num_segments = 0 ; info -> fully_qualified = FALSE ; if ( ACPI_IS_ROOT_PREFIX ( * next_external_char ) ) { info -> fully_qualified = TRUE ; next_external_char ++ ; while ( ACPI_IS_ROOT_PREFIX ( * next_external_char ) ) { next_external_char ++ ; } } else { while ( ACPI_IS_PARENT_PREFIX ( * next_external_char ) ) { info -> num_carats ++ ; next_external_char ++ ; } } if ( * next_external_char ) { info -> num_segments = 1 ; for ( i = 0 ; next_external_char [ i ] ; i ++ ) { if ( ACPI_IS_PATH_SEPARATOR ( next_external_char [ i ] ) ) { info -> num_segments ++ ; } } } info -> next_external_char = next_external_char ; } 