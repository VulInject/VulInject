+    if(mem) {
+        free(mem);
+        mem = NULL;
+    }
+    return;
-	free(mem);
