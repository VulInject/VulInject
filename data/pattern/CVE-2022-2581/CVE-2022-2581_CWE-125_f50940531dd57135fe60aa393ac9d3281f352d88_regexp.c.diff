+		int uc = utf_ptr2char(p);
+		if ((uc < 0x80 || uc != *p) && utf_fold(uc) == cc)
-		if (utf_fold(utf_ptr2char(p)) == cc)
